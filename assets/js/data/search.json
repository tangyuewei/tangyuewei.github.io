[

{
"title": "æ¢…èŠ±æ˜“æ•°èµ·å¦",
"url": "/posts/%E6%A2%85%E8%8A%B1%E6%98%93%E6%95%B0%E8%B5%B7%E5%8D%A6/",
"categories": "å‘¨æ˜“",
"tags": "å‘¨æ˜“, å åœ",
"date": "2025-06-15 15:01:00 +0800",







"snippet": "  è®²ä¸€ä¸ªæ¢…èŠ±æ˜“æ•°çš„èµ·å¦è®¡ç®—æµç¨‹ï¼Œå†ç»“åˆä¸€ä¸ªå®é™…æ¡ˆä¾‹ã€‚ğŸŒŸ ä¸€ã€æ¢…èŠ±æ˜“æ•°çš„èµ·å¦è®¡ç®—æµç¨‹ï¼ˆç”¨æ—¶é—´èµ·å¦æ³•ï¼‰æˆ‘ä»¬ç”¨ã€å¹´æœˆæ—¥æ—¶ã€‘çš„æ•°å­—æ¥èµ·å¦ã€‚  å‡†å¤‡ï¼šè®°å½•å½“å‰æ—¶é—´æ¯”å¦‚ä½ ç°åœ¨æƒ³èµ·ä¸€å¦ï¼Œè®°å½•å½“å‰æ—¶é—´å¦‚ä¸‹ï¼ˆå‡è®¾ï¼‰ï¼š          å¹´ï¼š2025å¹´      æœˆï¼š6æœˆ      æ—¥ï¼š13æ—¥      æ—¶è¾°ï¼š13ç‚¹ï¼ˆåˆå1ç‚¹ï¼Œå¯¹åº”åœ°æ”¯â€œæœªâ€ï¼Œæœª=8ï¼‰        è®¡ç®—ä¸‰ä¸ªå…³é”®æ•°å­—ğŸ”¹ æ•°å­—â‘ ï¼ˆä¸Šå¦ï¼‰ç”¨ï¼šå¹´ ...",
"content": "  è®²ä¸€ä¸ªæ¢…èŠ±æ˜“æ•°çš„èµ·å¦è®¡ç®—æµç¨‹ï¼Œå†ç»“åˆä¸€ä¸ªå®é™…æ¡ˆä¾‹ã€‚ğŸŒŸ ä¸€ã€æ¢…èŠ±æ˜“æ•°çš„èµ·å¦è®¡ç®—æµç¨‹ï¼ˆç”¨æ—¶é—´èµ·å¦æ³•ï¼‰æˆ‘ä»¬ç”¨ã€å¹´æœˆæ—¥æ—¶ã€‘çš„æ•°å­—æ¥èµ·å¦ã€‚  å‡†å¤‡ï¼šè®°å½•å½“å‰æ—¶é—´æ¯”å¦‚ä½ ç°åœ¨æƒ³èµ·ä¸€å¦ï¼Œè®°å½•å½“å‰æ—¶é—´å¦‚ä¸‹ï¼ˆå‡è®¾ï¼‰ï¼š          å¹´ï¼š2025å¹´      æœˆï¼š6æœˆ      æ—¥ï¼š13æ—¥      æ—¶è¾°ï¼š13ç‚¹ï¼ˆåˆå1ç‚¹ï¼Œå¯¹åº”åœ°æ”¯â€œæœªâ€ï¼Œæœª=8ï¼‰        è®¡ç®—ä¸‰ä¸ªå…³é”®æ•°å­—ğŸ”¹ æ•°å­—â‘ ï¼ˆä¸Šå¦ï¼‰ç”¨ï¼šå¹´ + æœˆ + æ—¥= 2025 + 6 + 13 = 2044å°†2044é™¤ä»¥8ï¼Œå–ä½™æ•°ï¼š2044 Ã· 8 = 255 ä½™ 4ğŸ‘‰ ä¸Šå¦ = ç¬¬4å¦ï¼ˆéœ‡å¦ â˜³ï¼‰ğŸ”¹ æ•°å­—â‘¡ï¼ˆä¸‹å¦ï¼‰ç”¨ï¼šæœˆ + æ—¥ + æ—¶è¾°åœ°æ”¯æ•°= 6 + 13 + 8 = 2727 Ã· 8 = 3 ä½™ 3ğŸ‘‰ ä¸‹å¦ = ç¬¬3å¦ï¼ˆç¦»å¦ â˜²ï¼‰ğŸ”¹ æ•°å­—â‘¢ï¼ˆåŠ¨çˆ»ï¼‰ç”¨ï¼šå¹´ + æœˆ + æ—¥ + æ—¶è¾°= 2025 + 6 + 13 + 8 = 20522052 Ã· 6 = 342 ä½™ 0ğŸ‘‰ è‹¥ä½™0ï¼Œåˆ™åŠ¨çˆ»ä¸ºç¬¬6çˆ»ï¼ˆä»ä¸‹å¾€ä¸Šæ•°ç¬¬6æ¡çº¿åŠ¨ï¼‰  å¾—åˆ°ä¸»å¦ + åŠ¨çˆ»ä¸Šå¦ï¼šéœ‡ â˜³ä¸‹å¦ï¼šç¦» â˜²â†’ åˆæˆä¸»å¦ä¸ºï¼šç«é›·å™¬å—‘ï¼ˆå¦åº21ï¼‰ç¬¬6çˆ»åŠ¨ â†’ å˜å¦æŸ¥ã€Šæ˜“ç»ã€‹å¾—çŸ¥ï¼š          ä¸»å¦ï¼šç«é›·å™¬å—‘ï¼ˆæœ‰å’¬åˆã€çªç ´ã€å¤„ç†çº çº·çš„æ„æ€ï¼‰      ç¬¬å…­çˆ»åŠ¨ï¼Œçˆ»è¾æ˜¯ï¼šâ€œå§¤å…¶è§’ï¼Œåï¼Œæ— å’ã€‚â€      å˜å¦ï¼šå› ç¬¬å…­çˆ»åŠ¨ï¼Œå°†ç«é›·å™¬å—‘çš„ç¬¬å…­çˆ»ï¼ˆé˜³å˜é˜´ï¼‰â†’ å¾—åˆ°å˜å¦ä¸ºï¼šç«é›·å™¬å—‘ å˜ä¸º ç«é›·å¤§å£®      ğŸ§© äºŒã€å®é™…æ¡ˆä¾‹è§£æğŸŒŸ é—®é¢˜ï¼šæˆ‘ç°åœ¨è€ƒè™‘æ˜¯å¦åº”è¯¥æ¢å·¥ä½œï¼Œèƒ½ä¸èƒ½é¡ºåˆ©ï¼Ÿæˆ‘ä»¬ç”¨ä¸Šé¢èµ·å‡ºæ¥çš„å¦æ¥è§£ï¼š  ä¸»å¦ï¼šç«é›·å™¬å—‘ï¼ˆè±¡å¾æœ‰é—®é¢˜éœ€è¦å¤„ç†ã€å’¬åˆä¹‹è±¡ï¼‰  å˜å¦ï¼šç«é›·å¤§å£®ï¼ˆå¤§å£®è€…ï¼Œå¤§æœ‰ä½œä¸ºï¼Œæœ‰è¡ŒåŠ¨åŠ›ï¼‰ğŸ” è§£å¦åˆ†æï¼š      å¦æ„ï¼šå™¬å—‘å¦æœ¬ä¹‰æ˜¯â€œå’¬åˆâ€ï¼Œè±¡å¾å½“å‰ä½ æ‰€å¤„çš„èŒåœºæœ‰é˜»åŠ›æˆ–é—®é¢˜ï¼Œéœ€è¦å¤„ç†ã€‚å¯èƒ½æœ‰èŒåœºå†²çªã€å‘å±•å—é™ã€å†…éƒ¨æ‘©æ“¦ç­‰ã€‚        åŠ¨çˆ»åœ¨ç¬¬å…­çˆ»ï¼ˆé¡¶ç«¯ï¼‰ï¼šä»£è¡¨é—®é¢˜å·²ç»åˆ°äº†â€œå¤´â€ï¼Œæˆ–è€…ä½ å·²ç»è€ƒè™‘å¾ˆä¹…äº†ï¼Œæœ‰å¼ºçƒˆè¡ŒåŠ¨æ¬²æœ›ã€‚ä½†å…­çˆ»åŠ¨ï¼Œä¹Ÿæš—ç¤ºè¿‡åˆšæ˜“æŠ˜ï¼Œè¦æ…é‡ã€‚        å˜å¦â€œå¤§å£®â€ ï¼šæ„å‘³ç€ï¼šè‹¥èƒ½å¦¥å–„å¤„ç†è½¬æ¢è¿‡ç¨‹ï¼Œæœ‰å¾ˆå¤§æœºä¼šæˆåŠŸï¼Œä½†è¦æ³¨æ„æ–¹å¼æ–¹æ³•ï¼Œä¸å¯é²è½ï¼Œå¦åˆ™ä¼šå¸¦æ¥å‹åŠ›ã€‚  ç»“è®ºï¼šç›®å‰æ¢å·¥ä½œçš„æ„å›¾å·²ç»æˆç†Ÿï¼Œé—®é¢˜ç§¯ç´¯è¾ƒå¤šï¼›å¦‚æœä½ åšå¥½äº†å‡†å¤‡ï¼Œå¹¶é‡‡å–æœ‰èŠ‚åˆ¶ã€æœ‰ç­–ç•¥çš„è¡ŒåŠ¨ï¼Œæ¢å·¥ä½œæ˜¯å¯è¡Œå¹¶å¯èƒ½æˆåŠŸçš„ã€‚ä½†åˆ‡å¿Œå†²åŠ¨ï¼Œè¦æå‰è§„åˆ’è¿‡æ¸¡æœŸã€ç»æµã€æŠ€èƒ½åŒ¹é…ã€‚ğŸ“ æ€»ç»“æ­¥éª¤å†…å®¹ï¼šè®°å½•æ—¶é—´å¹´æœˆæ—¥æ—¶è¾°ä¸‰æ¬¡å–ä½™æ•°å¾—ä¸Šå¦ã€ä¸‹å¦ã€åŠ¨çˆ»æŸ¥ä¸»å¦ï¼Œé€šè¿‡å…«å¦å¯¹åº”å…³ç³»æŸ¥å¾—å…­åå››å¦è§£åŠ¨çˆ»æŸ¥åŠ¨çˆ»çˆ»è¾ï¼Œå¾—å˜å¦ç»¼åˆè§£å¦è§£è¯»ä¸»å¦ + åŠ¨çˆ» + å˜å¦æ¥ä¸€å¦å§"
},

{
"title": "å åœå åœ",
"url": "/posts/%E5%8D%A0%E5%8D%9C%E5%8D%A0%E5%8D%9C/",
"categories": "å‘¨æ˜“",
"tags": "å‘¨æ˜“, å åœ",
"date": "2025-06-14 10:20:00 +0800",







"snippet": "å¤äººä¸€èˆ¬ä»€ä¹ˆæ—¶å€™å åœï¼Ÿå¤ä»£ä¸­å›½å åœçš„æ—¶é—´å’Œåœºåˆå¤šç§å¤šæ ·ï¼Œä¸»è¦åŒ…æ‹¬ï¼š  é‡å¤§å†³ç­–ä¹‹å‰  æ¯”å¦‚å‡ºå¾æ‰“ä»—ã€è¿å¾™å®šå±…ã€å»ºé€ æˆ¿å±‹ã€ç»“å©šã€ç”Ÿå­ç­‰ï¼Œéƒ½ä¼šå…ˆå åœï¼Œçœ‹çœ‹å‰å‡¶ã€‚  å¤ä»£å¸ç‹å’Œå°†å†›å¸¸åœ¨æˆ˜äº‰æˆ–å›½å®¶å¤§äº‹å‰è¯·åœå®˜å åœã€‚  èŠ‚ä»¤èŠ‚æ°”æ—¶  æœ‰äº›ç‰¹å®šèŠ‚æ—¥æˆ–èŠ‚æ°”ï¼Œç¥­ç¥€æ´»åŠ¨å¤šï¼Œé€šå¸¸ä¹Ÿä¼šå åœï¼Œç¥ˆæ±‚é£è°ƒé›¨é¡ºã€äº”è°·ä¸°ç™»ã€‚  é‡åˆ°ç–‘éš¾äº‹æƒ…æˆ–ä¸é¡ºæ—¶  é­é‡ç¾éš¾ã€ç–¾ç—…ã€å®¶åº­çŸ›ç›¾æ—¶ï¼Œæ°‘é—´ä¹Ÿä¼šæ±‚ç¥é—®åœï¼Œå¯»æ‰¾åŒ–è§£åŠæ³•ã€‚  æ—¥å¸¸å°äº‹...",
"content": "å¤äººä¸€èˆ¬ä»€ä¹ˆæ—¶å€™å åœï¼Ÿå¤ä»£ä¸­å›½å åœçš„æ—¶é—´å’Œåœºåˆå¤šç§å¤šæ ·ï¼Œä¸»è¦åŒ…æ‹¬ï¼š  é‡å¤§å†³ç­–ä¹‹å‰  æ¯”å¦‚å‡ºå¾æ‰“ä»—ã€è¿å¾™å®šå±…ã€å»ºé€ æˆ¿å±‹ã€ç»“å©šã€ç”Ÿå­ç­‰ï¼Œéƒ½ä¼šå…ˆå åœï¼Œçœ‹çœ‹å‰å‡¶ã€‚  å¤ä»£å¸ç‹å’Œå°†å†›å¸¸åœ¨æˆ˜äº‰æˆ–å›½å®¶å¤§äº‹å‰è¯·åœå®˜å åœã€‚  èŠ‚ä»¤èŠ‚æ°”æ—¶  æœ‰äº›ç‰¹å®šèŠ‚æ—¥æˆ–èŠ‚æ°”ï¼Œç¥­ç¥€æ´»åŠ¨å¤šï¼Œé€šå¸¸ä¹Ÿä¼šå åœï¼Œç¥ˆæ±‚é£è°ƒé›¨é¡ºã€äº”è°·ä¸°ç™»ã€‚  é‡åˆ°ç–‘éš¾äº‹æƒ…æˆ–ä¸é¡ºæ—¶  é­é‡ç¾éš¾ã€ç–¾ç—…ã€å®¶åº­çŸ›ç›¾æ—¶ï¼Œæ°‘é—´ä¹Ÿä¼šæ±‚ç¥é—®åœï¼Œå¯»æ‰¾åŒ–è§£åŠæ³•ã€‚  æ—¥å¸¸å°äº‹  æœ‰äº›äººä¼šåœ¨å¹³å¸¸æ—¥å­é‡Œå åœï¼Œæ¯”å¦‚é—®é—®ä»Šå¤©æ˜¯å¦é€‚åˆå‡ºé—¨ã€åšæŸä»¶äº‹ã€‚å åœæ–¹æ³•æ°‘é—´å¹¿æ³›æµä¼ å„ç§å åœæ–¹æ³•ï¼Œå¦‚ï¼š  å…­çˆ»å åœ  æ¢…èŠ±æ˜“æ•°  å¥‡é—¨éç”²  å¤ªä¹™ç¥æ•°  å‘¨æ˜“å¦è±¡  æ‰‹ç›¸ã€é¢ç›¸æ¥ä¸€å¦å§"
},

{
"title": "ESæŸ¥è¯¢æ—¶ç´¢å¼•å»¶è¿Ÿæˆ–æ›´æ–°å¯¼è‡´æ•°æ®ä¸ä¸€è‡´",
"url": "/posts/ES%E6%9F%A5%E8%AF%A2%E6%97%B6%E7%B4%A2%E5%BC%95%E5%BB%B6%E8%BF%9F%E6%88%96%E6%9B%B4%E6%96%B0%E5%AF%BC%E8%87%B4%E6%95%B0%E6%8D%AE%E4%B8%8D%E4%B8%80%E8%87%B4/",
"categories": "å¸¸ç”¨æ¡†æ¶",
"tags": "Elasticsearch, ES",
"date": "2024-05-10 08:34:00 +0800",







"snippet": "ESæŸ¥è¯¢æ—¶ç´¢å¼•å»¶è¿Ÿæˆ–æ›´æ–°å¯¼è‡´æ•°æ®ä¸ä¸€è‡´  å½“æ•°æ®æ›´æ–°æ¯”è¾ƒé¢‘ç¹æ—¶ï¼Œæˆ‘ä»¬çŸ­æ—¶é—´å†…ä½¿ç”¨ç›¸åŒçš„æŸ¥è¯¢æ¡ä»¶ï¼Œå¾—åˆ°çš„ç»“æœå’Œè®°å½•æ•°å´ä¸åŒã€‚å®é™…çš„ä¸šåŠ¡è¦æ±‚æŸ¥è¯¢çš„ç»“æœä¸€è‡´ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›è§£å†³åŠæ³•ã€‚é—®é¢˜å¯èƒ½æ˜¯ç”±äºElasticsearchçš„ç´¢å¼•å»¶è¿Ÿæˆ–æ›´æ–°é€ æˆçš„ã€‚å¯ä»¥è€ƒè™‘ä»¥ä¸‹æ­¥éª¤æ¥è§£å†³ï¼š  æ£€æŸ¥ç´¢å¼•åˆ·æ–°ç‡ï¼šç¡®ä¿ç´¢å¼•çš„åˆ·æ–°ç‡è®¾ç½®åˆç†ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒElasticsearchæ¯ç§’åˆ·æ–°ä¸€æ¬¡ï¼Œä½†æ ¹æ®éœ€è¦å¯èƒ½éœ€è¦è°ƒæ•´ã€‚  ä½¿ç”¨se...",
"content": "ESæŸ¥è¯¢æ—¶ç´¢å¼•å»¶è¿Ÿæˆ–æ›´æ–°å¯¼è‡´æ•°æ®ä¸ä¸€è‡´  å½“æ•°æ®æ›´æ–°æ¯”è¾ƒé¢‘ç¹æ—¶ï¼Œæˆ‘ä»¬çŸ­æ—¶é—´å†…ä½¿ç”¨ç›¸åŒçš„æŸ¥è¯¢æ¡ä»¶ï¼Œå¾—åˆ°çš„ç»“æœå’Œè®°å½•æ•°å´ä¸åŒã€‚å®é™…çš„ä¸šåŠ¡è¦æ±‚æŸ¥è¯¢çš„ç»“æœä¸€è‡´ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›è§£å†³åŠæ³•ã€‚é—®é¢˜å¯èƒ½æ˜¯ç”±äºElasticsearchçš„ç´¢å¼•å»¶è¿Ÿæˆ–æ›´æ–°é€ æˆçš„ã€‚å¯ä»¥è€ƒè™‘ä»¥ä¸‹æ­¥éª¤æ¥è§£å†³ï¼š  æ£€æŸ¥ç´¢å¼•åˆ·æ–°ç‡ï¼šç¡®ä¿ç´¢å¼•çš„åˆ·æ–°ç‡è®¾ç½®åˆç†ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒElasticsearchæ¯ç§’åˆ·æ–°ä¸€æ¬¡ï¼Œä½†æ ¹æ®éœ€è¦å¯èƒ½éœ€è¦è°ƒæ•´ã€‚  ä½¿ç”¨search_type=dfs_query_then_fetchï¼šè¿™ç¡®ä¿æŸ¥è¯¢ä½¿ç”¨å…¨å±€è¯é¢‘ï¼Œæœ‰åŠ©äºæé«˜ç»“æœçš„ä¸€è‡´æ€§ã€‚  ä½¿ç”¨æ—¶é—´ç‚¹ï¼ˆPITï¼‰ï¼šä¸ºäº†åœ¨æŸ¥è¯¢ä¹‹é—´ä¿æŒç»“æœçš„ä¸€è‡´æ€§ï¼Œå¯ä»¥ä½¿ç”¨PITæ¥ä¿æŒç´¢å¼•çš„å¿«ç…§ã€‚  æ£€æŸ¥ç´¢å¼•å¥åº·ï¼šç¡®ä¿æ²¡æœ‰æ­£åœ¨è¿›è¡Œçš„ç´¢å¼•æ“ä½œæˆ–é—®é¢˜å½±å“æŸ¥è¯¢ç»“æœã€‚æœ¬æ–‡è¯´ä¸‹2å’Œ3æ–¹æ¡ˆ    ä½¿ç”¨ search_type=dfs_query_then_fetch    è§£é‡Šï¼šsearch_type=dfs_query_then_fetch æ˜¯ Elasticsearch çš„ä¸€ç§æœç´¢æ¨¡å¼ï¼Œç”¨äºæé«˜æŸ¥è¯¢çš„å‡†ç¡®æ€§ã€‚åœ¨é»˜è®¤çš„ query_then_fetch æ¨¡å¼ä¸­ï¼ŒæŸ¥è¯¢æ˜¯æŒ‰åˆ†ç‰‡è¿›è¡Œçš„ï¼Œæ¯ä¸ªåˆ†ç‰‡ç‹¬ç«‹è®¡ç®—æ–‡æ¡£é¢‘ç‡ï¼Œç„¶åå°†ç»“æœåˆå¹¶ã€‚ä½†è¿™å¯èƒ½ä¼šå¯¼è‡´åœ¨é¢‘ç¹æ›´æ–°çš„æƒ…å†µä¸‹ç»“æœçš„ä¸ä¸€è‡´ã€‚dfs_query_then_fetch æ¨¡å¼é¦–å…ˆåœ¨æ‰€æœ‰åˆ†ç‰‡ä¸Šè®¡ç®—å…¨å±€è¯é¢‘ï¼ˆDocument Frequencyï¼‰ï¼Œç„¶åæ‰§è¡ŒæŸ¥è¯¢å’Œæ’åºã€‚è¿™ä½¿å¾—æŸ¥è¯¢å’Œæ’åºåŸºäºå…¨å±€çš„è¯é¢‘ä¿¡æ¯ï¼Œä»è€Œæä¾›æ›´ä¸€è‡´çš„æŸ¥è¯¢ç»“æœã€‚  ä½¿ç”¨æ–¹æ³•ï¼šåœ¨æŸ¥è¯¢è¯·æ±‚ä¸­ï¼Œä½ å¯ä»¥æ·»åŠ search_type=dfs_query_then_fetchå‚æ•°ã€‚ä¾‹å¦‚ï¼šGET /your_index/_search?search_type=dfs_query_then_fetch{  \"query\": {    \"bool\": {      \"must\": [        {          \"range\": {            \"time\": {              \"from\": \"2024-08-14 08:00:00\",              \"to\": \"2024-08-15 08:00:00\"            }          }        },        {          \"term\": {            \"fileds1\": \"xxx\"          }        },        {          \"term\": {            \"fileds2\": \"xx\"          }        }      ]    }  },  \"size\": 0,  \"aggs\": {    \"xsd_count\": {      \"terms\": {        \"field\": \"fileds1\",  //æ ¹æ®fileds1å»é‡æŸ¥è¯¢top5        \"size\": 5      }    },    \"xsd_total\": {      \"cardinality\": {        \"field\": \"fileds1\" //æ ¹æ®fileds1å»é‡æŸ¥è¯¢æ€»æ•°      }    }  }}ä½¿ç”¨æ—¶é—´ç‚¹ï¼ˆPITï¼‰è§£é‡Šï¼šæ—¶é—´ç‚¹ï¼ˆPoint in Time, PITï¼‰æ˜¯ä¸€ç§åœ¨ Elasticsearch ä¸­è·å–ä¸€è‡´æŸ¥è¯¢ç»“æœçš„æœºåˆ¶ã€‚ä½¿ç”¨ PIT å¯ä»¥åœ¨ä¸€ä¸ªå›ºå®šçš„ç´¢å¼•å¿«ç…§ä¸Šæ‰§è¡Œå¤šä¸ªæŸ¥è¯¢ï¼Œç¡®ä¿æŸ¥è¯¢ç»“æœåœ¨æ•´ä¸ª PIT ç”Ÿå‘½å‘¨æœŸå†…çš„ä¸€è‡´æ€§ã€‚PIT çš„ä¸»è¦ä¼˜ç‚¹æ˜¯å®ƒå…è®¸åœ¨ä¸€ä¸ªå›ºå®šçš„æ—¶é—´ç‚¹å¿«ç…§ä¸Šè¿›è¡Œå¤šæ¬¡æŸ¥è¯¢ï¼Œè¿™æ ·å³ä½¿ç´¢å¼•åœ¨æŸ¥è¯¢æœŸé—´å‘ç”Ÿäº†å˜åŒ–ï¼ŒæŸ¥è¯¢ç»“æœä¾ç„¶ä¼šä¿æŒä¸€è‡´ã€‚(æ•°æ®å¿«ç…§)ä½¿ç”¨æ–¹æ³•ï¼š      åˆ›å»º PITé¦–å…ˆï¼Œä½ éœ€è¦åˆ›å»ºä¸€ä¸ª PITã€‚å‘é€ä¸€ä¸ª POST è¯·æ±‚åˆ° _pit æ¥å£ä»¥åˆ›å»º PITï¼Œä¾‹å¦‚ï¼šPOST /_pit?keep_alive=1mè¿™å°†è¿”å›ä¸€ä¸ª PIT IDï¼Œä½ å¯ä»¥åœ¨åç»­æŸ¥è¯¢ä¸­ä½¿ç”¨å®ƒã€‚    ä½¿ç”¨ PIT æ‰§è¡ŒæŸ¥è¯¢ï¼šåœ¨æŸ¥è¯¢è¯·æ±‚ä¸­ï¼Œæ·»åŠ  pit å‚æ•°å’Œ PIT IDï¼Œä¾‹å¦‚ï¼š    GET /_search{  \"pit\":{\"id\":\"your_pit_id\",\"keep_alive\":\"1m\"},  \"query\":{ \"bool\":{     \"must\":[{         \"range\":{\"time\":{\"from\":\"2024-08-14 08:00:00\",\"to\":\"2024-08-15 08:00:59\"}}             }]         }  }}        å…³é—­ PITï¼šæŸ¥è¯¢å®Œæˆåï¼Œä½ å¯ä»¥å…³é—­ PIT ä»¥é‡Šæ”¾èµ„æºï¼Œä¾‹å¦‚ï¼šDELETE /_pit?id=your_pit_idåœ¨PIT idé”™è¯¯ä¼šè¿”å›é”™è¯¯ï¼š{    \"error\": {        \"root_cause\": [            {                \"type\": \"illegal_argument_exception\",                \"reason\": \"java.io.EOFException\"            }        ],        \"type\": \"illegal_argument_exception\",        \"reason\": \"java.io.EOFException\",        \"caused_by\": {            \"type\": \"e_o_f_exception\",            \"reason\": null        }    },    \"status\": 400}PIT idè¶…è¿‡æ—¶é—´è¿‡æœŸåè¿”å›é”™è¯¯ï¼š{    \"error\": {    \"root_cause\": [        {                \"type\": \"search_context_missing_exception\",                \"reason\": \"No search context found for id [4635252]\"        }],    \"phase\": \"query\",    \"grouped\": true,    \"failed_shards\": [        {            \"shard\": 0,            \"index\": \"index-2022\",            \"node\": \"4sIEuxxxxxxxxxx\",            \"reason\": {                \"type\": \"search_context_missing_exception\",                \"reason\": \"No search context found for id [12345678]\"            }        }],    \"status\": 404    }}"
},

{
"title": "æ·±å…¥æµ…å‡º Netty",
"url": "/posts/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA-Netty/",
"categories": "å¸¸ç”¨æ¡†æ¶",
"tags": "Netty",
"date": "2024-04-22 16:34:00 +0800",







"snippet": "Nettyï¼šJava é«˜æ€§èƒ½ç½‘ç»œç¼–ç¨‹æ¡†æ¶1. å¼•è¨€Netty æ˜¯ä¸€ä¸ªåŸºäº Java çš„é«˜æ€§èƒ½ç½‘ç»œç¼–ç¨‹æ¡†æ¶ï¼Œå¹¿æ³›åº”ç”¨äºé«˜å¹¶å‘ã€å¤§è§„æ¨¡çš„åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ã€‚å®ƒæä¾›äº†å¼‚æ­¥äº‹ä»¶é©±åŠ¨çš„ç½‘ç»œåº”ç”¨æ¡†æ¶å’Œå·¥å…·ï¼Œç®€åŒ–äº†ç½‘ç»œç¼–ç¨‹çš„å¤æ‚æ€§ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç» Netty çš„æ ¸å¿ƒæ¦‚å¿µã€å…³é”®ç»„ä»¶å’ŒåŸºæœ¬ä½¿ç”¨æ–¹æ³•ï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€Ÿä¸Šæ‰‹å¹¶æŒæ¡è¿™é—¨æŠ€æœ¯ã€‚2. Netty çš„æ ¸å¿ƒæ¦‚å¿µ2.1 ChannelChannel æ˜¯ Netty æ•°...",
"content": "Nettyï¼šJava é«˜æ€§èƒ½ç½‘ç»œç¼–ç¨‹æ¡†æ¶1. å¼•è¨€Netty æ˜¯ä¸€ä¸ªåŸºäº Java çš„é«˜æ€§èƒ½ç½‘ç»œç¼–ç¨‹æ¡†æ¶ï¼Œå¹¿æ³›åº”ç”¨äºé«˜å¹¶å‘ã€å¤§è§„æ¨¡çš„åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ã€‚å®ƒæä¾›äº†å¼‚æ­¥äº‹ä»¶é©±åŠ¨çš„ç½‘ç»œåº”ç”¨æ¡†æ¶å’Œå·¥å…·ï¼Œç®€åŒ–äº†ç½‘ç»œç¼–ç¨‹çš„å¤æ‚æ€§ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç» Netty çš„æ ¸å¿ƒæ¦‚å¿µã€å…³é”®ç»„ä»¶å’ŒåŸºæœ¬ä½¿ç”¨æ–¹æ³•ï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€Ÿä¸Šæ‰‹å¹¶æŒæ¡è¿™é—¨æŠ€æœ¯ã€‚2. Netty çš„æ ¸å¿ƒæ¦‚å¿µ2.1 ChannelChannel æ˜¯ Netty æ•°æ®ä¼ è¾“çš„åŸºæœ¬æŠ½è±¡ï¼Œå®ƒä»£è¡¨ä¸€ä¸ªæ‰“å¼€çš„è¿æ¥ï¼ˆå¯ä»¥æ˜¯ TCP è¿æ¥ã€UDP è¿æ¥æˆ–æ–‡ä»¶ï¼‰ã€‚å®ƒæä¾›äº†å¼‚æ­¥çš„è¯»å†™æ“ä½œï¼Œå¹¶ä¸”è¿™äº›æ“ä½œéƒ½è¿”å› ChannelFuture å¯¹è±¡ï¼Œç”¨äºåœ¨æ“ä½œå®Œæˆæ—¶é€šçŸ¥åº”ç”¨ç¨‹åºã€‚2.2 EventLoopEventLoop æ˜¯ä¸€ä¸ªå¤„ç† I/O æ“ä½œçš„å¾ªç¯ã€‚æ¯ä¸ª Channel éƒ½ä¼šç»‘å®šä¸€ä¸ª EventLoopï¼Œè´Ÿè´£å¤„ç†è¯¥ Channel çš„æ‰€æœ‰äº‹ä»¶ã€‚EventLoop è´Ÿè´£ç®¡ç†ä¸€ä¸ªæˆ–å¤šä¸ª Channel çš„ I/O æ“ä½œã€‚2.3 ChannelHandlerChannelHandler æ˜¯å¤„ç† I/O äº‹ä»¶æˆ–æ‹¦æˆª I/O æ“ä½œçš„æ ¸å¿ƒæ¥å£ã€‚å®ƒåŒ…æ‹¬ä¸¤ç±»ä¸»è¦å®ç°ï¼š  ChannelInboundHandlerï¼šå¤„ç†å…¥ç«™ I/O äº‹ä»¶ã€‚  ChannelOutboundHandlerï¼šå¤„ç†å‡ºç«™ I/O æ“ä½œã€‚2.4 ChannelPipelineChannelPipeline æ˜¯ä¸€ä¸ª ChannelHandler é“¾ï¼Œç”¨äºæ‹¦æˆªå’Œå¤„ç†æ‰€æœ‰çš„ I/O äº‹ä»¶ã€‚æ¯ä¸ª Channel éƒ½æœ‰ä¸€ä¸ª ChannelPipelineï¼Œå®ƒè´Ÿè´£ç®¡ç†å’Œè°ƒç”¨ ChannelHandler é“¾ä¸­çš„å„ä¸ªå¤„ç†å™¨ã€‚3. Netty çš„å…³é”®ç»„ä»¶3.1 Bootstrap å’Œ ServerBootstrap  Bootstrapï¼šç”¨äºå¼•å¯¼å®¢æˆ·ç«¯ã€‚  ServerBootstrapï¼šç”¨äºå¼•å¯¼æœåŠ¡å™¨ã€‚å®ƒä»¬è´Ÿè´£é…ç½® Channel å’Œå…¶ä»–ç›¸å…³å‚æ•°ã€‚3.2 NioEventLoopGroupNioEventLoopGroup æ˜¯ EventLoopGroup çš„å®ç°ï¼Œç”¨äºå¤„ç† I/O æ“ä½œã€‚å®ƒåŒ…å«ä¸€ç»„ NioEventLoopï¼Œæ¯ä¸ª NioEventLoop åœ¨ç‹¬ç«‹çš„çº¿ç¨‹ä¸­è¿è¡Œã€‚4. Netty çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ Netty æœåŠ¡å™¨ç¤ºä¾‹ä»£ç ï¼šimport io.netty.bootstrap.ServerBootstrap;import io.netty.channel.ChannelFuture;import io.netty.channel.ChannelInitializer;import io.netty.channel.ChannelOption;import io.netty.channel.EventLoopGroup;import io.netty.channel.nio.NioEventLoopGroup;import io.netty.channel.socket.SocketChannel;import io.netty.channel.socket.nio.NioServerSocketChannel;import io.netty.handler.codec.string.StringDecoder;import io.netty.handler.codec.string.StringEncoder;import io.netty.handler.logging.LogLevel;import io.netty.handler.logging.LoggingHandler;public class NettyServer {    private final int port;    public NettyServer(int port) {        this.port = port;    }    public void start() throws Exception {        EventLoopGroup bossGroup = new NioEventLoopGroup(1);        EventLoopGroup workerGroup = new NioEventLoopGroup();        try {            ServerBootstrap b = new ServerBootstrap();            b.group(bossGroup, workerGroup)             .channel(NioServerSocketChannel.class)             .option(ChannelOption.SO_BACKLOG, 100)             .handler(new LoggingHandler(LogLevel.INFO))             .childHandler(new ChannelInitializer&lt;SocketChannel&gt;() {                 @Override                 public void initChannel(SocketChannel ch) {                     ch.pipeline().addLast(new StringDecoder());                     ch.pipeline().addLast(new StringEncoder());                     ch.pipeline().addLast(new SimpleChannelHandler());                 }             });            ChannelFuture f = b.bind(port).sync();            f.channel().closeFuture().sync();        } finally {            bossGroup.shutdownGracefully();            workerGroup.shutdownGracefully();        }    }    public static void main(String[] args) throws Exception {        new NettyServer(8080).start();    }}class SimpleChannelHandler extends io.netty.channel.ChannelInboundHandlerAdapter {    @Override    public void channelRead(io.netty.channel.ChannelHandlerContext ctx, Object msg) {        String message = (String) msg;        System.out.println(\"Received message: \" + message);        ctx.writeAndFlush(\"Echo: \" + message);    }    @Override    public void exceptionCaught(io.netty.channel.ChannelHandlerContext ctx, Throwable cause) {        cause.printStackTrace();        ctx.close();    }}5. ç»“è®ºNetty ä½œä¸ºä¸€ä¸ªå¼ºå¤§çš„å¼‚æ­¥äº‹ä»¶é©±åŠ¨çš„ç½‘ç»œæ¡†æ¶ï¼Œç®€åŒ–äº† Java ç½‘ç»œç¼–ç¨‹çš„å¤æ‚æ€§ï¼Œæé«˜äº†å¼€å‘æ•ˆç‡ã€‚é€šè¿‡ç†è§£å…¶æ ¸å¿ƒæ¦‚å¿µå’Œå…³é”®ç»„ä»¶ï¼Œå¼€å‘è€…å¯ä»¥æ„å»ºé«˜æ€§èƒ½çš„ç½‘ç»œåº”ç”¨ç¨‹åºã€‚å¸Œæœ›æœ¬æ–‡å¯¹æ‚¨äº†è§£å’Œä½¿ç”¨ Netty æœ‰æ‰€å¸®åŠ©ã€‚å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºã€‚Happy Coding!"
},

{
"title": "Netty å­¦ä¹ ä¸ä½¿ç”¨",
"url": "/posts/Netty%E5%AD%A6%E4%B9%A0%E4%B8%8E%E4%BD%BF%E7%94%A8/",
"categories": "å¸¸ç”¨æ¡†æ¶",
"tags": "Netty",
"date": "2024-04-19 11:20:00 +0800",







"snippet": "æ¦‚è¿°  nettyæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„socketæ¡†æ¶ã€‚æºç   https://github.com/netty/nettyå¿«é€Ÿå…¥é—¨    &lt;build&gt;        &lt;plugins&gt;            &lt;!--ã€å¿…ç”¨æ’ä»¶ã€‘ç”¨äºè®¾ç½®é¡¹ç›®jdkç‰ˆæœ¬--&gt;            &lt;plugin&gt;                &lt;groupI...",
"content": "æ¦‚è¿°  nettyæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„socketæ¡†æ¶ã€‚æºç   https://github.com/netty/nettyå¿«é€Ÿå…¥é—¨    &lt;build&gt;        &lt;plugins&gt;            &lt;!--ã€å¿…ç”¨æ’ä»¶ã€‘ç”¨äºè®¾ç½®é¡¹ç›®jdkç‰ˆæœ¬--&gt;            &lt;plugin&gt;                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;                &lt;version&gt;3.8.1&lt;/version&gt;                &lt;configuration&gt;                    &lt;source&gt;8&lt;/source&gt;                    &lt;target&gt;8&lt;/target&gt;                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;                &lt;/configuration&gt;            &lt;/plugin&gt;        &lt;/plugins&gt;    &lt;/build&gt;    &lt;dependencies&gt;        &lt;dependency&gt;            &lt;groupId&gt;io.netty&lt;/groupId&gt;            &lt;artifactId&gt;netty-all&lt;/artifactId&gt;            &lt;version&gt;4.1.20.Final&lt;/version&gt;        &lt;/dependency&gt;        &lt;dependency&gt;            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;            &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;            &lt;version&gt;3.2.0&lt;/version&gt;        &lt;/dependency&gt;    &lt;/dependencies&gt;å®¢æˆ·ç«¯    public void connect(String ip, int port) {        NioEventLoopGroup workerGroup = new NioEventLoopGroup();        try {            Bootstrap bootstrap = new Bootstrap();            bootstrap.group(workerGroup)                    .channel(NioSocketChannel.class)                    .option(ChannelOption.SO_KEEPALIVE, true)                    .handler(new ChannelInitializer&lt;SocketChannel&gt;() {                        @Override                        protected void initChannel(SocketChannel socketChannel) throws Exception {                            ChannelPipeline pipeline = socketChannel.pipeline();                            pipeline.addLast(\"intDecoder\", new ProtobufVarint32FrameDecoder());                            pipeline.addLast(\"intEncoder\", new ProtobufVarint32LengthFieldPrepender());                            pipeline.addLast(\"protobufDecoder\", new ProtobufDecoder(MessagePOJO.Message.getDefaultInstance()));                            pipeline.addLast(\"protobufEncoder\", new ProtobufEncoder());                            pipeline.addLast(new SimpleClientHandler());                        }                    });            ChannelFuture channelFuture = bootstrap.connect(ip, port).sync();            if (channelFuture.isSuccess()) System.out.println(\"è¿æ¥æˆåŠŸï¼ï¼ï¼ï¼\");            else System.out.println(\"è¿æ¥å¤±è´¥\");            channelFuture.channel().closeFuture().sync();        } catch (Exception e) {            e.printStackTrace();        } finally {            workerGroup.shutdownGracefully();        }    }â€”â€”â€”-å¦ä¸€ç§â€”â€”â€”â€”â€”â€”â€”â€“    public void connect(String ip, int port) {        EventLoopGroup group = new NioEventLoopGroup();// å¼€å¯å·¥ä½œçº¿ç¨‹ç»„        try {            Bootstrap bootstrap = new Bootstrap(); //åˆ›å»ºä¸€ä¸ªå’ŒæœåŠ¡ç«¯ç›¸å¯¹åº”çš„server            bootstrap.group(group) //è®¾ç½®çº¿ç¨‹ç»„                    .channel(NioSocketChannel.class) //ä½¿ç”¨NioSocketChannelä½œä¸ºå®¢æˆ·ç«¯çš„é€šé“å®ç°                    .handler(new ChannelInitializer&lt;SocketChannel&gt;() {//è®¾ç½®å›è°ƒå‡½æ•°                        @Override                        protected void initChannel(SocketChannel ch) {                            ch.pipeline().addLast(new NettyClientHandler());                        }                    });            System.out.println(\"netty client startã€‚ã€‚\");            ChannelFuture cf = bootstrap.connect(\"127.0.0.1\", 9000).sync();//å¯åŠ¨å®¢æˆ·ç«¯å»è¿æ¥æœåŠ¡å™¨ç«¯            //å¯¹é€šé“å…³é—­è¿›è¡Œç›‘å¬            cf.channel().closeFuture().sync();        } finally {            group.shutdownGracefully();//å…³é—­çº¿ç¨‹ç»„        }    }æœåŠ¡ç«¯public void startServer() {        NioEventLoopGroup bossGroup = new NioEventLoopGroup();        NioEventLoopGroup workerGroup = new NioEventLoopGroup();        try {            ServerBootstrap serverBootstrap = new ServerBootstrap();            serverBootstrap.group(bossGroup, workerGroup)                    .option(ChannelOption.SO_BACKLOG, 128)                    .childOption(ChannelOption.SO_KEEPALIVE, true)                    .channel(NioServerSocketChannel.class)                    .childHandler(new ChannelInitializer&lt;SocketChannel&gt;() {                        @Override                        protected void initChannel(SocketChannel socketChannel) throws Exception {                            ChannelPipeline pipeline = socketChannel.pipeline();                            pipeline.addLast(\"intDecoder\", new ProtobufVarint32FrameDecoder());                            pipeline.addLast(\"intEncoder\", new ProtobufVarint32LengthFieldPrepender());                            pipeline.addLast(\"protobufDecoder\", new ProtobufDecoder(MessagePOJO.Message.getDefaultInstance()));                            pipeline.addLast(new SimpleServerHandler());                        }                    });            ChannelFuture channelFuture = serverBootstrap.bind(port).sync();            if (channelFuture.isSuccess()) System.out.println(\"æœåŠ¡å™¨å¼€å¯æˆåŠŸï¼ï¼ï¼ï¼\");            else System.out.println(\"æœåŠ¡å™¨å¼€å¯å¤±è´¥\");            channelFuture.channel().closeFuture().sync();        } catch (Exception e) {            e.printStackTrace();        } finally {            workerGroup.shutdownGracefully();            bossGroup.shutdownGracefully();        }    }â€”â€”â€”-å¦ä¸€ç§â€”â€”â€”â€”â€”â€”â€”â€“    public void startServer() {        EventLoopGroup bossGroup = new NioEventLoopGroup(1);//æ–°å»ºçº¿ç¨‹ç»„,ç”¨äºå¤„ç†è¯·æ±‚        EventLoopGroup workerGroup = new NioEventLoopGroup();//çœŸæ­£å·¥ä½œçš„çº¿ç¨‹ç»„        try {            ServerBootstrap bootstrap = new ServerBootstrap();//åˆ›å»ºä¸€ä¸ªserver,ç›¸å½“äºNIOçš„server            bootstrap.group(bossGroup, workerGroup) //é‡‡ç”¨é“¾å¼ç¼–ç¨‹,å°†ä¸¤ä¸ªçº¿ç¨‹ç»„åŠ å…¥åˆ°serverä¸­                    .channel(NioServerSocketChannel.class) //è®¾ç½®ä¸€ä¸ªä¿¡é“,ç›¸å½“äºNIOä¸­çš„ServerSocketChannel                    .option(ChannelOption.SO_BACKLOG, 1024) //å¯¹æœåŠ¡ç«¯ç»™äºˆä¸€äº›è®¾ç½®                    .childHandler(new ChannelInitializer&lt;SocketChannel&gt;() {//ç»™äºˆåˆå§‹åŒ–,å¹¶åŠ å…¥å›è°ƒå‡½æ•°                        @Override                        protected void initChannel(SocketChannel ch) throws Exception {                            ch.pipeline().addLast(new NettyServerHandler());                        }                    });            System.out.println(\"netty server startã€‚ã€‚\");            ChannelFuture cf = bootstrap.bind(9000).sync();//ç»‘å®šç«¯å£,syncæ–¹æ³•æ˜¯ç­‰å¾…å¼‚æ­¥æ“ä½œæ‰§è¡Œå®Œæ¯•            cf.channel().closeFuture().sync();//å¯¹é€šé“å…³é—­è¿›è¡Œç›‘å¬ï¼ŒcloseFutureæ˜¯å¼‚æ­¥æ“ä½œï¼Œç›‘å¬é€šé“å…³é—­                                        // é€šè¿‡syncæ–¹æ³•åŒæ­¥ç­‰å¾…é€šé“å…³é—­å¤„ç†å®Œæ¯•ï¼Œè¿™é‡Œä¼šé˜»å¡ç­‰å¾…é€šé“å…³é—­å®Œæˆ        } finally {            bossGroup.shutdownGracefully(); //å…³é—­å¤„ç†è¯·æ±‚çš„çº¿ç¨‹ç»„            workerGroup.shutdownGracefully();//å…³é—­çœŸæ­£å·¥ä½œçš„çº¿ç¨‹ç»„        }    }å›è°ƒæœåŠ¡ç«¯å›è°ƒpublic class NettyServerHandler extends ChannelInboundHandlerAdapter {    //å½“å®¢æˆ·ç«¯è¿æ¥æœåŠ¡å™¨å®Œæˆå°±ä¼šè§¦å‘è¯¥æ–¹æ³•    @Override    public void channelActive(ChannelHandlerContext ctx) throws Exception {        ByteBuf buf = Unpooled.copiedBuffer(\"HelloServer\".getBytes(CharsetUtil.UTF_8));        ctx.writeAndFlush(buf);    }    //å½“é€šé“æœ‰è¯»å–äº‹ä»¶æ—¶ä¼šè§¦å‘ï¼Œå³å®¢æˆ·ç«¯å‘é€æ•°æ®ç»™æœåŠ¡ç«¯    @Override    public void channelRead(ChannelHandlerContext ctx, Object msg) throws Exception {        ByteBuf buf = (ByteBuf) msg;        System.out.println(\"æ”¶åˆ°å®¢æˆ·ç«¯çš„æ¶ˆæ¯:\" + buf.toString(CharsetUtil.UTF_8));        System.out.println(\"å®¢æˆ·ç«¯çš„åœ°å€ï¼š \" + ctx.channel().remoteAddress());    }    @Override    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {        System.out.println(\"æˆ‘æ”¶åˆ°äº†å¼‚å¸¸\");        cause.printStackTrace();        ctx.close();    }}å®¢æˆ·ç«¯å›è°ƒpublic class NettyClientHandler extends ChannelInboundHandlerAdapter {    /**     * å½“å®¢æˆ·ç«¯è¿æ¥æœåŠ¡å™¨å®Œæˆå°±ä¼šè§¦å‘è¯¥æ–¹æ³•     *     * @param ctx è®¾ç½®å¥½çš„ä¿¡é“,ç›¸å½“äºä¸Šä¸‹æ–‡     */    @Override    public void channelActive(ChannelHandlerContext ctx) {        ByteBuf buf = Unpooled.copiedBuffer(\"HelloServer\".getBytes(CharsetUtil.UTF_8));        ctx.writeAndFlush(buf);    }    //å½“é€šé“æœ‰è¯»å–äº‹ä»¶æ—¶ä¼šè§¦å‘ï¼Œå³æœåŠ¡ç«¯å‘é€æ•°æ®ç»™å®¢æˆ·ç«¯    @Override    public void channelRead(ChannelHandlerContext ctx, Object msg) {        ByteBuf buf = (ByteBuf) msg;        System.out.println(\"æ”¶åˆ°æœåŠ¡ç«¯çš„æ¶ˆæ¯:\" + buf.toString(CharsetUtil.UTF_8));        System.out.println(\"æœåŠ¡ç«¯çš„åœ°å€ï¼š \" + ctx.channel().remoteAddress());    }    @Override    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) {        cause.printStackTrace();        ctx.close();    }}å‚è€ƒæ–‡æ¡£  Netty 4.x ç”¨æˆ·æŒ‡å—  Netty èŠå¤©å®¤  netty-learning"
},

{
"title": "ä»vuepressè¿ç§»è‡³jekyll",
"url": "/posts/%E4%BB%8Evuepress%E8%BF%81%E7%A7%BB%E8%87%B3jekyll/",
"categories": "åšå®¢é‚£äº›äº‹",
"tags": "åšå®¢è¿ç§», vuepress, jekyll",
"date": "2023-12-29 14:00:00 +0800",







"snippet": "ä»vuepressè¿ç§»è‡³jekyll  åšè¿‡æŠ€æœ¯å¼€å‘çš„éƒ½çŸ¥é“ï¼Œè¿ç§»æ˜¯ä¸€ä»¶å¾ˆç—›è‹¦çš„äº‹æƒ…ï¼Œäº²èº«ä½“éªŒè¿‡æ‰çŸ¥é“ï¼Œä½†æ˜¯ç—›è‹¦çš„è¿‡ç¨‹æ˜¯æœ‰æ”¶è·çš„ã€‚ èµ·åˆä½¿ç”¨vuepressæ¥å†™åšå®¢ï¼Œæ„Ÿè§‰è¿˜æŒºé«˜å¤§ä¸Šï¼Œæœ‰ç›®å½•å±‚çº§æœºæ„ã€‚ä½†æ˜¯åæ¥å‘ç°ï¼Œç”¨ä»–æ¥äº›åšå®¢å¹¶ä¸å¥½ï¼Œå†™æ–‡æ¡£æ¯”è¾ƒåˆé€‚ï¼Œè€Œä¸”ä¸æ”¯æŒä¸€äº›åŠŸèƒ½ï¼Œæ¯”å¦‚è¯´è¯„è®ºï¼Œè€Œä¸”å®ƒçš„ä¸»é¢˜ä¹Ÿä¸å¥½çœ‹ï¼Œæ‰€ä»¥å°±å†³å®šè¿ç§»åˆ°jekyllã€‚é™„ä¸¤å¼ å›¾çºªå¿µï¼š  é¦–é¡µ  è¯¦æƒ…é¡µå…ƒæ—¦å¿«ä¹ï¼",
"content": "ä»vuepressè¿ç§»è‡³jekyll  åšè¿‡æŠ€æœ¯å¼€å‘çš„éƒ½çŸ¥é“ï¼Œè¿ç§»æ˜¯ä¸€ä»¶å¾ˆç—›è‹¦çš„äº‹æƒ…ï¼Œäº²èº«ä½“éªŒè¿‡æ‰çŸ¥é“ï¼Œä½†æ˜¯ç—›è‹¦çš„è¿‡ç¨‹æ˜¯æœ‰æ”¶è·çš„ã€‚ èµ·åˆä½¿ç”¨vuepressæ¥å†™åšå®¢ï¼Œæ„Ÿè§‰è¿˜æŒºé«˜å¤§ä¸Šï¼Œæœ‰ç›®å½•å±‚çº§æœºæ„ã€‚ä½†æ˜¯åæ¥å‘ç°ï¼Œç”¨ä»–æ¥äº›åšå®¢å¹¶ä¸å¥½ï¼Œå†™æ–‡æ¡£æ¯”è¾ƒåˆé€‚ï¼Œè€Œä¸”ä¸æ”¯æŒä¸€äº›åŠŸèƒ½ï¼Œæ¯”å¦‚è¯´è¯„è®ºï¼Œè€Œä¸”å®ƒçš„ä¸»é¢˜ä¹Ÿä¸å¥½çœ‹ï¼Œæ‰€ä»¥å°±å†³å®šè¿ç§»åˆ°jekyllã€‚é™„ä¸¤å¼ å›¾çºªå¿µï¼š  é¦–é¡µ  è¯¦æƒ…é¡µå…ƒæ—¦å¿«ä¹ï¼"
},

{
"title": "Spring Security oAuth2åº”ç”¨",
"url": "/posts/Spring-Security-oAuth2%E5%BA%94%E7%94%A8/",
"categories": "å¸¸ç”¨æ¡†æ¶",
"tags": "oAuth2, Spring Security",
"date": "2023-03-12 16:15:00 +0800",







"snippet": "æ•°æ®è¡¨CREATE TABLE `clientdetails` (  `appId` varchar(128) NOT NULL,  `resourceIds` varchar(256) DEFAULT NULL,  `appSecret` varchar(256) DEFAULT NULL,  `scope` varchar(256) DEFAULT NULL,  `grantTypes`...",
"content": "æ•°æ®è¡¨CREATE TABLE `clientdetails` (  `appId` varchar(128) NOT NULL,  `resourceIds` varchar(256) DEFAULT NULL,  `appSecret` varchar(256) DEFAULT NULL,  `scope` varchar(256) DEFAULT NULL,  `grantTypes` varchar(256) DEFAULT NULL,  `redirectUrl` varchar(256) DEFAULT NULL,  `authorities` varchar(256) DEFAULT NULL,  `access_token_validity` int(11) DEFAULT NULL,  `refresh_token_validity` int(11) DEFAULT NULL,  `additionalInformation` varchar(4096) DEFAULT NULL,  `autoApproveScopes` varchar(256) DEFAULT NULL,  PRIMARY KEY (`appId`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;CREATE TABLE `oauth_access_token` (  `token_id` varchar(256) DEFAULT NULL,  `token` blob,  `authentication_id` varchar(128) NOT NULL,  `user_name` varchar(256) DEFAULT NULL,  `client_id` varchar(256) DEFAULT NULL,  `authentication` blob,  `refresh_token` varchar(256) DEFAULT NULL,  PRIMARY KEY (`authentication_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;CREATE TABLE `oauth_approvals` (  `userId` varchar(256) DEFAULT NULL,  `clientId` varchar(256) DEFAULT NULL,  `scope` varchar(256) DEFAULT NULL,  `status` varchar(10) DEFAULT NULL,  `expiresAt` timestamp NULL DEFAULT NULL,  `lastModifiedAt` timestamp NULL DEFAULT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8;CREATE TABLE `oauth_client_details` (  `client_id` varchar(128) NOT NULL,  `resource_ids` varchar(256) DEFAULT NULL,  `client_secret` varchar(256) DEFAULT NULL,  `scope` varchar(256) DEFAULT NULL,  `authorized_grant_types` varchar(256) DEFAULT NULL,  `web_server_redirect_uri` varchar(256) DEFAULT NULL,  `authorities` varchar(256) DEFAULT NULL,  `access_token_validity` int(11) DEFAULT NULL,  `refresh_token_validity` int(11) DEFAULT NULL,  `additional_information` varchar(4096) DEFAULT NULL,  `autoapprove` varchar(256) DEFAULT NULL,  PRIMARY KEY (`client_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;CREATE TABLE `oauth_client_token` (  `token_id` varchar(256) DEFAULT NULL,  `token` blob,  `authentication_id` varchar(128) NOT NULL,  `user_name` varchar(256) DEFAULT NULL,  `client_id` varchar(256) DEFAULT NULL,  PRIMARY KEY (`authentication_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;CREATE TABLE `oauth_code` (  `code` varchar(256) DEFAULT NULL,  `authentication` blob) ENGINE=InnoDB DEFAULT CHARSET=utf8;CREATE TABLE `oauth_refresh_token` (  `token_id` varchar(256) DEFAULT NULL,  `token` blob,  `authentication` blob) ENGINE=InnoDB DEFAULT CHARSET=utf8;å¼•å…¥ä¾èµ–pom.xml&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;    &lt;parent&gt;        &lt;groupId&gt;com.qjdmy&lt;/groupId&gt;        &lt;artifactId&gt;qjdmy-parent&lt;/artifactId&gt;        &lt;version&gt;1.0.0.RELEASE&lt;/version&gt;    &lt;/parent&gt;    &lt;artifactId&gt;qjdmy-oauth&lt;/artifactId&gt;    &lt;version&gt;1.0.1-SNAPSHOT&lt;/version&gt;    &lt;packaging&gt;jar&lt;/packaging&gt;    &lt;url&gt;http://www.qjdmy.com&lt;/url&gt;    &lt;inceptionYear&gt;2020-Now&lt;/inceptionYear&gt;    &lt;description&gt;è®¤è¯ä¸æˆæƒ&lt;/description&gt;    &lt;scm&gt;        &lt;connection&gt;scm:git:http://gitlab.tangyuewei.com/qjdmy/qjdmy-oauth.git&lt;/connection&gt;        &lt;developerConnection&gt;scm:git:http://gitlab.tangyuewei.com/qjdmy/qjdmy-oauth.git&lt;/developerConnection&gt;        &lt;url&gt;http://gitlab.tangyuewei.com/qjdmy/qjdmy-oauth&lt;/url&gt;        &lt;tag&gt;HEAD&lt;/tag&gt;    &lt;/scm&gt;    &lt;developers&gt;        &lt;developer&gt;            &lt;id&gt;tangyuewei&lt;/id&gt;            &lt;name&gt;Webster Tang&lt;/name&gt;            &lt;email&gt;472680811@qq.com&lt;/email&gt;        &lt;/developer&gt;    &lt;/developers&gt;    &lt;dependencies&gt;        &lt;dependency&gt;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;        &lt;/dependency&gt;        &lt;dependency&gt;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;        &lt;/dependency&gt;        &lt;dependency&gt;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;            &lt;scope&gt;test&lt;/scope&gt;        &lt;/dependency&gt;        &lt;dependency&gt;            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;            &lt;artifactId&gt;spring-cloud-starter-oauth2&lt;/artifactId&gt;        &lt;/dependency&gt;        &lt;dependency&gt;            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;            &lt;scope&gt;provided&lt;/scope&gt;        &lt;/dependency&gt;        &lt;dependency&gt;            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;            &lt;artifactId&gt;lombok&lt;/artifactId&gt;            &lt;scope&gt;provided&lt;/scope&gt;        &lt;/dependency&gt;        &lt;dependency&gt;            &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;            &lt;artifactId&gt;qfdmy-repository-core&lt;/artifactId&gt;            &lt;version&gt;${project.version}&lt;/version&gt;        &lt;/dependency&gt;        &lt;dependency&gt;            &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;            &lt;artifactId&gt;qfdmy-commons&lt;/artifactId&gt;            &lt;version&gt;${project.version}&lt;/version&gt;        &lt;/dependency&gt;    &lt;/dependencies&gt;    &lt;profiles&gt;        &lt;profile&gt;            &lt;id&gt;microservice&lt;/id&gt;            &lt;build&gt;                &lt;plugins&gt;                    &lt;plugin&gt;                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;                        &lt;configuration&gt;                            &lt;mainClass&gt;com.qjdmy.oauth.AuthApplication&lt;/mainClass&gt;                        &lt;/configuration&gt;                    &lt;/plugin&gt;                &lt;/plugins&gt;            &lt;/build&gt;        &lt;/profile&gt;    &lt;/profiles&gt;&lt;/project&gt;application.ymlserver:  port: 9090spring:  application:    name: qjdmy-oauth  main:    allow-bean-definition-overriding: true  datasource:    type: com.zaxxer.hikari.HikariDataSource    driver-class-name: com.mysql.cj.jdbc.Driver    jdbc-url: jdbc:mysql://mysql.tangyuewei.com:3306/qfdmy?serverTimezone=Asia/Shanghai&amp;useLegacyDatetimeCode=false&amp;nullNamePatternMatchesAll=true&amp;zeroDateTimeBehavior=CONVERT_TO_NULL&amp;tinyInt1isBit=false&amp;autoReconnect=true&amp;useSSL=false&amp;pinGlobalTxToPhysicalConnection=true    username: root    password: 123456    hikari:      minimum-idle: 5      idle-timeout: 600000      maximum-pool-size: 10      auto-commit: true      pool-name: MyHikariCP      max-lifetime: 1800000      connection-timeout: 30000      connection-test-query: SELECT 1security:  oauth2:    client:      client-id: dashboard      client-secret: dashboard      access-token-uri: http://localhost:${server.port}/oauth/token      user-authorization-uri: http://localhost:${server.port}/oauth/authorize    resource:      token-info-uri: http://localhost:${server.port}/oauth/check_token    authorization:      check-token-access: http://localhost:${server.port}/oauth/check_tokenApplicationpackage com.qjdmy.oauth;import org.mybatis.spring.annotation.MapperScan;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;/** * è®¤è¯ä¸æˆæƒ * * @author Webster * @since v1.0.0 */@SpringBootApplication(scanBasePackages = \"com.qjdmy\")@MapperScan(basePackages = \"com.qjdmy.repository.core.mapper\")public class AuthApplication {    public static void main(String[] args) {        SpringApplication.run(AuthApplication.class, args);    }}è‡ªå®šä¹‰è®¤è¯æˆæƒå®ç°package com.qjdmy.oauth.service.impl;import com.baomidou.mybatisplus.core.conditions.query.LambdaQueryWrapper;import com.qjdmy.repository.core.domain.CoreAdmin;import com.qjdmy.repository.core.domain.CoreUser;import com.qjdmy.repository.core.mapper.CoreAdminMapper;import com.qjdmy.repository.core.mapper.CoreUserMapper;import org.springframework.security.core.GrantedAuthority;import org.springframework.security.core.authority.SimpleGrantedAuthority;import org.springframework.security.core.userdetails.User;import org.springframework.security.core.userdetails.UserDetails;import org.springframework.security.core.userdetails.UserDetailsService;import org.springframework.security.core.userdetails.UsernameNotFoundException;import javax.annotation.Resource;import java.util.ArrayList;import java.util.List;/** * è‡ªå®šä¹‰è®¤è¯ä¸æˆæƒ * @author Webster * @since v1.0.0 */public class UserDetailsServiceImpl implements UserDetailsService {    @Resource    private CoreAdminMapper coreAdminMapper;    @Resource    private CoreUserMapper coreUserMapper;    @Override    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {        // ç®¡ç†åå°        LambdaQueryWrapper&lt;CoreAdmin&gt; adminWrapper = new LambdaQueryWrapper&lt;&gt;();        adminWrapper.eq(CoreAdmin::getUsername, username);        CoreAdmin coreAdmin = coreAdminMapper.selectOne(adminWrapper);        if (null != coreAdmin) {            // æˆæƒï¼Œç®¡ç†å‘˜æƒé™ä¸º ADMIN            List&lt;GrantedAuthority&gt; grantedAuthorities = new ArrayList&lt;&gt;();            grantedAuthorities.add(new SimpleGrantedAuthority(\"ADMIN\"));            // ç”±æ¡†æ¶å®Œæˆè®¤è¯å·¥ä½œ            return new User(coreAdmin.getUsername(), coreAdmin.getPassword(), grantedAuthorities);        }        // é—¨æˆ·ç½‘ç«™        LambdaQueryWrapper&lt;CoreUser&gt; userWrapper = new LambdaQueryWrapper&lt;&gt;();        userWrapper.eq(CoreUser::getUsername, username);        CoreUser coreUser = coreUserMapper.selectOne(userWrapper);        if (null != coreUser) {            List&lt;GrantedAuthority&gt; grantedAuthorities = new ArrayList&lt;&gt;();            grantedAuthorities.add(new SimpleGrantedAuthority(\"USERS\"));            return new User(coreUser.getUsername(), coreUser.getPassword(), grantedAuthorities);        }        return null;    }}è®¤è¯æœåŠ¡å™¨é…ç½®  WebSecurityConfiguration.javapackage com.qjdmy.oauth.configuration;import com.qjdmy.oauth.service.impl.UserDetailsServiceImpl;import org.springframework.context.annotation.Bean;import org.springframework.security.authentication.AuthenticationManager;import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;import org.springframework.security.config.annotation.web.builders.WebSecurity;import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;import org.springframework.security.core.userdetails.UserDetailsService;/** * è®¤è¯æœåŠ¡å™¨é…ç½® * * @author Webster * @since v1.0.0 */@EnableWebSecurity@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, jsr250Enabled = true)public class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\t@Bean\t@Override\tpublic UserDetailsService userDetailsServiceBean() {\t\treturn new UserDetailsServiceImpl();\t}\t@Bean\t@Override\tpublic AuthenticationManager authenticationManagerBean() throws Exception {\t\treturn super.authenticationManagerBean();\t}\t@Override\tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\t\tauth.userDetailsService(userDetailsServiceBean());\t}\t@Override\tpublic void configure(WebSecurity web) {\t\t// å¿½ç•¥çš„è®¿é—®è·¯å¾„\t\tweb.ignoring()\t\t\t\t.antMatchers(\"/login/**\")\t\t\t\t.antMatchers(\"/registry/user\")\t\t\t\t.antMatchers(\"/logout/**\");\t}}  AuthorizationServerConfiguration.javapackage com.qjdmy.oauth.configuration;import org.springframework.boot.context.properties.ConfigurationProperties;import org.springframework.boot.jdbc.DataSourceBuilder;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.context.annotation.Lazy;import org.springframework.context.annotation.Primary;import org.springframework.security.authentication.AuthenticationManager;import org.springframework.security.core.userdetails.UserDetailsService;import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;import org.springframework.security.oauth2.config.annotation.configurers.ClientDetailsServiceConfigurer;import org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerConfigurerAdapter;import org.springframework.security.oauth2.config.annotation.web.configuration.EnableAuthorizationServer;import org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer;import org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerSecurityConfigurer;import org.springframework.security.oauth2.provider.ClientDetailsService;import org.springframework.security.oauth2.provider.client.JdbcClientDetailsService;import org.springframework.security.oauth2.provider.token.TokenStore;import org.springframework.security.oauth2.provider.token.store.JdbcTokenStore;import javax.annotation.Resource;import javax.sql.DataSource;/** * è®¤è¯æœåŠ¡å™¨é…ç½® * * @author Webster * @since v1.0.0 */@Configuration@EnableAuthorizationServerpublic class AuthorizationServerConfiguration extends AuthorizationServerConfigurerAdapter {\t/**\t * æ³¨å…¥ç”¨äºæ”¯æŒ password æ¨¡å¼\t */\t@Resource\tprivate AuthenticationManager authenticationManager;\t/**\t * é»˜è®¤çš„åŠ å¯†æ–¹å¼\t * @return {@link BCryptPasswordEncoder}\t */\t@Bean\tpublic BCryptPasswordEncoder passwordEncoder() {\t\treturn new BCryptPasswordEncoder();\t}\t/**\t * Refresh Token æ—¶éœ€è¦è‡ªå®šä¹‰å®ç°ï¼Œå¦åˆ™æŠ›å¼‚å¸¸ &lt;br&gt;\t * Lazy æ³¨è§£æ˜¯ä¸ºäº†é˜²æ­¢å¾ªç¯æ³¨å…¥ï¼ˆis there an unresolvable circular reference?ï¼‰\t */\t@Lazy\t@Resource(name = \"userDetailsServiceBean\")\tprivate UserDetailsService userDetailsService;\t@Bean\t@Primary\t@ConfigurationProperties(prefix = \"spring.datasource\")\tpublic DataSource dataSource() {\t\t// é…ç½®æ•°æ®æºï¼ˆæ³¨æ„ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯ HikariCP è¿æ¥æ± ï¼‰ï¼Œä»¥ä¸Šæ³¨è§£æ˜¯æŒ‡å®šæ•°æ®æºï¼Œå¦åˆ™ä¼šæœ‰å†²çª\t\treturn DataSourceBuilder.create().build();\t}\t@Bean\tpublic TokenStore tokenStore() {\t\t// åŸºäº JDBC å®ç°ï¼Œä»¤ç‰Œä¿å­˜åˆ°æ•°æ®åº“\t\treturn new JdbcTokenStore(dataSource());\t}\t@Bean\tpublic ClientDetailsService jdbcClientDetailsService() {\t\t// åŸºäº JDBC å®ç°ï¼Œéœ€è¦äº‹å…ˆåœ¨æ•°æ®åº“é…ç½®å®¢æˆ·ç«¯ä¿¡æ¯\t\treturn new JdbcClientDetailsService(dataSource());\t}\t@Override\tpublic void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {\t\tendpoints\t\t\t\t// ç”¨äºæ”¯æŒå¯†ç æ¨¡å¼\t\t\t\t.authenticationManager(authenticationManager).tokenStore(tokenStore());\t\t// Refresh Token æ—¶éœ€è¦è‡ªå®šä¹‰å®ç°ï¼Œå¦åˆ™æŠ›å¼‚å¸¸\t\t// Handling error: IllegalStateException, UserDetailsService is required.\t\tendpoints.userDetailsService(userDetailsService);\t}\t@Override\tpublic void configure(AuthorizationServerSecurityConfigurer security) throws Exception {\t\tsecurity\t\t\t\t// å…è®¸å®¢æˆ·ç«¯è®¿é—® /oauth/check_token æ£€æŸ¥ token\t\t\t\t.checkTokenAccess(\"isAuthenticated()\").allowFormAuthenticationForClients();\t}\t/**\t * é…ç½®å®¢æˆ·ç«¯\t * @param clients {@link ClientDetailsServiceConfigurer}\t * @throws Exception å…¨å±€å¼‚å¸¸\t */\t@Override\tpublic void configure(ClientDetailsServiceConfigurer clients) throws Exception {\t\t// å®¢æˆ·ç«¯é…ç½®\t\tclients.withClientDetails(jdbcClientDetailsService());\t}}å®ç°ç™»å½•åŠŸèƒ½ç™»å½•ä¸šåŠ¡æ¥å£package com.qjdmy.oauth.service;import java.util.Map;/** * ç™»å½• * @author Webster * @since v1.0.0 */public interface ILoginService {    /**     * ç™»å½•æˆåŠŸåä»…è¿”å› Token     * @param username {@code String} è´¦å·     * @param password {@code String} å¯†ç      * @return {@code Map&lt;String, String&gt;} key: token     */    Map&lt;String, String&gt; getToken(String username, String password);    /**     * åˆ·æ–° Token     * @param accessToken {@code String} ä½¿ç”¨æ—§ Token æ¢æ–° Token     * @return {@code Map&lt;String, String&gt;} æ–° Tokenï¼Œkey: token     */    Map&lt;String, String&gt; refresh(String accessToken);}ç™»å½•ä¸šåŠ¡å®ç°package com.qjdmy.oauth.service.impl;import cn.hutool.core.util.StrUtil;import cn.hutool.http.HttpUtil;import cn.hutool.json.JSONObject;import cn.hutool.json.JSONUtil;import com.qjdmy.commons.exceptions.BusinessException;import com.qjdmy.commons.response.ResponseCode;import com.qjdmy.oauth.service.ILoginService;import org.springframework.beans.factory.annotation.Value;import org.springframework.security.core.userdetails.UserDetails;import org.springframework.security.core.userdetails.UserDetailsService;import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;import org.springframework.stereotype.Service;import javax.annotation.Resource;import java.util.HashMap;import java.util.Map;/** * ç™»å½• * @author Webster * @since v1.0.0 */@Servicepublic class LoginServiceImpl implements ILoginService {    /**     * TODO ç”¨äºä¸´æ—¶å­˜æ”¾æ‰€æœ‰ Refresh Tokenï¼Œå®é™…æƒ…å†µåº”è¯¥æ”¾åœ¨ Redis ä¸­     */    private static Map&lt;String, String&gt; refreshTokenMaps = new HashMap&lt;&gt;();    @Value(\"${security.oauth2.client.access-token-uri}\")    private String accessTokenUri;    @Value(\"${security.oauth2.client.client-id}\")    private String clientId;    @Value(\"${security.oauth2.client.client-secret}\")    private String clientSecret;    @Resource    private BCryptPasswordEncoder passwordEncoder;    @Resource(name = \"userDetailsServiceBean\")    private UserDetailsService userDetailsService;    @Override    public Map&lt;String, String&gt; getToken(String username, String password) {        Map&lt;String, String&gt; result = new HashMap&lt;&gt;();        // éªŒè¯å¯†ç æ˜¯å¦æ­£ç¡®        UserDetails userDetails = userDetailsService.loadUserByUsername(username);        if (userDetails == null || !passwordEncoder.matches(password, userDetails.getPassword())) {            throw new BusinessException(ResponseCode.USER_LOGIN_ERROR);        }        // é€šè¿‡ HTTP å®¢æˆ·ç«¯è¯·æ±‚ç™»å½•æ¥å£        Map&lt;String, Object&gt; authParam = getAuthParam();        authParam.put(\"username\", username);        authParam.put(\"password\", password);        authParam.put(\"grant_type\", \"password\");        // è·å– access_token        String strJson = HttpUtil.post(accessTokenUri, authParam);        JSONObject jsonObject = JSONUtil.parseObj(strJson);        String token = String.valueOf(jsonObject.get(\"access_token\"));        String refresh = String.valueOf(jsonObject.get(\"refresh_token\"));        if (StrUtil.isNotBlank(token) &amp;&amp; StrUtil.isNotBlank(refresh)) {            // å°† refresh_token ä¿å­˜åœ¨æœåŠ¡ç«¯            refreshTokenMaps.put(token, refresh);            // å°† access_token è¿”å›ç»™å®¢æˆ·ç«¯            result.put(\"token\", token);            return result;        }        return null;    }    @Override    public Map&lt;String, String&gt; refresh(String accessToken) {        Map&lt;String, String&gt; result = new HashMap&lt;&gt;();        // Access Token ä¸å­˜åœ¨ç›´æ¥è¿”å› null        String refreshToken = refreshTokenMaps.get(accessToken);        if (StrUtil.isBlank(refreshToken)) {            throw new BusinessException(ResponseCode.USER_NOT_LOGGED_IN);        }        // é€šè¿‡ HTTP å®¢æˆ·ç«¯è¯·æ±‚ç™»å½•æ¥å£        Map&lt;String, Object&gt; authParam = getAuthParam();        authParam.put(\"grant_type\", \"refresh_token\");        authParam.put(\"refresh_token\", refreshToken);        // è·å– access_token        String strJson = HttpUtil.post(accessTokenUri, authParam);        JSONObject jsonObject = JSONUtil.parseObj(strJson);        String token = String.valueOf(jsonObject.get(\"access_token\"));        String refresh = String.valueOf(jsonObject.get(\"refresh_token\"));        if (StrUtil.isNotBlank(token) &amp;&amp; StrUtil.isNotBlank(refresh)) {            // åˆ é™¤æ—§ Token            refreshTokenMaps.remove(accessToken);            // å°† refresh_token ä¿å­˜åœ¨æœåŠ¡ç«¯            refreshTokenMaps.put(token, refresh);            // å°† access_token è¿”å›ç»™å®¢æˆ·ç«¯            result.put(\"token\", token);            return result;        }        return null;    }    // ç§æœ‰æ–¹æ³• ------------------------------------------- Begin    private Map&lt;String, Object&gt; getAuthParam() {        Map&lt;String, Object&gt; param = new HashMap&lt;&gt;();        param.put(\"client_id\", clientId);        param.put(\"client_secret\", clientSecret);        return param;    }}å°è£…å·¥å…·ç±»package com.qjdmy.commons.web;import cn.hutool.core.util.StrUtil;import com.qjdmy.commons.exceptions.BusinessException;import com.qjdmy.commons.response.ResponseCode;/** * è¯·æ±‚å¤´å¤„ç† * @author Webster * @since v1.0.0 */public class Header {    private static final String AUTHORIZATION_BEARER_TOKEN = \"Basic \";    /**     * è·å– Token     * @param header {@code String} request.getHeader(\"Authorization\")     * @return {@code String} token     */    public static String getAuthorization(String header) {        if (StrUtil.isBlank(header) || header.startsWith(AUTHORIZATION_BEARER_TOKEN)) {            throw new BusinessException(ResponseCode.USER_NOT_LOGGED_IN);        }        return header.substring(AUTHORIZATION_BEARER_TOKEN.length() + 1);    }}å°è£…è¯·æ±‚å‚æ•°package com.qjdmy.oauth.controller.param;import lombok.Data;import lombok.EqualsAndHashCode;import lombok.experimental.Accessors;import java.io.Serializable;/** * ç™»å½•å‚æ•° * @author Webster * @since v1.0.0 */@Data@EqualsAndHashCode(callSuper = false)@Accessors(chain = true)public class LoginParam implements Serializable {    private static final long serialVersionUID = 6227804428105653962L;    /**     * è´¦å·     */    private String username;    /**     * å¯†ç      */    private String password;}è¯·æ±‚å¤„ç†ä»£ç package com.qjdmy.oauth.controller;import com.qfdmy.commons.response.ResponseResult;import com.qfdmy.commons.web.Header;import com.qfdmy.oauth.controller.param.LoginParam;import com.qfdmy.oauth.service.ILoginService;import org.springframework.web.bind.annotation.PostMapping;import org.springframework.web.bind.annotation.RequestBody;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;import javax.annotation.Resource;import javax.servlet.http.HttpServletRequest;/** * ç™»å½• * @author Webster * @since v1.0.0 */@RestController@RequestMapping(value = \"login\")public class LoginController {    @Resource    private HttpServletRequest request;    @Resource    private ILoginService loginService;    /**     * ç®¡ç†å‘˜ç™»å½•     * @param loginParam {@code JSON} {@link LoginParam}     * @return {@link ResponseResult}     */    @PostMapping(\"admin\")    public ResponseResult admin(@RequestBody LoginParam loginParam) {        return ResponseResult.success(loginService.getToken(loginParam.getUsername(), loginParam.getPassword()));    }    /**     * ç”¨æˆ·ç™»å½•ï¼Œç™»å½•åªæ˜¯æ‹¿ Token     * @param loginParam {@code JSON} {@link LoginParam}     * @return {@link ResponseResult}     */    @PostMapping(\"user\")    public ResponseResult users(@RequestBody LoginParam loginParam) {        return ResponseResult.success(loginService.getToken(loginParam.getUsername(), loginParam.getPassword()));    }    /**     * åˆ·æ–°ä»¤ç‰Œ     * @return {@link ResponseResult}     */    @PostMapping(\"refresh\")    public ResponseResult refresh() {        String token = Header.getAuthorization(request.getHeader(\"Authorization\"));        return ResponseResult.success(loginService.refresh(token));    }}å®ç°æ³¨é”€åŠŸèƒ½package com.qjdmy.oauth.controller;import com.qjdmy.commons.response.ResponseCode;import com.qjdmy.commons.response.ResponseResult;import com.qjdmy.commons.web.Header;import org.springframework.security.oauth2.common.OAuth2AccessToken;import org.springframework.security.oauth2.provider.token.TokenStore;import org.springframework.web.bind.annotation.PostMapping;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;import javax.annotation.Resource;import javax.servlet.http.HttpServletRequest;/** * æ³¨é”€ * * @author Webster * @since v1.0.0 */@RestController@RequestMapping(value = \"logout\")public class LogoutController {    @Resource    public TokenStore tokenStore;    @Resource    public HttpServletRequest request;    /**     * æ³¨é”€ç®¡ç†å‘˜     *     * @return {@link ResponseResult}     */    @PostMapping(\"admin\")    public ResponseResult admin() {        return logout();    }    /**     * æ³¨é”€ç”¨æˆ·     *     * @return {@link ResponseResult}     */    @PostMapping(\"user\")    public ResponseResult users() {        return logout();    }    // ç§æœ‰æ–¹æ³• ------------------------------------------- Begin    private ResponseResult logout() {        String token = Header.getAuthorization(request.getHeader(\"Authorization\"));        // åˆ é™¤ token ä»¥æ³¨é”€        OAuth2AccessToken oAuth2AccessToken = tokenStore.readAccessToken(token);        if (null != oAuth2AccessToken) {            tokenStore.removeAccessToken(oAuth2AccessToken);            return ResponseResult.success();        }        return ResponseResult.failure(ResponseCode.INTERFACE_ADDRESS_INVALID);    }}èµ„æºæœåŠ¡å™¨é…ç½®package com.qjdmy.all.configuration;import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;import org.springframework.security.config.annotation.web.builders.HttpSecurity;import org.springframework.security.config.annotation.web.configurers.ExpressionUrlAuthorizationConfigurer;import org.springframework.security.config.http.SessionCreationPolicy;import org.springframework.security.oauth2.config.annotation.web.configuration.EnableResourceServer;import org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfigurerAdapter;/** * èµ„æºæœåŠ¡å™¨é…ç½® * * @author Webster * @since v1.0.0 */@EnableResourceServer@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, jsr250Enabled = true)public class ResourceServerConfiguration extends ResourceServerConfigurerAdapter {    /**     * ç®¡ç†å‘˜è§’è‰²     */    private static final String ADMIN = \"ADMIN\";    /**     * ç”¨æˆ·è§’è‰²     */    private static final String USERS = \"USERS\";    @Override    public void configure(HttpSecurity http) throws Exception {        // å…è®¸è®¿é—®å…¨éƒ¨èµ„æº//\t\thttp.exceptionHandling().and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)//\t\t\t\t.and().authorizeRequests().antMatchers(\"/**\").permitAll();        // ç®¡ç†å‘˜æˆæƒè¯·æ±‚è·¯å¾„        String[] adminPaths = new String[]{                \"/core/**\", \"/qiniu/**\"        };        ExpressionUrlAuthorizationConfigurer&lt;HttpSecurity&gt;.ExpressionInterceptUrlRegistry                expressionInterceptUrlRegistry = http.exceptionHandling()                .and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)                .and().authorizeRequests();        for (String adminPath : adminPaths) {            expressionInterceptUrlRegistry.antMatchers(adminPath).hasAnyAuthority(ADMIN);        }    }}"
},

{
"title": "Spring Security oAuth2ç®€ä»‹",
"url": "/posts/Spring-Security-oAuth2%E7%AE%80%E4%BB%8B/",
"categories": "å¸¸ç”¨æ¡†æ¶",
"tags": "oAuth2, Spring Security",
"date": "2023-03-07 19:15:00 +0800",







"snippet": "ä»€ä¹ˆæ˜¯ oAuthoAuthåè®®ä¸ºç”¨æˆ·èµ„æºçš„æˆæƒæä¾›äº†ä¸€ä¸ªå®‰å…¨çš„ã€å¼€æ”¾è€Œåˆç®€æ˜“çš„æ ‡å‡†ã€‚ä¸ä»¥å¾€çš„æˆæƒæ–¹å¼ä¸åŒä¹‹å¤„æ˜¯ oAuthçš„æˆæƒä¸ä¼šä½¿ç¬¬ä¸‰æ–¹è§¦åŠåˆ°ç”¨æˆ·çš„å¸å·ä¿¡æ¯ï¼ˆå¦‚ç”¨æˆ·åä¸å¯†ç ï¼‰ï¼Œå³ç¬¬ä¸‰æ–¹æ— éœ€ä½¿ç”¨ç”¨æˆ·çš„ç”¨æˆ·åä¸å¯†ç å°±å¯ä»¥ç”³è¯·è·å¾—è¯¥ç”¨æˆ·èµ„æºçš„æˆæƒï¼Œå› æ­¤oAuthæ˜¯å®‰å…¨çš„ã€‚ä»€ä¹ˆæ˜¯ Spring SecuritySpring Securityæ˜¯ä¸€ä¸ªå®‰å…¨æ¡†æ¶ï¼Œå‰èº«æ˜¯Acegi Securityï¼Œèƒ½...",
"content": "ä»€ä¹ˆæ˜¯ oAuthoAuthåè®®ä¸ºç”¨æˆ·èµ„æºçš„æˆæƒæä¾›äº†ä¸€ä¸ªå®‰å…¨çš„ã€å¼€æ”¾è€Œåˆç®€æ˜“çš„æ ‡å‡†ã€‚ä¸ä»¥å¾€çš„æˆæƒæ–¹å¼ä¸åŒä¹‹å¤„æ˜¯ oAuthçš„æˆæƒä¸ä¼šä½¿ç¬¬ä¸‰æ–¹è§¦åŠåˆ°ç”¨æˆ·çš„å¸å·ä¿¡æ¯ï¼ˆå¦‚ç”¨æˆ·åä¸å¯†ç ï¼‰ï¼Œå³ç¬¬ä¸‰æ–¹æ— éœ€ä½¿ç”¨ç”¨æˆ·çš„ç”¨æˆ·åä¸å¯†ç å°±å¯ä»¥ç”³è¯·è·å¾—è¯¥ç”¨æˆ·èµ„æºçš„æˆæƒï¼Œå› æ­¤oAuthæ˜¯å®‰å…¨çš„ã€‚ä»€ä¹ˆæ˜¯ Spring SecuritySpring Securityæ˜¯ä¸€ä¸ªå®‰å…¨æ¡†æ¶ï¼Œå‰èº«æ˜¯Acegi Securityï¼Œèƒ½å¤Ÿä¸ºSpringä¼ä¸šåº”ç”¨ç³»ç»Ÿæä¾›å£°æ˜å¼çš„å®‰å…¨è®¿é—®æ§åˆ¶ã€‚Spring SecurityåŸºäºServlet è¿‡æ»¤å™¨ã€IoC å’Œ AOPï¼Œä¸º Web è¯·æ±‚å’Œæ–¹æ³•è°ƒç”¨æä¾›èº«ä»½ç¡®è®¤å’Œæˆæƒå¤„ç†ï¼Œé¿å…äº†ä»£ç è€¦åˆï¼Œå‡å°‘äº†å¤§é‡é‡å¤ä»£ç å·¥ä½œã€‚ä¸ºä»€ä¹ˆéœ€è¦ oAuth2åº”ç”¨åœºæ™¯æˆ‘ä»¬å‡è®¾ä½ æœ‰ä¸€ä¸ªâ€œäº‘ç¬”è®°â€äº§å“ï¼Œå¹¶æä¾›äº†â€œäº‘ç¬”è®°æœåŠ¡â€å’Œâ€œäº‘ç›¸å†ŒæœåŠ¡â€ï¼Œæ­¤æ—¶ç”¨æˆ·éœ€è¦åœ¨ä¸åŒçš„è®¾å¤‡ï¼ˆPCã€Androidã€iPhoneã€TVã€Watchï¼‰ä¸Šå»è®¿é—®è¿™äº›â€œèµ„æºâ€ï¼ˆç¬”è®°ï¼Œå›¾ç‰‡ï¼‰é‚£ä¹ˆç”¨æˆ·å¦‚ä½•æ‰èƒ½è®¿é—®å±äºè‡ªå·±çš„é‚£éƒ¨åˆ†èµ„æºå‘¢ï¼Ÿæ­¤æ—¶ä¼ ç»Ÿçš„åšæ³•å°±æ˜¯æä¾›è‡ªå·±çš„è´¦å·å’Œå¯†ç ç»™æˆ‘ä»¬çš„â€œäº‘ç¬”è®°â€ï¼Œç™»å½•æˆåŠŸåå°±å¯ä»¥è·å–èµ„æºäº†ã€‚ä½†è¿™æ ·çš„åšæ³•ä¼šæœ‰ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼šâ€œäº‘ç¬”è®°æœåŠ¡â€å’Œâ€œäº‘ç›¸å†ŒæœåŠ¡â€ä¼šåˆ†åˆ«éƒ¨ç½²ï¼Œéš¾é“æˆ‘ä»¬è¦åˆ†åˆ«ç™»å½•å—ï¼Ÿå¦‚æœæœ‰ç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºæƒ³è¦æ¥å…¥æˆ‘ä»¬çš„â€œäº‘ç¬”è®°â€ï¼Œéš¾é“éœ€è¦ç”¨æˆ·æä¾›è´¦å·å’Œå¯†ç ç»™ç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºï¼Œè®©ä»–è®°å½•åå†è®¿é—®æˆ‘ä»¬çš„èµ„æºå—ï¼Ÿç”¨æˆ·å¦‚ä½•é™åˆ¶ç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºåœ¨æˆ‘ä»¬â€œäº‘ç¬”è®°â€çš„æˆæƒèŒƒå›´å’Œä½¿ç”¨æœŸé™ï¼Ÿéš¾é“æŠŠæ‰€æœ‰èµ„æ–™éƒ½æ°¸ä¹…æš´éœ²ç»™å®ƒå—ï¼Ÿå¦‚æœç”¨æˆ·ä¿®æ”¹äº†å¯†ç æ”¶å›äº†æƒé™ï¼Œé‚£ä¹ˆæ‰€æœ‰ç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºä¼šå…¨éƒ¨å¤±æ•ˆã€‚åªè¦æœ‰ä¸€ä¸ªæ¥å…¥çš„ç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºé­åˆ°ç ´è§£ï¼Œé‚£ä¹ˆç”¨æˆ·çš„å¯†ç å°±ä¼šæ³„éœ²ï¼Œåæœä¸å ªè®¾æƒ³ã€‚ä¸ºäº†è§£å†³å¦‚ä¸Šé—®é¢˜ï¼ŒoAuthåº”ç”¨è€Œç”Ÿã€‚åè¯è§£é‡Š  ç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºï¼ˆThird-party applicationï¼‰ï¼š åˆç§°ä¹‹ä¸ºå®¢æˆ·ç«¯ï¼ˆclientï¼‰ï¼Œæ¯”å¦‚ä¸ŠèŠ‚ä¸­æåˆ°çš„è®¾å¤‡ï¼ˆPCã€Androidã€iPhoneã€TVã€Watchï¼‰ï¼Œæˆ‘ä»¬ä¼šåœ¨è¿™äº›è®¾å¤‡ä¸­å®‰è£…æˆ‘ä»¬è‡ªå·±ç ”å‘çš„ APPã€‚åˆæ¯”å¦‚æˆ‘ä»¬çš„äº§å“æƒ³è¦ä½¿ç”¨ QQã€å¾®ä¿¡ç­‰ç¬¬ä¸‰æ–¹ç™»å½•ã€‚å¯¹æˆ‘ä»¬çš„äº§å“æ¥è¯´ï¼ŒQQã€å¾®ä¿¡ç™»å½•æ˜¯ç¬¬ä¸‰æ–¹ç™»å½•ç³»ç»Ÿã€‚æˆ‘ä»¬åˆéœ€è¦ç¬¬ä¸‰æ–¹ç™»å½•ç³»ç»Ÿçš„èµ„æºï¼ˆå¤´åƒã€æ˜µç§°ç­‰ï¼‰ã€‚å¯¹äº QQã€å¾®ä¿¡ç­‰ç³»ç»Ÿæˆ‘ä»¬åˆæ˜¯ç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºã€‚  HTTP æœåŠ¡æä¾›å•†ï¼ˆHTTP serviceï¼‰ï¼š æˆ‘ä»¬çš„äº‘ç¬”è®°äº§å“ä»¥åŠ QQã€å¾®ä¿¡ç­‰éƒ½å¯ä»¥ç§°ä¹‹ä¸ºâ€œæœåŠ¡æä¾›å•†â€ã€‚  èµ„æºæ‰€æœ‰è€…ï¼ˆResource Ownerï¼‰ï¼š åˆç§°ä¹‹ä¸ºç”¨æˆ·ï¼ˆuserï¼‰ã€‚ç”¨æˆ·ä»£ç†ï¼ˆUser Agentï¼‰ï¼š æ¯”å¦‚æµè§ˆå™¨ï¼Œä»£æ›¿ç”¨æˆ·å»è®¿é—®è¿™äº›èµ„æºã€‚  è®¤è¯æœåŠ¡å™¨ï¼ˆAuthorization serverï¼‰ï¼š å³æœåŠ¡æä¾›å•†ä¸“é—¨ç”¨æ¥å¤„ç†è®¤è¯çš„æœåŠ¡å™¨ï¼Œç®€å•ç‚¹è¯´å°±æ˜¯ç™»å½•åŠŸèƒ½ï¼ˆéªŒè¯ç”¨æˆ·çš„è´¦å·å¯†ç æ˜¯å¦æ­£ç¡®ä»¥åŠåˆ†é…ç›¸åº”çš„æƒé™ï¼‰  èµ„æºæœåŠ¡å™¨ï¼ˆResource serverï¼‰ï¼š å³æœåŠ¡æä¾›å•†å­˜æ”¾ç”¨æˆ·ç”Ÿæˆçš„èµ„æºçš„æœåŠ¡å™¨ã€‚å®ƒä¸è®¤è¯æœåŠ¡å™¨ï¼Œå¯ä»¥æ˜¯åŒä¸€å°æœåŠ¡å™¨ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸åŒçš„æœåŠ¡å™¨ã€‚ç®€å•ç‚¹è¯´å°±æ˜¯èµ„æºçš„è®¿é—®å…¥å£ï¼Œæ¯”å¦‚ä¸ŠèŠ‚ä¸­æåˆ°çš„â€œäº‘ç¬”è®°æœåŠ¡â€å’Œâ€œäº‘ç›¸å†ŒæœåŠ¡â€éƒ½å¯ä»¥ç§°ä¹‹ä¸ºèµ„æºæœåŠ¡å™¨ã€‚äº¤äº’è¿‡ç¨‹oAuth åœ¨ â€œå®¢æˆ·ç«¯â€ ä¸ â€œæœåŠ¡æä¾›å•†â€ ä¹‹é—´ï¼Œè®¾ç½®äº†ä¸€ä¸ªæˆæƒå±‚ï¼ˆauthorization layerï¼‰ã€‚â€å®¢æˆ·ç«¯â€ ä¸èƒ½ç›´æ¥ç™»å½• â€œæœåŠ¡æä¾›å•†â€ï¼Œåªèƒ½ç™»å½•æˆæƒå±‚ï¼Œä»¥æ­¤å°†ç”¨æˆ·ä¸å®¢æˆ·ç«¯åŒºåˆ†å¼€æ¥ã€‚â€å®¢æˆ·ç«¯â€ ç™»å½•æˆæƒå±‚æ‰€ç”¨çš„ä»¤ç‰Œï¼ˆtokenï¼‰ï¼Œä¸ç”¨æˆ·çš„å¯†ç ä¸åŒã€‚ç”¨æˆ·å¯ä»¥åœ¨ç™»å½•çš„æ—¶å€™ï¼ŒæŒ‡å®šæˆæƒå±‚ä»¤ç‰Œçš„æƒé™èŒƒå›´å’Œæœ‰æ•ˆæœŸã€‚â€å®¢æˆ·ç«¯â€ ç™»å½•æˆæƒå±‚ä»¥åï¼Œâ€æœåŠ¡æä¾›å•†â€ æ ¹æ®ä»¤ç‰Œçš„æƒé™èŒƒå›´å’Œæœ‰æ•ˆæœŸï¼Œå‘ â€œå®¢æˆ·ç«¯â€ å¼€æ”¾ç”¨æˆ·å‚¨å­˜çš„èµ„æ–™ã€‚å¼€æ”¾å¹³å°äº¤äº’æ¨¡å‹äº¤äº’æ¨¡å‹æ¶‰åŠä¸‰æ–¹ï¼š  èµ„æºæ‹¥æœ‰è€…ï¼šç”¨æˆ·  å®¢æˆ·ç«¯ï¼šAPP  æœåŠ¡æä¾›æ–¹ï¼šåŒ…å«ä¸¤ä¸ªè§’è‰²1.  è®¤è¯æœåŠ¡å™¨2.  èµ„æºæœåŠ¡å™¨è®¤è¯æœåŠ¡å™¨è®¤è¯æœåŠ¡å™¨è´Ÿè´£å¯¹ç”¨æˆ·è¿›è¡Œè®¤è¯ï¼Œå¹¶æˆæƒç»™å®¢æˆ·ç«¯æƒé™ã€‚è®¤è¯å¾ˆå®¹æ˜“å®ç°ï¼ˆéªŒè¯è´¦å·å¯†ç å³å¯ï¼‰ï¼Œé—®é¢˜åœ¨äºå¦‚ä½•æˆæƒã€‚æ¯”å¦‚æˆ‘ä»¬ä½¿ç”¨ç¬¬ä¸‰æ–¹ç™»å½• â€œæœ‰é“äº‘ç¬”è®°â€ï¼Œä½ å¯ä»¥çœ‹åˆ°å¦‚ä½¿ç”¨ QQ ç™»å½•çš„æˆæƒé¡µé¢ä¸Šæœ‰ â€œæœ‰é“äº‘ç¬”è®°å°†è·å¾—ä»¥ä¸‹æƒé™â€ çš„å­—æ ·ä»¥åŠæƒé™ä¿¡æ¯è®¤è¯æœåŠ¡å™¨éœ€è¦çŸ¥é“è¯·æ±‚æˆæƒçš„å®¢æˆ·ç«¯çš„èº«ä»½ä»¥åŠè¯¥å®¢æˆ·ç«¯è¯·æ±‚çš„æƒé™ã€‚æˆ‘ä»¬å¯ä»¥ä¸ºæ¯ä¸€ä¸ªå®¢æˆ·ç«¯é¢„å…ˆåˆ†é…ä¸€ä¸ª idï¼Œå¹¶ç»™æ¯ä¸ª id å¯¹åº”ä¸€ä¸ªåç§°ä»¥åŠæƒé™ä¿¡æ¯ã€‚è¿™äº›ä¿¡æ¯å¯ä»¥å†™åœ¨è®¤è¯æœåŠ¡å™¨ä¸Šçš„é…ç½®æ–‡ä»¶é‡Œã€‚ç„¶åï¼Œå®¢æˆ·ç«¯æ¯æ¬¡æ‰“å¼€æˆæƒé¡µé¢çš„æ—¶å€™ï¼ŒæŠŠå±äºè‡ªå·±çš„ id ä¼ è¿‡æ¥ï¼Œå¦‚ï¼šhttp://www.tangyuewei.com/login?client_id=yourClientIdéšç€æ—¶é—´çš„æ¨ç§»å’Œä¸šåŠ¡çš„å¢é•¿ï¼Œä¼šå‘ç°ï¼Œä¿®æ”¹é…ç½®çš„å·¥ä½œæ¶ˆè€—äº†å¤ªå¤šçš„äººåŠ›ã€‚æœ‰æ²¡æœ‰åŠæ³•æŠŠè¿™ä¸ªè¿‡ç¨‹è‡ªåŠ¨åŒ–èµ·æ¥ï¼ŒæŠŠäººå·¥ä»è¿™äº›ç¹ççš„æ“ä½œä¸­è§£æ”¾å‡ºæ¥ï¼Ÿå½“å¼€å§‹è€ƒè™‘è¿™ä¸€æ­¥ï¼Œå¼€æ”¾å¹³å°çš„æˆå‹ä¹Ÿå°±æ˜¯æ°´åˆ°æ¸ æˆçš„äº‹æƒ…äº†ã€‚oAuth2 å¼€æ”¾å¹³å°å¼€æ”¾å¹³å°æ˜¯ç”± oAuth2.0 åè®®è¡ç”Ÿå‡ºæ¥çš„ä¸€ä¸ªäº§å“ã€‚å®ƒçš„ä½œç”¨æ˜¯è®©å®¢æˆ·ç«¯è‡ªå·±å»è¿™ä¸Šé¢è¿›è¡Œæ³¨å†Œã€ç”³è¯·ï¼Œé€šè¿‡ä¹‹åç³»ç»Ÿè‡ªåŠ¨åˆ†é…client_idï¼Œå¹¶å®Œæˆé…ç½®çš„è‡ªåŠ¨æ›´æ–°ï¼ˆé€šå¸¸æ˜¯å†™è¿›æ•°æ®åº“ï¼‰ã€‚å®¢æˆ·ç«¯è¦å®Œæˆç”³è¯·ï¼Œé€šå¸¸éœ€è¦å¡«å†™å®¢æˆ·ç«¯ç¨‹åºçš„ç±»å‹ï¼ˆWebã€App ç­‰ï¼‰ã€ä¼ä¸šä»‹ç»ã€æ‰§ç…§ã€æƒ³è¦è·å–çš„æƒé™ç­‰ç­‰ä¿¡æ¯ã€‚è¿™äº›ä¿¡æ¯åœ¨å¾—åˆ°æœåŠ¡æä¾›æ–¹çš„äººå·¥å®¡æ ¸é€šè¿‡åï¼Œå¼€å‘å¹³å°å°±ä¼šè‡ªåŠ¨åˆ†é…ä¸€ä¸ªclient_idç»™å®¢æˆ·ç«¯äº†ã€‚åˆ°è¿™é‡Œï¼Œå·²ç»å®ç°äº†ç™»å½•è®¤è¯ã€æˆæƒé¡µçš„ä¿¡æ¯å±•ç¤ºã€‚é‚£ä¹ˆæ¥ä¸‹æ¥ï¼Œå½“ç”¨æˆ·æˆåŠŸè¿›è¡Œæˆæƒä¹‹åï¼Œè®¤è¯æœåŠ¡å™¨éœ€è¦æŠŠäº§ç”Ÿçš„access_tokenå‘é€ç»™å®¢æˆ·ç«¯ï¼Œæ–¹æ¡ˆå¦‚ä¸‹ï¼š  è®©å®¢æˆ·ç«¯åœ¨å¼€æ”¾å¹³å°ç”³è¯·çš„æ—¶å€™ï¼Œå¡«å†™ä¸€ä¸ª URLï¼Œä¾‹å¦‚ï¼šhttp://www.tangyuewei.com  æ¯æ¬¡å½“æœ‰ç”¨æˆ·æˆæƒæˆåŠŸä¹‹åï¼Œè®¤è¯æœåŠ¡å™¨å°†é¡µé¢é‡å®šå‘åˆ°è¿™ä¸ªURLï¼ˆå›è°ƒï¼‰ï¼Œå¹¶å¸¦ä¸Šaccess_tokenï¼Œä¾‹å¦‚ï¼šhttp://www.tangyuewei.com?access_token=123456789  å®¢æˆ·ç«¯æ¥æ”¶åˆ°äº†è¿™ä¸ªaccess_tokenï¼Œè€Œä¸”è®¤è¯æœåŠ¡å™¨çš„æˆæƒåŠ¨ä½œå·²ç»å®Œæˆï¼Œåˆšå¥½å¯ä»¥æŠŠç¨‹åºçš„æ§åˆ¶æƒè½¬äº¤å›å®¢æˆ·ç«¯ï¼Œç”±å®¢æˆ·ç«¯å†³å®šæ¥ä¸‹æ¥å‘ç”¨æˆ·å±•ç¤ºä»€ä¹ˆå†…å®¹ã€‚ä»¤ç‰Œçš„è®¿é—®ä¸åˆ·æ–°Access TokenAccess Token æ˜¯å®¢æˆ·ç«¯è®¿é—®èµ„æºæœåŠ¡å™¨çš„ä»¤ç‰Œã€‚æ‹¥æœ‰è¿™ä¸ªä»¤ç‰Œä»£è¡¨ç€å¾—åˆ°ç”¨æˆ·çš„æˆæƒã€‚ç„¶è€Œï¼Œè¿™ä¸ªæˆæƒåº”è¯¥æ˜¯ä¸´æ—¶çš„ï¼Œæœ‰ä¸€å®šæœ‰æ•ˆæœŸã€‚è¿™æ˜¯å› ä¸ºï¼ŒAccess Token åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­å¯èƒ½ä¼šæ³„éœ²ã€‚ç»™ Access Token é™å®šä¸€ä¸ª è¾ƒçŸ­çš„æœ‰æ•ˆæœŸ å¯ä»¥é™ä½å›  Access Token æ³„éœ²è€Œå¸¦æ¥çš„é£é™©ã€‚ç„¶è€Œå¼•å…¥äº†æœ‰æ•ˆæœŸä¹‹åï¼Œå®¢æˆ·ç«¯ä½¿ç”¨èµ·æ¥å°±ä¸é‚£ä¹ˆæ–¹ä¾¿äº†ã€‚æ¯å½“ Access Token è¿‡æœŸï¼Œå®¢æˆ·ç«¯å°±å¿…é¡»é‡æ–°å‘ç”¨æˆ·ç´¢è¦æˆæƒã€‚è¿™æ ·ç”¨æˆ·å¯èƒ½æ¯éš”å‡ å¤©ï¼Œç”šè‡³æ¯å¤©éƒ½éœ€è¦è¿›è¡Œæˆæƒæ“ä½œã€‚è¿™æ˜¯ä¸€ä»¶éå¸¸å½±å“ç”¨æˆ·ä½“éªŒçš„äº‹æƒ…ã€‚å¸Œæœ›æœ‰ä¸€ç§æ–¹æ³•ï¼Œå¯ä»¥é¿å…è¿™ç§æƒ…å†µã€‚äºæ˜¯oAuth2.0å¼•å…¥äº†Refresh Tokenæœºåˆ¶Refresh TokenRefresh Tokençš„ä½œç”¨æ˜¯ç”¨æ¥åˆ·æ–°Access Tokenã€‚è®¤è¯æœåŠ¡å™¨æä¾›ä¸€ä¸ªåˆ·æ–°æ¥å£ï¼Œä¾‹å¦‚ï¼šhttp://www.tangyuewei.com/refresh?refresh_token=&amp;client_id=ä¼ å…¥refresh_token å’Œ client_idï¼Œè®¤è¯æœåŠ¡å™¨éªŒè¯é€šè¿‡åï¼Œè¿”å›ä¸€ä¸ªæ–°çš„ Access Tokenã€‚ä¸ºäº†å®‰å…¨ï¼ŒoAuth2.0 å¼•å…¥äº†ä¸¤ä¸ªæªæ–½ï¼š  oAuth2.0è¦æ±‚ï¼ŒRefresh Token ä¸€å®šæ˜¯ä¿å­˜åœ¨å®¢æˆ·ç«¯çš„æœåŠ¡å™¨ä¸Š ï¼Œè€Œç»ä¸èƒ½å­˜æ”¾åœ¨ç‹­ä¹‰çš„å®¢æˆ·ç«¯ï¼ˆä¾‹å¦‚ Appã€PC ç«¯è½¯ä»¶ï¼‰ä¸Šã€‚è°ƒç”¨ refresh æ¥å£çš„æ—¶å€™ï¼Œä¸€å®šæ˜¯ä»æœåŠ¡å™¨åˆ°æœåŠ¡å™¨çš„è®¿é—®ã€‚  oAuth2.0å¼•å…¥äº†client_secretæœºåˆ¶ã€‚å³æ¯ä¸€ä¸ªclient_idéƒ½å¯¹åº”ä¸€ä¸ª client_secretã€‚è¿™ä¸ª client_secret ä¼šåœ¨å®¢æˆ·ç«¯ç”³è¯·client_idæ—¶ï¼Œéšclient_idä¸€èµ·åˆ†é…ç»™å®¢æˆ·ç«¯ã€‚å®¢æˆ·ç«¯å¿…é¡»æŠŠ client_secret å¦¥å–„ä¿ç®¡åœ¨æœåŠ¡å™¨ä¸Šï¼Œå†³ä¸èƒ½æ³„éœ²ã€‚åˆ·æ–°Access Tokenæ—¶ï¼Œéœ€è¦éªŒè¯è¿™ä¸ª client_secretã€‚å®é™…ä¸Šçš„åˆ·æ–°æ¥å£ç±»ä¼¼äºï¼š    http://www.tangyuewei.com/refresh?refresh_token=&amp;client_id=&amp;client_secret=        ä»¥ä¸Šå°±æ˜¯Refresh Tokenæœºåˆ¶ã€‚Refresh Tokençš„æœ‰æ•ˆæœŸéå¸¸é•¿ï¼Œä¼šåœ¨ç”¨æˆ·æˆæƒæ—¶ï¼ŒéšAccess Tokenä¸€èµ·é‡å®šå‘åˆ°å›è°ƒURLï¼Œä¼ é€’ç»™å®¢æˆ·ç«¯ã€‚  å®¢æˆ·ç«¯æˆæƒæ¨¡å¼æ¦‚è¿°å®¢æˆ·ç«¯å¿…é¡»å¾—åˆ°ç”¨æˆ·çš„æˆæƒï¼ˆauthorization grantï¼‰ï¼Œæ‰èƒ½è·å¾—ä»¤ç‰Œï¼ˆaccess tokenï¼‰ã€‚oAuth 2.0 å®šä¹‰äº†å››ç§æˆæƒæ–¹å¼ã€‚  implicitï¼šç®€åŒ–æ¨¡å¼ï¼Œä¸æ¨èä½¿ç”¨  authorization codeï¼šæˆæƒç æ¨¡å¼  resource owner password credentialsï¼šå¯†ç æ¨¡å¼  client credentialsï¼šå®¢æˆ·ç«¯æ¨¡å¼ç®€åŒ–æ¨¡å¼ç®€åŒ–æ¨¡å¼é€‚ç”¨äºçº¯é™æ€é¡µé¢åº”ç”¨ã€‚æ‰€è°“çº¯é™æ€é¡µé¢åº”ç”¨ï¼Œä¹Ÿå°±æ˜¯åº”ç”¨æ²¡æœ‰åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œä»£ç çš„æƒé™ï¼ˆé€šå¸¸æ˜¯æŠŠä»£ç æ‰˜ç®¡åœ¨åˆ«äººçš„æœåŠ¡å™¨ä¸Šï¼‰ï¼Œåªæœ‰å‰ç«¯ JS ä»£ç çš„æ§åˆ¶æƒã€‚è¿™ç§åœºæ™¯ä¸‹ï¼Œåº”ç”¨æ˜¯æ²¡æœ‰æŒä¹…åŒ–å­˜å‚¨çš„èƒ½åŠ›çš„ã€‚å› æ­¤ï¼ŒæŒ‰ç…§oAuth2.0çš„è§„å®šï¼Œè¿™ç§åº”ç”¨æ˜¯æ‹¿ä¸åˆ°Refresh Tokençš„ã€‚è¯¥æ¨¡å¼ä¸‹ï¼Œaccess_tokenå®¹æ˜“æ³„éœ²ä¸”ä¸å¯åˆ·æ–°æˆæƒç æ¨¡å¼æˆæƒç æ¨¡å¼é€‚ç”¨äºæœ‰è‡ªå·±çš„æœåŠ¡å™¨çš„åº”ç”¨ï¼Œå®ƒæ˜¯ä¸€ä¸ªä¸€æ¬¡æ€§çš„ä¸´æ—¶å‡­è¯ï¼Œç”¨æ¥æ¢å–access_tokenå’Œrefresh_tokenã€‚è®¤è¯æœåŠ¡å™¨æä¾›äº†ä¸€ä¸ªç±»ä¼¼è¿™æ ·çš„æ¥å£ï¼šhttps://www.tangyuewei.com/exchange?code=&amp;client_id=&amp;client_secret=éœ€è¦ä¼ å…¥codeã€client_idä»¥åŠclient_secretã€‚éªŒè¯é€šè¿‡åï¼Œè¿”å›access_tokenå’Œrefresh_tokenã€‚ä¸€æ—¦æ¢å–æˆåŠŸï¼Œcodeç«‹å³ä½œåºŸï¼Œä¸èƒ½å†ä½¿ç”¨ç¬¬äºŒæ¬¡ã€‚è¿™ä¸ªcodeçš„ä½œç”¨æ˜¯ä¿æŠ¤tokençš„å®‰å…¨æ€§ã€‚ç®€å•æ¨¡å¼ä¸‹ï¼Œtokenæ˜¯ä¸å®‰å…¨çš„ã€‚è¿™æ˜¯å› ä¸ºåœ¨ç¬¬ 4 æ­¥å½“ä¸­ç›´æ¥æŠŠtokenè¿”å›ç»™åº”ç”¨ã€‚è€Œè¿™ä¸€æ­¥å®¹æ˜“è¢«æ‹¦æˆªã€çªƒå¬ã€‚å¼•å…¥äº†codeä¹‹åï¼Œå³ä½¿æ”»å‡»è€…èƒ½å¤Ÿçªƒå–åˆ°codeï¼Œä½†æ˜¯ç”±äºä»–æ— æ³•è·å¾—åº”ç”¨ä¿å­˜åœ¨æœåŠ¡å™¨çš„client_secretï¼Œå› æ­¤ä¹Ÿæ— æ³•é€šè¿‡codeæ¢å–tokenã€‚è€Œç¬¬ 5 æ­¥ï¼Œä¸ºä»€ä¹ˆä¸å®¹æ˜“è¢«æ‹¦æˆªã€çªƒå¬å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºï¼Œé¦–å…ˆï¼Œè¿™æ˜¯ä¸€ä¸ªä»æœåŠ¡å™¨åˆ°æœåŠ¡å™¨çš„è®¿é—®ï¼Œé»‘å®¢æ¯”è¾ƒéš¾æ•æ‰åˆ°ï¼›å…¶æ¬¡ï¼Œè¿™ä¸ªè¯·æ±‚é€šå¸¸è¦æ±‚æ˜¯httpsçš„å®ç°ã€‚å³ä½¿èƒ½çªƒå¬åˆ°æ•°æ®åŒ…ä¹Ÿæ— æ³•è§£æå‡ºå†…å®¹ã€‚æœ‰äº†è¿™ä¸ªcodeï¼Œtoken çš„å®‰å…¨æ€§å¤§å¤§æé«˜ã€‚å› æ­¤ï¼ŒoAuth2.0é¼“åŠ±ä½¿ç”¨è¿™ç§æ–¹å¼è¿›è¡Œæˆæƒï¼Œè€Œç®€å•æ¨¡å¼åˆ™æ˜¯åœ¨ä¸å¾—å·²æƒ…å†µä¸‹æ‰ä¼šä½¿ç”¨ã€‚å¯†ç æ¨¡å¼å¯†ç æ¨¡å¼ä¸­ï¼Œç”¨æˆ·å‘å®¢æˆ·ç«¯æä¾›è‡ªå·±çš„ç”¨æˆ·åå’Œå¯†ç ã€‚å®¢æˆ·ç«¯ä½¿ç”¨è¿™äº›ä¿¡æ¯ï¼Œå‘ â€œæœåŠ¡å•†æä¾›å•†â€ ç´¢è¦æˆæƒã€‚åœ¨è¿™ç§æ¨¡å¼ä¸­ï¼Œç”¨æˆ·å¿…é¡»æŠŠè‡ªå·±çš„å¯†ç ç»™å®¢æˆ·ç«¯ï¼Œä½†æ˜¯å®¢æˆ·ç«¯ä¸å¾—å‚¨å­˜å¯†ç ã€‚è¿™é€šå¸¸ç”¨åœ¨ç”¨æˆ·å¯¹å®¢æˆ·ç«¯é«˜åº¦ä¿¡ä»»çš„æƒ…å†µä¸‹ï¼Œæ¯”å¦‚å®¢æˆ·ç«¯æ˜¯æ“ä½œç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ã€‚ä¸€ä¸ªå…¸å‹çš„ä¾‹å­æ˜¯åŒä¸€ä¸ªä¼ä¸šå†…éƒ¨çš„ä¸åŒäº§å“è¦ä½¿ç”¨æœ¬ä¼ä¸šçš„oAuth2.0ä½“ç³»ã€‚åœ¨æœ‰äº›æƒ…å†µä¸‹ï¼Œäº§å“å¸Œæœ›èƒ½å¤Ÿå®šåˆ¶åŒ–æˆæƒé¡µé¢ã€‚ç”±äºæ˜¯åŒä¸ªä¼ä¸šï¼Œä¸éœ€è¦å‘ç”¨æˆ·å±•ç¤ºâ€œxxxå°†è·å–ä»¥ä¸‹æƒé™â€ç­‰å­—æ ·å¹¶è¯¢é—®ç”¨æˆ·çš„æˆæƒæ„å‘ï¼Œè€Œåªéœ€è¿›è¡Œç”¨æˆ·çš„èº«ä»½è®¤è¯å³å¯ã€‚è¿™ä¸ªæ—¶å€™ï¼Œç”±å…·ä½“çš„äº§å“å›¢é˜Ÿå¼€å‘å®šåˆ¶åŒ–çš„æˆæƒç•Œé¢ï¼Œæ¥æ”¶ç”¨æˆ·è¾“å…¥è´¦å·å¯†ç ï¼Œå¹¶ç›´æ¥ä¼ é€’ç»™é‰´æƒæœåŠ¡å™¨è¿›è¡Œæˆæƒå³å¯ã€‚å®¢æˆ·ç«¯æ¨¡å¼å¦‚æœä¿¡ä»»å…³ç³»å†è¿›ä¸€æ­¥ï¼Œæˆ–è€…è°ƒç”¨è€…æ˜¯ä¸€ä¸ªåç«¯çš„æ¨¡å—ï¼Œæ²¡æœ‰ç”¨æˆ·ç•Œé¢çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨å®¢æˆ·ç«¯æ¨¡å¼ã€‚é‰´æƒæœåŠ¡å™¨ç›´æ¥å¯¹å®¢æˆ·ç«¯è¿›è¡Œèº«ä»½éªŒè¯ï¼ŒéªŒè¯é€šè¿‡åï¼Œè¿”å›tokenã€‚"
},

{
"title": "2022ä¸2023",
"url": "/posts/2022%E4%B8%8E2023/",
"categories": "åšå®¢é‚£äº›äº‹",
"tags": "æ€»ç»“",
"date": "2023-01-06 10:00:00 +0800",







"snippet": "2023  å…‰é˜´ä¼¼ç®­ï¼Œå²æœˆå¦‚æ¢­  ä¸ç¦æ„Ÿå¹ï¼Œæ—¶é—´å¦‚æ­¤ä¹‹å¿«  å›é¦–è¿™ä¸€å¹´ï¼Œæ‰‹é‡Œçš„å¥½ç‰Œè¶Šæ‰“è¶Šçƒ‚ï¼Œåˆ°å‘ç°éƒ½æ˜¯çƒ‚ç‰Œæ—¶æ‰æƒ³ç€å¦‚ä½•æ‰“å¥½  å¹´åˆæ—¶ï¼Œå‘¨è€Œå¤å§‹ï¼Œå¹³æ·¡æ— å¥‡ï¼ŒåŠå¹´å¦‚ä¸€æ—¥  å¹´ä¸­æ—¶ï¼Œæ‰å‘ç°è‡ªå·±å¤ªè¿‡æ·±æƒ…ï¼Œå› ä¸ºå¾€å¾€éƒ½æ˜¯æ·±æƒ…è‡³æçš„äººæ‰èƒ½ä¸Šå½“å—éª—  å¹´æœ«æ—¶ï¼Œç–«æƒ…ä¸‰å¹´ï¼Œçªç„¶çš„æ”¾å¼€ï¼ŒçŒä¸åŠé˜²ï¼Œæœ€åä¸€å‘¨ï¼ŒğŸäº†ä¸ªğŸ  2023å¹´äº†ï¼ŒåŸæœ¬ä»¥ä¸ºå‰é¢é‚£å‡ å¹´å·²æ…¢æ…¢åœ¨èµ°å‡ºä½è°·ï¼Œæ‰å‘ç°ä¸€ç›´åœæ»ä¸å‰  Tomorrow wil...",
"content": "2023  å…‰é˜´ä¼¼ç®­ï¼Œå²æœˆå¦‚æ¢­  ä¸ç¦æ„Ÿå¹ï¼Œæ—¶é—´å¦‚æ­¤ä¹‹å¿«  å›é¦–è¿™ä¸€å¹´ï¼Œæ‰‹é‡Œçš„å¥½ç‰Œè¶Šæ‰“è¶Šçƒ‚ï¼Œåˆ°å‘ç°éƒ½æ˜¯çƒ‚ç‰Œæ—¶æ‰æƒ³ç€å¦‚ä½•æ‰“å¥½  å¹´åˆæ—¶ï¼Œå‘¨è€Œå¤å§‹ï¼Œå¹³æ·¡æ— å¥‡ï¼ŒåŠå¹´å¦‚ä¸€æ—¥  å¹´ä¸­æ—¶ï¼Œæ‰å‘ç°è‡ªå·±å¤ªè¿‡æ·±æƒ…ï¼Œå› ä¸ºå¾€å¾€éƒ½æ˜¯æ·±æƒ…è‡³æçš„äººæ‰èƒ½ä¸Šå½“å—éª—  å¹´æœ«æ—¶ï¼Œç–«æƒ…ä¸‰å¹´ï¼Œçªç„¶çš„æ”¾å¼€ï¼ŒçŒä¸åŠé˜²ï¼Œæœ€åä¸€å‘¨ï¼ŒğŸäº†ä¸ªğŸ  2023å¹´äº†ï¼ŒåŸæœ¬ä»¥ä¸ºå‰é¢é‚£å‡ å¹´å·²æ…¢æ…¢åœ¨èµ°å‡ºä½è°·ï¼Œæ‰å‘ç°ä¸€ç›´åœæ»ä¸å‰  Tomorrow will be better. Come on T Y W.  æ¥ä¸‹æ¥çš„å‡ å¹´é‡Œï¼Œå‡†å¤‡å¥½è“„åŠ¿å¾…å‘ï¼Œè¯»ä¸‡å·ä¹¦ï¼Œè¡Œä¸‡é‡Œè·¯ï¼Œé˜…äººæ— æ•°  æ„¿å†å°½åƒå¸†ï¼Œå½’æ¥ä»æ˜¯å°‘å¹´  ç ¥ç ºå‰è¡Œï¼Œæœªæ¥å¯æœŸï¼ŒT Y W ğŸ„ ğŸ…±ï¸"
},

{
"title": "springbootå‡çº§2.7åï¼Œæ— æ³•è®¾ç½®è·¨åŸŸçš„é—®é¢˜",
"url": "/posts/spring-cors/",
"categories": "Spring Boot",
"tags": "Spring Boot",
"date": "2022-08-12 14:00:00 +0800",







"snippet": "æè¿°è·¨åŸŸæ˜¯åç«¯æ¥å£å¿…é¡»å¤„ç†çš„é—®é¢˜ï¼Œæ–°æ­å»ºçš„æœåŠ¡ä½¿ç”¨SpringBootçš„ç‰ˆæœ¬ä¸º2.7.0ã€‚ä½¿ç”¨postmanè¯·æ±‚æ¥å£æ—¶ä¸å¸¦originï¼Œæ¥å£éƒ½æ˜¯å¯ä»¥æ­£å¸¸è¿”å›çš„ï¼Œå½“åŠ ä¸Šäº†originåï¼Œå°±æŠ¥é”™äº†ï¼ŒæŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼šjava.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot cont...",
"content": "æè¿°è·¨åŸŸæ˜¯åç«¯æ¥å£å¿…é¡»å¤„ç†çš„é—®é¢˜ï¼Œæ–°æ­å»ºçš„æœåŠ¡ä½¿ç”¨SpringBootçš„ç‰ˆæœ¬ä¸º2.7.0ã€‚ä½¿ç”¨postmanè¯·æ±‚æ¥å£æ—¶ä¸å¸¦originï¼Œæ¥å£éƒ½æ˜¯å¯ä»¥æ­£å¸¸è¿”å›çš„ï¼Œå½“åŠ ä¸Šäº†originåï¼Œå°±æŠ¥é”™äº†ï¼ŒæŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼šjava.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value \"*\" since that cannot be set on the \"Access-Control-Allow-Origin\" response header. To allow credentials to a set of origins, list them explicitly or consider using \"allowedOriginPatterns\" instead.\tat org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:475)\tat org.springframework.web.cors.CorsConfiguration.checkOrigin(CorsConfiguration.java:579)\tat org.springframework.web.cors.DefaultCorsProcessor.checkOrigin(DefaultCorsProcessor.java:174)\tat org.springframework.web.cors.DefaultCorsProcessor.handleInternal(DefaultCorsProcessor.java:116)\tat org.springframework.web.cors.DefaultCorsProcessor.processRequest(DefaultCorsProcessor.java:95)\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:87)\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)æˆ‘ä»¬åˆå§‹çš„è·¨åŸŸè®¾ç½®æ˜¯è¿™æ ·çš„@Configuration@EnableWebMvcpublic class CORSConfig implements WebMvcConfigurer {    @Override    public void addCorsMappings(CorsRegistry registry) {        registry.addMapping(\"/**\")                .allowedOrigins(\"*\")                .allowedMethods(\"GET\", \"HEAD\", \"POST\", \"PUT\", \"DELETE\", \"OPTIONS\")                .allowCredentials(true)                .allowedHeaders(\"*\")                .maxAge(1800L);    }}æ ¹æ®æŠ¥é”™çš„ä¿¡æ¯æç¤ºï¼Œæˆ‘ä»¬å°†allowedOriginsä¿®æ”¹ä¸ºallowedOriginPatterns@Configuration@EnableWebMvcpublic class CORSConfig implements WebMvcConfigurer {    @Override    public void addCorsMappings(CorsRegistry registry) {        registry.addMapping(\"/**\")                .allowedOriginPatterns(\"*\")                .allowedMethods(\"GET\", \"HEAD\", \"POST\", \"PUT\", \"DELETE\", \"OPTIONS\")                .allowCredentials(true)                .allowedHeaders(\"*\")                .maxAge(1800L);    }}æ­£å¸¸æƒ…å†µä¸‹ï¼Œå¯åŠ¨åº”ç”¨è®¿é—®ï¼Œåº”è¯¥å°±è§£å†³äº†ã€‚å½“è¿˜æ˜¯æŠ¥ç›¸åŒçš„é”™è¯¯ã€‚æˆ‘ä»¬è”ç³»äº†å‰ç«¯å’Œè¿ç»´ï¼Œåœ¨jså’Œnginxç«¯éƒ½ä½œäº†å¤„ç†ï¼Œä¾ç„¶æ— æµäºäº‹ã€‚  è¿˜å‘ç°ä¸€ä¸ªè¯¡å¼‚çš„é—®é¢˜ï¼Œæ— è®ºæˆ‘æœ¬åœ°å¦‚ä½•ä¸Šè¿°è·¨åŸŸè®¾ç½®ï¼Œéƒ½æŠ¥ä¸Šé¢ç›¸åŒçš„é”™è¯¯ã€‚  å› ä¸ºçº¿ä¸Šè¦ä½¿ç”¨ï¼Œè¢«è¿«ç”¨å…¶ä»–è§£å†³æ–¹æ¡ˆç´§æ€¥å¤„ç†æ‰ã€‚åæ¥å‘ç°ç¥é˜Ÿå‹å±…ç„¶åœ¨springbootçš„å¯åŠ¨ç±»ä¸­åˆå†™äº†ä¸ªè·¨åŸŸçš„è®¾ç½®Beanã€‚æ‰€ä»¥å‡ºç°å¦‚ä¸‹æƒ…å†µä¹Ÿå°±ä¸å¥‡æ€ªäº†ï¼Œå†æ¬¡æç¤ºåŠ¡å¿…è§„èŒƒç¼–ç ï¼Œä¸ç„¶æ’æŸ¥é”™è¯¯éƒ½èƒ½æŠŠäººæ•´æ‡µé€¼ã€‚-_-||äºæ˜¯æˆ‘æœ¬åœ°debugè®¾ç½®äº†æ–­ç‚¹åœ¨CorsConfiguration.java:475çš„CorsConfiguration.validateAllowCredentialsæ–¹æ³•ã€‚å‘ç°ä¸€æ¬¡è¯·æ±‚è¿›äº†ä¸¤æ¬¡æ–­ç‚¹ã€‚å…¶ä¸­æœ‰ä¸€æ¬¡if (this.allowCredentials == Boolean.TRUE &amp;&amp;this.allowedOrigins != null &amp;&amp; this.allowedOrigins.contains(ALL))åˆ¤æ–­æ˜¯é€šè¿‡çš„ï¼Œæ˜¾ç¤ºthis.allowedOriginsçš„å€¼ä¸ºâ€*â€;æ‰€ä»¥å°±æŠ›äº†è¿™å¼‚å¸¸java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value \"*\" since that cannot be set on the \"Access-Control-Allow-Origin\" response header. To allow credentials to a set of origins, list them explicitly or consider using \"allowedOriginPatterns\" insteadã€‚/** * Validate that when {@link #setAllowCredentials allowCredentials} is true, * {@link #setAllowedOrigins allowedOrigins} does not contain the special * value {@code \"*\"} since in that case the \"Access-Control-Allow-Origin\" * cannot be set to {@code \"*\"}. * @throws IllegalArgumentException if the validation fails * @since 5.3 */public void validateAllowCredentials() {\t\tif (this.allowCredentials == Boolean.TRUE &amp;&amp;\t\t\t\tthis.allowedOrigins != null &amp;&amp; this.allowedOrigins.contains(ALL)) {\t\t\tthrow new IllegalArgumentException(        \"When allowCredentials is true, allowedOrigins cannot contain the special value \\\"*\\\" \" +          \"since that cannot be set on the \\\"Access-Control-Allow-Origin\\\" response header. \" +          \"To allow credentials to a set of origins, list them explicitly \" +          \"or consider using \\\"allowedOriginPatterns\\\" instead.\");\t\t}}å…¶ä»–è§£å†³æ–¹æ¡ˆ  é™çº§springbootçš„ç‰ˆæœ¬åˆ°2.3.xï¼ˆæ¨èï¼‰          ä¹‹å‰æˆ‘ä»¬ä½¿ç”¨springbootçš„2.3.12.RELEASEæ—¶ï¼Œè®¾ç½®è·¨åŸŸæ˜¯ä¸èƒ½allowedOriginPatternsçš„ï¼Œæ¥å£ä¹Ÿæ˜¯æ­£å¸¸ï¼Œå¯ä»¥ä½¿ç”¨mavenç®¡ç†pom.xmlå…ˆé™çº§åˆ°2.3.xçš„ç‰ˆæœ¬ã€‚        å°†CorsConfiguration.javaä¸­CorsConfiguration.validateAllowCredentialsæ–¹æ³•çš„æŠ›å¼‚å¸¸æ³¨é‡Šæ‰å› ä¸ºæˆ‘ä»¬ç›®å‰ç”¨çš„æ˜¯2.7.0ç‰ˆæœ¬ï¼Œå¹¶ä¸”ä½¿ç”¨äº†å¤šæ•°æ®æºç‰¹æ€§ï¼Œä½¿ç”¨mavené™çº§åå¯åŠ¨ä¼šæŠ¥é”™ã€‚ä¿®æ”¹å¤šæ•°æ®æºçš„ä»£ä»·è¿˜æ˜¯å¾ˆå¤§çš„ï¼Œæ‰€ä»¥æˆ‘é€‰æ‹©é‡å†™validateAllowCredentialsæ–¹æ³•ã€‚          é¦–å…ˆåœ¨é¡¹ç›®ä¸­æ–°å»ºorg.springframework.web.corsåŒ…      åœ¨org.springframework.web.corsåŒ…ä¸­æ–°å»ºCorsConfiguration.javaç±»      å°†CorsConfiguration.classä¸­çš„ä»£ç å¤åˆ¶åˆ°æœ¬åœ°ä¸­ï¼Œä¿®æ”¹validateAllowCredentialsæ–¹æ³•ï¼Œæ³¨é‡Šthrow newIllegalArgumentException(When allowCredentials is true, allowedOrigins cannot contain the special value ...)      å¯åŠ¨é¡¹ç›®è®¿é—®è§£å†³äº†ã€‚                  javaåŠ è½½ç±»é‡‡ç”¨å°±è¿‘åŸåˆ™ï¼Œæ•…å¯ä»¥è¿›è¡Œè¦†ç›–ã€‚                    "
},

{
"title": "æ—¶é—´ä¸åœ¨äºä½ æ‹¥æœ‰å¤šå°‘ï¼Œè€Œåœ¨äºä½ æ€æ ·ä½¿ç”¨",
"url": "/posts/%E6%97%B6%E9%97%B4%E4%B8%8D%E5%9C%A8%E4%BA%8E%E4%BD%A0%E6%8B%A5%E6%9C%89%E5%A4%9A%E5%B0%91-%E8%80%8C%E5%9C%A8%E4%BA%8E%E4%BD%A0%E6%80%8E%E6%A0%B7%E4%BD%BF%E7%94%A8/",
"categories": "åšå®¢é‚£äº›äº‹",
"tags": "æ€»ç»“",
"date": "2022-08-05 15:00:00 +0800",







"snippet": "2022å¹´8æœˆ5æ—¥-æ˜ŸæœŸäº”ï¼Œå³å°†è¿æ¥ä¸€ä¸ªæ–°çš„å‘¨æœ«ã€‚è·ç¦»ä¸Šæ¬¡åœ¨åšå®¢ä¸Šå†™ä½œåˆè¿‡äº†å‡ ä¸ªæœˆäº†ã€‚ã€‚ã€‚å‰ä¸¤å¤©å‘ç°ç”³è¯·çš„è°·æ­Œå¹¿å‘Šä½å®¡æ ¸é€šè¿‡äº†ï¼Œç°åœ¨è®¿é—®æˆ‘çš„ç½‘ç«™æœ‰è°·æ­Œçš„å¹¿å‘Šäº†ã€‚å½“æ—¶å¿ƒä¸­è¿˜å¿µæƒ³å¦‚ä½•è¿è¥ä¸€ä¸‹ç½‘ç«™ï¼Œæå‡è®¿é—®é‡ã€‚  å­¦ä¹ åšSEO  å­¦ä¹ å¦‚ä½•è¾“å‡ºé«˜è´¨é‡æ–‡ç«   å¼•æµ  â€¦ç»•äº†ä¸€åœˆè¿˜æ˜¯ä¸€å¤´é›¾æ°´ã€‚æˆ‘æƒ³åˆ›ä¸šçš„è¿‡ç¨‹å¤§æ¦‚ä¹Ÿæ˜¯å¦‚æ­¤å§ï¼Œåˆšå¼€å§‹çš„æ—¶å€™æ»¡è…”çƒ­è¡€ï¼Œä¸€é¼“ä½œæ°”è¿‡æ®µæ—¶é—´åä»æ²¡æœ‰çœ‹åˆ°æˆæ•ˆï¼Œç„¶åå°±æ¸æ¸ä¸§å¤±äº†æ¿€æƒ…ï¼Œç›´åˆ°...",
"content": "2022å¹´8æœˆ5æ—¥-æ˜ŸæœŸäº”ï¼Œå³å°†è¿æ¥ä¸€ä¸ªæ–°çš„å‘¨æœ«ã€‚è·ç¦»ä¸Šæ¬¡åœ¨åšå®¢ä¸Šå†™ä½œåˆè¿‡äº†å‡ ä¸ªæœˆäº†ã€‚ã€‚ã€‚å‰ä¸¤å¤©å‘ç°ç”³è¯·çš„è°·æ­Œå¹¿å‘Šä½å®¡æ ¸é€šè¿‡äº†ï¼Œç°åœ¨è®¿é—®æˆ‘çš„ç½‘ç«™æœ‰è°·æ­Œçš„å¹¿å‘Šäº†ã€‚å½“æ—¶å¿ƒä¸­è¿˜å¿µæƒ³å¦‚ä½•è¿è¥ä¸€ä¸‹ç½‘ç«™ï¼Œæå‡è®¿é—®é‡ã€‚  å­¦ä¹ åšSEO  å­¦ä¹ å¦‚ä½•è¾“å‡ºé«˜è´¨é‡æ–‡ç«   å¼•æµ  â€¦ç»•äº†ä¸€åœˆè¿˜æ˜¯ä¸€å¤´é›¾æ°´ã€‚æˆ‘æƒ³åˆ›ä¸šçš„è¿‡ç¨‹å¤§æ¦‚ä¹Ÿæ˜¯å¦‚æ­¤å§ï¼Œåˆšå¼€å§‹çš„æ—¶å€™æ»¡è…”çƒ­è¡€ï¼Œä¸€é¼“ä½œæ°”è¿‡æ®µæ—¶é—´åä»æ²¡æœ‰çœ‹åˆ°æˆæ•ˆï¼Œç„¶åå°±æ¸æ¸ä¸§å¤±äº†æ¿€æƒ…ï¼Œç›´åˆ°å®Œå…¨æ”¾å¼ƒã€‚ç„¶åå†æŸä¸ªå¶ç„¶çš„æœºä¼šï¼Œçœ‹åˆ°å½“åˆä»äº‹è¿™ä»¶äº‹çš„äººå–å¾—äº†æˆå°±ï¼Œç„¶ååˆæƒ³å»åšæŒåšä¸€ä¸‹åˆä¸€æ®µæ—¶é—´è¿‡å»äº†ï¼Œä¾ç„¶å¦‚ä¹‹å‰çš„ä¸€æ ·ã€‚äºæ˜¯ä¹ï¼Œé€‰æ‹©æ”¾å¼ƒï¼Œé€‰æ‹©å¦å¤–ä¸€ä¸ªäº‹åŠ¡ï¼Œå»é‡å¤ç°åœ¨çš„è¿‡ç¨‹â€¦æˆ‘ä¸çŸ¥é“å…¶ä»–äººæ˜¯ä¸æ˜¯è¿™æ ·ï¼Œåæ­£æˆ‘æ˜¯è¿™æ ·ã€‚åæ¥ä»”ç»†æƒ³äº†æƒ³ï¼Œæ˜¯è‡ªå·±å¿ƒé‡Œçš„é¢„æœŸæ¯”è¾ƒå¤§ï¼Œä¹Ÿæ²¡æœ‰ä½œå¥½è§„åˆ’ä¸å®æ–½ï¼Œæ›´æ²¡æœ‰é•¿æœŸæŒç»­çš„å­¦ä¹ ä¸åšæŒã€‚æˆ‘ä»¬çœ‹åˆ°çš„â€æˆåŠŸäººå£«â€å…ˆä¸è¯´åœ¨ç¤¾ä¼šæ˜¯æå°‘æ•°ï¼Œæ›´ä¸çŸ¥é“ä»–ä»¬èƒŒåçš„å¿ƒé…¸å†å²ã€‚èƒ½åœ¨ä¸€ä¸ªè¡Œä¸šä½œå‡ºæˆç»©çš„ï¼Œå¿…å®šæœ‰ä»–ç‹¬ç‰¹çš„äº®ç‚¹ã€‚æˆåŠŸçš„è·¯æœ¬æ¥å°±æ˜¯å¾ˆå°‘æœ‰äººèµ°çš„ï¼Œå¦‚æœèƒ½å¤åˆ¶çš„è¯ï¼Œé‚£å°±ä¸å«æˆåŠŸï¼Œæˆ‘ä»¬ä¹Ÿä¼šè§‰å¾—ä¹ ä»¥ä¸ºå¸¸ã€‚å¼€å§‹è®¤è¯†å¹¶æ¥å—è‡ªå·±æœ¬æ¥å°±æ˜¯ä¸€ä¸ªå¹³å‡¡çš„äººï¼Œè¸è¸å®å®åšäº‹ï¼Œå¥½å¥½åœ°è¿‡è‡ªå·±çš„ç”Ÿæ´»å°±å¥½äº†ï¼Œä¸è¦è€æƒ³è¦æ€æ ·æ€æ ·ã€‚å…¶å®æœ‰æ—¶å€™å¤§é“ç†å¿ƒé‡Œéƒ½æ‡‚ï¼ŒçœŸå®è¡ŒåŠ¨æœ‰æ—¶å´æ²¡æœ‰ä½œåˆ°ã€‚æœ€åï¼Œæ„¿æˆ‘ä»¬éƒ½èƒ½æ‰¾åˆ°è‡ªå·±çš„å½’å®¿ï¼Œå¥åº·å¿«ä¹çš„ç”Ÿæ´»"
},

{
"title": "æˆ‘çš„æ‹–å»¶ç—‡ä¸ä¸‰åˆ†çƒ­åº¦",
"url": "/posts/%E6%88%91%E7%9A%84%E6%8B%96%E5%BB%B6%E7%97%87%E4%B8%8E%E4%B8%89%E5%88%86%E7%83%AD%E5%BA%A6/",
"categories": "åšå®¢é‚£äº›äº‹",
"tags": "æ€»ç»“",
"date": "2022-05-13 14:00:00 +0800",







"snippet": "è¯´åˆ°æ‹–å»¶ç—‡å¤§å®¶éƒ½ä¸é™Œç”Ÿå§ï¼Œæ¯æ¬¡åœ¨å‘¨æœ«å‰éƒ½æé†’è‡ªå·±ä¸è¦ç¡æ‡’è§‰ï¼Œç»“æœä¸€åˆ°å‘¨æœ«æ—©ä¸Šé—¹é’Ÿå“èµ·æ¥çš„æ—¶å€™å°±æ‘äº†ç»§ç»­ç¡ã€‚åŸºæœ¬ä¸Šéƒ½ç¡åˆ°å¿«é¥­ç‚¹çš„æ—¶å€™æ‰èµ·æ¥ã€‚ä¸€æ—¶èµ–åºŠä¸€æ—¶çˆ½ï¼Œä¸€ç›´èµ–åºŠä¸€ç›´çˆ½â€¦ä»¥è‡³äºå‘¨æœ«çš„ç©ºé—²æ—¶é—´éƒ½æ¶ˆé£è€Œè¿‡äº†ã€‚æ¯å½“çœ‹åˆ°åˆ«äººä¸€ç›´å­¦ä¹ ï¼Œå˜å¾—è¶Šæ¥è¶Šä¼˜ç§€çš„æ—¶å€™ï¼Œå¿ƒé‡Œåˆåœ¨å®‰æ…°è‡ªå·±â€œè°å«ä½ æ‡’å‘¢â€é™¤äº†æ‹–å»¶ç—‡æˆ‘çš„ä¸‰åˆ†çƒ­åº¦ä¹Ÿéå¸¸çªå‡ºã€‚æƒ³åšä¸€ä»¶äº‹çš„æ—¶å€™ï¼Œå¿ƒé‡Œå°±è¿«ä¸åŠå¾…çš„è¦å»å¹²ã€‚å¹²ä¸äº†å¤šä¹…å°±æ²¡äº†å½“åˆçš„çƒ­è¡€äº†â€¦å¤ªéš¾äº†è¯´å¥½...",
"content": "è¯´åˆ°æ‹–å»¶ç—‡å¤§å®¶éƒ½ä¸é™Œç”Ÿå§ï¼Œæ¯æ¬¡åœ¨å‘¨æœ«å‰éƒ½æé†’è‡ªå·±ä¸è¦ç¡æ‡’è§‰ï¼Œç»“æœä¸€åˆ°å‘¨æœ«æ—©ä¸Šé—¹é’Ÿå“èµ·æ¥çš„æ—¶å€™å°±æ‘äº†ç»§ç»­ç¡ã€‚åŸºæœ¬ä¸Šéƒ½ç¡åˆ°å¿«é¥­ç‚¹çš„æ—¶å€™æ‰èµ·æ¥ã€‚ä¸€æ—¶èµ–åºŠä¸€æ—¶çˆ½ï¼Œä¸€ç›´èµ–åºŠä¸€ç›´çˆ½â€¦ä»¥è‡³äºå‘¨æœ«çš„ç©ºé—²æ—¶é—´éƒ½æ¶ˆé£è€Œè¿‡äº†ã€‚æ¯å½“çœ‹åˆ°åˆ«äººä¸€ç›´å­¦ä¹ ï¼Œå˜å¾—è¶Šæ¥è¶Šä¼˜ç§€çš„æ—¶å€™ï¼Œå¿ƒé‡Œåˆåœ¨å®‰æ…°è‡ªå·±â€œè°å«ä½ æ‡’å‘¢â€é™¤äº†æ‹–å»¶ç—‡æˆ‘çš„ä¸‰åˆ†çƒ­åº¦ä¹Ÿéå¸¸çªå‡ºã€‚æƒ³åšä¸€ä»¶äº‹çš„æ—¶å€™ï¼Œå¿ƒé‡Œå°±è¿«ä¸åŠå¾…çš„è¦å»å¹²ã€‚å¹²ä¸äº†å¤šä¹…å°±æ²¡äº†å½“åˆçš„çƒ­è¡€äº†â€¦å¤ªéš¾äº†è¯´å¥½åšæŒå†™åšå®¢è¿™ä»¶äº‹ï¼Œè·ç¦»ä¸Šæ¬¡çš„å‘è¡¨éƒ½å¿«åŠå¹´äº†ã€‚çªç„¶æƒ³èµ·è¿˜æœ‰å†™åšå®¢è¿™äº‹æƒ³è¾“å‡ºç‚¹æœ‰è´¨é‡çš„ä¸œè¥¿ï¼Œæ„Ÿè§‰åƒèŒ¶å£¶ç…®é¥ºå­ï¼Œå€’ä¸å‡ºæ¥æ²¡æœ‰è¡ŒåŠ¨ï¼Œæ€ä¹ˆç«‹flagéƒ½æ²¡ç”¨ã€‚æ˜¨å¤©åˆ·æŠ–éŸ³è¿˜çœ‹åˆ°â€œ680åŒ—äº¬å¤§å­¦ï¼Œ720æ¸…åå¤§å­¦ï¼Œ398å…¨èº«ç²¾æ²¹spaâ€¦â€ç¬‘è¯å¬å®Œï¼Œè¯è¯´å›æ¥ï¼Œflagç«‹çš„æ—¶å€™æœ€å¥½ç»“åˆå®é™…æƒ…å†µï¼Œè‡ªå·±èƒ½åšåˆ°ï¼Œæœ€å¥½åšåˆ°åå†ç»™è‡ªå·±ä¸€ç‚¹å¥–åŠ±ä»Šå¤©å°±åˆ°è¿™å§"
},

{
"title": "Springæ•´åˆElasticsearch",
"url": "/posts/Spring%E6%95%B4%E5%90%88Elasticsearch/",
"categories": "å¸¸ç”¨æ¡†æ¶",
"tags": "ElasticSearch, æœç´¢å¼•æ“, ES",
"date": "2022-04-12 19:27:00 +0800",







"snippet": "Elasticsearch  Elasticsearch æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ã€å¯æ‰©å±•ã€å®æ—¶çš„æœç´¢ä¸æ•°æ®åˆ†æå¼•æ“ã€‚ å®ƒèƒ½ä»é¡¹ç›®ä¸€å¼€å§‹å°±èµ‹äºˆä½ çš„æ•°æ®ä»¥æœç´¢ã€åˆ†æå’Œæ¢ç´¢çš„èƒ½åŠ›ï¼Œå¯ç”¨äºå®ç°å…¨æ–‡æœç´¢å’Œå®æ—¶æ•°æ®ç»Ÿè®¡ã€‚Springæ•´åˆElasticsearchåœ¨pom.xmlä¸­æ·»åŠ ç›¸å…³ä¾èµ–&lt;!--Elasticsearchç›¸å…³ä¾èµ–--&gt;&lt;dependency&gt;    &lt;groupI...",
"content": "Elasticsearch  Elasticsearch æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ã€å¯æ‰©å±•ã€å®æ—¶çš„æœç´¢ä¸æ•°æ®åˆ†æå¼•æ“ã€‚ å®ƒèƒ½ä»é¡¹ç›®ä¸€å¼€å§‹å°±èµ‹äºˆä½ çš„æ•°æ®ä»¥æœç´¢ã€åˆ†æå’Œæ¢ç´¢çš„èƒ½åŠ›ï¼Œå¯ç”¨äºå®ç°å…¨æ–‡æœç´¢å’Œå®æ—¶æ•°æ®ç»Ÿè®¡ã€‚Springæ•´åˆElasticsearchåœ¨pom.xmlä¸­æ·»åŠ ç›¸å…³ä¾èµ–&lt;!--Elasticsearchç›¸å…³ä¾èµ–--&gt;&lt;dependency&gt;    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;    &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;artifactId&gt;&lt;/dependency&gt;ä¿®æ”¹SpringBooté…ç½®æ–‡ä»¶data:  elasticsearch:    repositories:      enabled: true    cluster-nodes: 127.0.0.1:9300 # esçš„è¿æ¥åœ°å€åŠç«¯å£å·    cluster-name: elasticsearch # esé›†ç¾¤çš„åç§°æ·»åŠ å•†å“æ–‡æ¡£å¯¹è±¡EsProductpackage com.macro.mall.tiny.nosql.elasticsearch.document;import org.springframework.data.annotation.Id;import org.springframework.data.elasticsearch.annotations.Document;import org.springframework.data.elasticsearch.annotations.Field;import org.springframework.data.elasticsearch.annotations.FieldType;import java.io.Serializable;import java.math.BigDecimal;import java.util.List;/** * æœç´¢ä¸­çš„å•†å“ä¿¡æ¯ * Created by macro on 2018/6/19. */@Document(indexName = \"pms\", type = \"product\",shards = 1,replicas = 0)public class EsProduct implements Serializable {    private static final long serialVersionUID = -1L;    @Id    private Long id;    @Field(type = FieldType.Keyword)    private String productSn;    private Long brandId;    @Field(type = FieldType.Keyword)    private String brandName;    private Long productCategoryId;    @Field(type = FieldType.Keyword)    private String productCategoryName;    private String pic;    @Field(analyzer = \"ik_max_word\",type = FieldType.Text)    private String name;    @Field(analyzer = \"ik_max_word\",type = FieldType.Text)    private String subTitle;    @Field(analyzer = \"ik_max_word\",type = FieldType.Text)    private String keywords;    private BigDecimal price;    private Integer sale;    private Integer newStatus;    private Integer recommandStatus;    private Integer stock;    private Integer promotionType;    private Integer sort;    @Field(type =FieldType.Nested)    private List&lt;EsProductAttributeValue&gt; attrValueList;    //çœç•¥äº†æ‰€æœ‰getterå’Œsetteræ–¹æ³•}æ·»åŠ EsProductRepositoryæ¥å£ç”¨äºæ“ä½œElasticsearchpackage com.macro.mall.tiny.nosql.elasticsearch.repository;import com.macro.mall.tiny.nosql.elasticsearch.document.EsProduct;import org.springframework.data.domain.Page;import org.springframework.data.domain.Pageable;import org.springframework.data.elasticsearch.repository.ElasticsearchRepository;/** * å•†å“ESæ“ä½œç±» * Created by macro on 2018/6/19. */public interface EsProductRepository extends ElasticsearchRepository&lt;EsProduct, Long&gt; {    /**     * æœç´¢æŸ¥è¯¢     *     * @param name              å•†å“åç§°     * @param subTitle          å•†å“æ ‡é¢˜     * @param keywords          å•†å“å…³é”®å­—     * @param page              åˆ†é¡µä¿¡æ¯     * @return     */    Page&lt;EsProduct&gt; findByNameOrSubTitleOrKeywords(String name, String subTitle, String keywords, Pageable page);}æ·»åŠ EsProductServiceæ¥å£package com.macro.mall.tiny.service;import com.macro.mall.tiny.nosql.elasticsearch.document.EsProduct;import org.springframework.data.domain.Page;import java.util.List;/** * å•†å“æœç´¢ç®¡ç†Service * Created by macro on 2018/6/19. */public interface EsProductService {    /**     * ä»æ•°æ®åº“ä¸­å¯¼å…¥æ‰€æœ‰å•†å“åˆ°ES     */    int importAll();    /**     * æ ¹æ®idåˆ é™¤å•†å“     */    void delete(Long id);    /**     * æ ¹æ®idåˆ›å»ºå•†å“     */    EsProduct create(Long id);    /**     * æ‰¹é‡åˆ é™¤å•†å“     */    void delete(List&lt;Long&gt; ids);    /**     * æ ¹æ®å…³é”®å­—æœç´¢åç§°æˆ–è€…å‰¯æ ‡é¢˜     */    Page&lt;EsProduct&gt; search(String keyword, Integer pageNum, Integer pageSize);}æ·»åŠ EsProductServiceæ¥å£çš„å®ç°ç±»EsProductServiceImplpackage com.macro.mall.tiny.service.impl;import com.macro.mall.tiny.dao.EsProductDao;import com.macro.mall.tiny.nosql.elasticsearch.document.EsProduct;import com.macro.mall.tiny.nosql.elasticsearch.repository.EsProductRepository;import com.macro.mall.tiny.service.EsProductService;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.data.domain.Page;import org.springframework.data.domain.PageRequest;import org.springframework.data.domain.Pageable;import org.springframework.stereotype.Service;import org.springframework.util.CollectionUtils;import java.util.ArrayList;import java.util.Iterator;import java.util.List;/** * å•†å“æœç´¢ç®¡ç†Serviceå®ç°ç±» * Created by macro on 2018/6/19. */@Servicepublic class EsProductServiceImpl implements EsProductService {    private static final Logger LOGGER = LoggerFactory.getLogger(EsProductServiceImpl.class);    @Autowired    private EsProductDao productDao;    @Autowired    private EsProductRepository productRepository;    @Override    public int importAll() {        List&lt;EsProduct&gt; esProductList = productDao.getAllEsProductList(null);        Iterable&lt;EsProduct&gt; esProductIterable = productRepository.saveAll(esProductList);        Iterator&lt;EsProduct&gt; iterator = esProductIterable.iterator();        int result = 0;        while (iterator.hasNext()) {            result++;            iterator.next();        }        return result;    }    @Override    public void delete(Long id) {        productRepository.deleteById(id);    }    @Override    public EsProduct create(Long id) {        EsProduct result = null;        List&lt;EsProduct&gt; esProductList = productDao.getAllEsProductList(id);        if (esProductList.size() &gt; 0) {            EsProduct esProduct = esProductList.get(0);            result = productRepository.save(esProduct);        }        return result;    }    @Override    public void delete(List&lt;Long&gt; ids) {        if (!CollectionUtils.isEmpty(ids)) {            List&lt;EsProduct&gt; esProductList = new ArrayList&lt;&gt;();            for (Long id : ids) {                EsProduct esProduct = new EsProduct();                esProduct.setId(id);                esProductList.add(esProduct);            }            productRepository.deleteAll(esProductList);        }    }    @Override    public Page&lt;EsProduct&gt; search(String keyword, Integer pageNum, Integer pageSize) {        Pageable pageable = PageRequest.of(pageNum, pageSize);        return productRepository.findByNameOrSubTitleOrKeywords(keyword, keyword, keyword, pageable);    }}RestHighLevelClientæ„å»ºæœç´¢å¼•å…¥ä¾èµ–&lt;dependency&gt;    &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;    &lt;artifactId&gt;elasticsearch-rest-high-level-client&lt;/artifactId&gt;    &lt;version&gt;7.10.2&lt;/version&gt;&lt;/dependency&gt;ElasticsearchSearchExample.javaimport org.apache.http.HttpHost;import org.elasticsearch.action.search.SearchRequest;import org.elasticsearch.action.search.SearchResponse;import org.elasticsearch.client.RequestOptions;import org.elasticsearch.client.RestClient;import org.elasticsearch.client.RestHighLevelClient;import org.elasticsearch.index.query.QueryBuilders;import org.elasticsearch.search.SearchHit;import org.elasticsearch.search.builder.SearchSourceBuilder;import java.io.IOException;public class ElasticsearchSearchExample {    public static void main(String[] args) {        // åˆ›å»º RestHighLevelClient å®ä¾‹        RestHighLevelClient client = new RestHighLevelClient(                RestClient.builder(                        new HttpHost(\"localhost\", 9200, \"http\"),                        new HttpHost(\"localhost\", 9201, \"http\")));        try {            // åˆ›å»ºæœç´¢è¯·æ±‚å¯¹è±¡            SearchRequest searchRequest = new SearchRequest(\"your_index_name\"); // æŒ‡å®šç´¢å¼•å            SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();            // æ„å»ºæŸ¥è¯¢æ¡ä»¶ï¼ˆæ­¤å¤„ä¸º match_all æŸ¥è¯¢ï¼‰            searchSourceBuilder.query(QueryBuilders.matchAllQuery());            searchRequest.source(searchSourceBuilder);            // æ‰§è¡Œæœç´¢è¯·æ±‚            SearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);            // å¤„ç†æœç´¢å“åº”            System.out.println(\"Total Hits: \" + searchResponse.getHits().getTotalHits().value);            for (SearchHit hit : searchResponse.getHits().getHits()) {                System.out.println(hit.getSourceAsString());            }        } catch (IOException e) {            e.printStackTrace();        } finally {            // å…³é—­å®¢æˆ·ç«¯            try {                client.close();            } catch (IOException e) {                e.printStackTrace();            }        }    }}å¦‚æœä½ çš„Elasticsearché›†ç¾¤é…ç½®äº†åŸºæœ¬çš„ç”¨æˆ·åå’Œå¯†ç è®¤è¯&lt;dependency&gt;&lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;&lt;artifactId&gt;elasticsearch-rest-high-level-client&lt;/artifactId&gt;&lt;version&gt;7.10.2&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;&lt;artifactId&gt;httpclient&lt;/artifactId&gt;&lt;version&gt;4.5.13&lt;/version&gt;&lt;/dependency&gt;ElasticsearchSearchWithAuthExample.javaimport org.apache.http.HttpHost;import org.apache.http.auth.AuthScope;import org.apache.http.auth.UsernamePasswordCredentials;import org.apache.http.impl.client.BasicCredentialsProvider;import org.apache.http.impl.nio.client.HttpAsyncClientBuilder;import org.apache.http.impl.nio.reactor.IOReactorConfig;import org.apache.http.nio.conn.ssl.SSLIOSessionStrategy;import org.apache.http.ssl.SSLContextBuilder;import org.elasticsearch.action.search.SearchRequest;import org.elasticsearch.action.search.SearchResponse;import org.elasticsearch.client.RequestOptions;import org.elasticsearch.client.RestClient;import org.elasticsearch.client.RestClientBuilder;import org.elasticsearch.client.RestHighLevelClient;import org.elasticsearch.index.query.QueryBuilders;import org.elasticsearch.search.SearchHit;import org.elasticsearch.search.builder.SearchSourceBuilder;import java.io.IOException;public class ElasticsearchSearchWithAuthExample {    public static void main(String[] args) {        final String username = \"your_username\";        final String password = \"your_password\";        final String hostname = \"localhost\";        final int port = 9200;        // è®¾ç½®è®¤è¯ä¿¡æ¯        BasicCredentialsProvider credentialsProvider = new BasicCredentialsProvider();        credentialsProvider.setCredentials(AuthScope.ANY,                new UsernamePasswordCredentials(username, password));        // åˆ›å»º RestHighLevelClient å®ä¾‹        RestHighLevelClient client = new RestHighLevelClient(                RestClient.builder(new HttpHost(hostname, port, \"http\"))                        .setHttpClientConfigCallback(httpClientBuilder -&gt;                                httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider))        );        try {            // åˆ›å»ºæœç´¢è¯·æ±‚å¯¹è±¡            SearchRequest searchRequest = new SearchRequest(\"your_index_name\"); // æŒ‡å®šç´¢å¼•å            SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();            // æ„å»ºæŸ¥è¯¢æ¡ä»¶ï¼ˆæ­¤å¤„ä¸º match_all æŸ¥è¯¢ï¼‰            searchSourceBuilder.query(QueryBuilders.matchAllQuery());            searchRequest.source(searchSourceBuilder);            // æ‰§è¡Œæœç´¢è¯·æ±‚            SearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);            // å¤„ç†æœç´¢å“åº”            System.out.println(\"Total Hits: \" + searchResponse.getHits().getTotalHits().value);            for (SearchHit hit : searchResponse.getHits().getHits()) {                System.out.println(hit.getSourceAsString());            }        } catch (IOException e) {            e.printStackTrace();        } finally {            // å…³é—­å®¢æˆ·ç«¯            try {                client.close();            } catch (IOException e) {                e.printStackTrace();            }        }    }}å‚è€ƒæ–‡ç«   https://www.macrozheng.com/mall/architect/mall_arch_07.html#elasticsearch"
},

{
"title": "ElasticSearchåŸºæœ¬åº”ç”¨",
"url": "/posts/ElasticSearch%E5%9F%BA%E6%9C%AC%E5%BA%94%E7%94%A8/",
"categories": "å¸¸ç”¨æ¡†æ¶",
"tags": "ElasticSearch, æœç´¢å¼•æ“, ES",
"date": "2022-04-11 18:11:00 +0800",







"snippet": "æ¦‚è¿°  å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šè¦æ“ä½œESï¼Œä¸€èˆ¬éœ€è¦ä¸‹è½½å·¥å…·æ‰èƒ½ç®¡ç†ESã€‚å¦‚ï¼šï¼Œæœ¬æ–‡ä»‹ç»ä½¿ç”¨postmanæ“ä½œï¼Œ  åˆ›å»ºç´¢å¼•  ```PUT http://127.0.0.1:9200/shopping### ç´¢å¼•æŸ¥è¯¢æŸ¥è¯¢å•ä¸ªç´¢å¼•GET http://127.0.0.1:9200/shoppingæŸ¥è¯¢æ‰€æœ‰GET http://127.0.0.1:9200/_cat/indices?v### ç´¢å¼•åˆ ...",
"content": "æ¦‚è¿°  å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šè¦æ“ä½œESï¼Œä¸€èˆ¬éœ€è¦ä¸‹è½½å·¥å…·æ‰èƒ½ç®¡ç†ESã€‚å¦‚ï¼šï¼Œæœ¬æ–‡ä»‹ç»ä½¿ç”¨postmanæ“ä½œï¼Œ  åˆ›å»ºç´¢å¼•  ```PUT http://127.0.0.1:9200/shopping### ç´¢å¼•æŸ¥è¯¢æŸ¥è¯¢å•ä¸ªç´¢å¼•GET http://127.0.0.1:9200/shoppingæŸ¥è¯¢æ‰€æœ‰GET http://127.0.0.1:9200/_cat/indices?v### ç´¢å¼•åˆ é™¤DELETE http://127.0.0.1:9200/shopping### æ–‡æ¡£åˆ›å»ºPOST http://127.0.0.1:9200/shopping/_docor   åˆ›å»ºæŒ‡å®šidhttp://127.0.0.1:9200/shopping/_doc/10086http://127.0.0.1:9200/shopping/_create/1000body raw{ â€œtitleâ€:â€å°ç±³æ‰‹æœºâ€, â€œcategoryâ€:â€å°ç±³â€, â€œimagesâ€:â€http://www.gulixueyuan.com/xm.jpgâ€, â€œpriceâ€:4999.00}### æ–‡æ¡£æŸ¥è¯¢ä¸»é”®æŸ¥è¯¢GET http://127.0.0.1:9200/shopping/_doc/10086æŸ¥è¯¢æ‰€æœ‰GET http://127.0.0.1:9200/shopping/_search    headers    Content-Type  -&gt; application/json### æ–‡æ¡£ä¿®æ”¹å…¨é‡ä¿®æ”¹PUT http://127.0.0.1:9200/shopping/_doc/10086body raw{ â€œtitleâ€:â€åä¸ºæ‰‹æœºâ€, â€œcategoryâ€:â€åä¸ºâ€, â€œimagesâ€:â€http://www.gulixueyuan.com/hw.jpgâ€, â€œpriceâ€:4999.00}å±€éƒ¨ä¿®æ”¹POST http://127.0.0.1:9200/shopping/_update/10086body raw{    â€œdocâ€: {        â€œtitleâ€: â€œå›½äº§æ‰‹æœºâ€    }}### åˆ é™¤æ–‡æ¡£DELETE http://127.0.0.1:9200/shopping/_doc/10086### ç»„åˆæŸ¥è¯¢å•ä¸ªæ¡ä»¶æŸ¥è¯¢å¸¦å‚æ•°GET http://127.0.0.1:9200/shopping/_searchbody raw{    //è¯·æ±‚å‚æ•°æ‹¼åœ¨åœ°å€æ å¯èƒ½ä¼šä¹±ç ,æ‰€ä»¥æ¨èæ”¾åœ¨è¯·æ±‚ä½“ä¸­    â€œqueryâ€: {        â€œmatchâ€: {            â€œcategoryâ€: â€œå°ç±³â€        }    }}æ¡ä»¶æŸ¥è¯¢åˆ†é¡µGET http://127.0.0.1:9200/shopping/_searchbody raw{    â€œqueryâ€: {        â€œmatch_allâ€: {}    },    â€œfromâ€: 0, //åç§»é‡,0è¡¨ç¤ºç¬¬ä¸€é¡µ,å³é¡µç -1    â€œsizeâ€: 2, //æ¯é¡µçš„ä¸ªæ•°    â€œ_sourceâ€: [        â€œtitleâ€ //æŸ¥è¯¢ç»“æœä»…æ˜¾ç¤ºtitleå­—æ®µ    ],    â€œsortâ€: {        â€œpriceâ€: {            â€œorderâ€: â€œascâ€ //ascå‡åºï¼Œdescé™åº        }    }}å¤šæ¡ä»¶æŸ¥è¯¢GET http://127.0.0.1:9200/shopping/_search{    //boolè¡¨ç¤ºæ¡ä»¶çš„æ„æ€    â€œqueryâ€: {        â€œboolâ€: {            //mustè¡¨ç¤ºå¤šä¸ªæ¡ä»¶å¿…é¡»åŒæ—¶æˆç«‹,[]è¡¨ç¤ºæ•°ç»„            â€œmustâ€: [                {                    â€œmatchâ€: {                        â€œcategoryâ€: â€œå°ç±³â€                    }                },                {                    â€œmatchâ€: {                        â€œpriceâ€: 3999.00                    }                }            ]        }    }}or{    //boolè¡¨ç¤ºæ¡ä»¶çš„æ„æ€    â€œqueryâ€: {        â€œboolâ€: {            //shouldè¡¨ç¤ºæˆ–è€…,åä¸ºæˆ–è€…å°ç±³æ»¡è¶³ä¸€ä¸ªå°±èƒ½æŸ¥å‡ºæ¥            //æ•ˆæœä¸æ˜æ˜¾çš„è¯è‡ªè¡Œåˆ›å»º/ä¿®æ”¹æ•°æ®            â€œshouldâ€: [                {                    â€œmatchâ€: {                        â€œcategoryâ€: â€œå°ç±³â€                    }                },                {                    â€œmatchâ€: {                        â€œcategoryâ€: â€œåä¸ºâ€                    }                }            ]        }    }}### èŒƒå›´æŸ¥è¯¢GET http://127.0.0.1:9200/shopping/_searchbody raw{    //boolè¡¨ç¤ºæ¡ä»¶çš„æ„æ€    â€œqueryâ€: {        â€œboolâ€: {            //shouldè¡¨ç¤ºæˆ–è€…,åä¸ºæˆ–è€…å°ç±³æ»¡è¶³ä¸€ä¸ªå°±èƒ½æŸ¥å‡ºæ¥            â€œshouldâ€: [                {                    â€œmatchâ€: {                        â€œcategoryâ€: â€œå°ç±³â€                    }                },                {                    â€œmatchâ€: {                        â€œcategoryâ€: â€œåä¸ºâ€                    }                }            ],            â€œfilterâ€: {                â€œrangeâ€: {                    â€œpriceâ€: {                        â€œgtâ€: 2000                    }                }            }        }    }}### å…¨æ–‡æ£€ç´¢GET http://127.0.0.1:9200/shopping/_searchbody raw{    //esä¼šå°†æ•°æ®æ–‡å­—è¿›è¡Œåˆ†è¯æ‹†è§£æ“ä½œï¼Œå¹¶å°†æ‹†è§£åçš„æ•°æ®ä¿å­˜åˆ°å€’æ’ç´¢å¼•ä¸­ã€‚è¿™æ ·å³ä½¿åªä½¿ç”¨æ–‡å­—çš„ä¸€éƒ¨åˆ†ä¹Ÿèƒ½æŸ¥åˆ°æ•°æ®ã€‚    â€œqueryâ€: {        â€œmatchâ€: {            â€œcategoryâ€: â€œç±³â€ //å¯ä»¥æŸ¥çœ‹å°ç±³            //â€categoryâ€: â€œå°åâ€ //å°åå¯ä»¥åŒæ—¶æŸ¥åˆ°å°ç±³å’Œåä¸º        }    }}### å®Œå…¨åŒ¹é…GET http://127.0.0.1:9200/shopping/_searchbody raw{    â€œqueryâ€: {        â€œmatch_phraseâ€: {            â€œcategoryâ€: â€œå°åâ€ //åŒ¹é…ä¸åˆ°å°ç±³å’Œåä¸º,ä½†æ˜¯ç±³è¿˜æ˜¯å¯ä»¥åŒ¹é…åˆ°å°ç±³            //â€categoryâ€: â€œç±³â€        }    }}### é«˜äº®æŸ¥è¯¢GET http://127.0.0.1:9200/shopping/_searchbody raw{    â€œqueryâ€: {        â€œmatch_phraseâ€: {            â€œcategoryâ€: â€œå°ç±³â€        }    },    â€œhighlightâ€: {        â€œfieldsâ€: {            â€œcategoryâ€: {}        }    }}### èšåˆæŸ¥è¯¢GET http://127.0.0.1:9200/shopping/_searchbody raw{    //æƒ³è¦å¯¹æŸ¥è¯¢ç»“æœè¿›è¡Œåˆ†ç»„æˆ–è€…ç»Ÿè®¡åˆ†æï¼Œè¦ä¿®æ”¹è¯·æ±‚ä½“body    â€œaggsâ€: { //èšåˆæ“ä½œ        â€œprice_groupâ€: { //åç§°ï¼Œéšæ„å–å            â€œtermsâ€: { //å¯é€‰é¡¹:åˆ†ç»„terms/å¹³å‡å€¼avg/æœ€å¤§å€¼max/æœ€å°å€¼min                â€œfieldâ€: â€œpriceâ€ //(åˆ†ç»„)å­—æ®µ            }        }    },    â€œsizeâ€: 0 //ä¸æ˜¾ç¤ºåŸå§‹æ•°æ®ï¼Œåªçœ‹åˆ†ç»„æ•°æ®}stats èšåˆæŸ¥è¯¢{    //æƒ³è¦å¯¹æŸ¥è¯¢ç»“æœè¿›è¡Œåˆ†ç»„æˆ–è€…ç»Ÿè®¡åˆ†æï¼Œè¦ä¿®æ”¹è¯·æ±‚ä½“body    â€œaggsâ€: { //èšåˆæ“ä½œ        â€œstats_ageâ€: { //åç§°ï¼Œéšæ„å–å            â€œstatsâ€: { //å¯é€‰é¡¹:åˆ†ç»„terms/å¹³å‡å€¼avg/æœ€å¤§å€¼max/æœ€å°å€¼min                â€œfieldâ€: â€œpriceâ€ //(åˆ†ç»„)å­—æ®µ            }        }    },    â€œsizeâ€: 0 //ä¸æ˜¾ç¤ºåŸå§‹æ•°æ®ï¼Œåªçœ‹åˆ†ç»„æ•°æ®}## `is not null`æˆ–å­—æ®µæ˜¯å¦å­˜åœ¨GET http://127.0.0.1:9200/shopping/_searchbody raw{    â€œqueryâ€: {        â€œboolâ€: {            â€œmustâ€: [                {                    â€œboolâ€: {                        â€œmustâ€: [                            {                                â€œexistsâ€: {                                    â€œfieldâ€: â€œfield1â€                                }                            }                        ]                    }                },                {                    â€œboolâ€: {                        â€œmustâ€: [                            {                                â€œexistsâ€: {                                    â€œfieldâ€: â€œfield2â€                                }                            }                        ]                    }                }            ]        }    },    â€œfromâ€: 0,    â€œsizeâ€: 10}or{    â€œqueryâ€: {        â€œboolâ€: {            â€œmustâ€: [                {                    â€œboolâ€: {                        â€œmustâ€: [                            {                                â€œexistsâ€: {                                    â€œfieldâ€: â€œfield1â€                                }                            },                            {                                â€œexistsâ€: {                                    â€œfieldâ€: â€œfield2â€                                }                            }                        ]                    }                }            ]        }    },    â€œfromâ€: 0,    â€œsizeâ€: 1}## MySQLæŸ¥è¯¢è½¬ES&gt;[åœ¨çº¿è½¬æ¢ç½‘å€](https://printlove.cn/tools/sql2es/)## kibanaæŸ¥è¯¢### æŸ¥è¯¢æ‰€æœ‰ç´¢å¼•GET _mappingGET /_cat/indices?v### æ¡ä»¶æŸ¥è¯¢GET ç´¢å¼•/_search{  â€œqueryâ€:{    â€œboolâ€: {       â€œmustâ€: [            {          â€œmatchâ€: {            â€œå­—æ®µâ€: å­—æ®µå€¼      }    },    {      \"match\": {        \"å­—æ®µ\": å­—æ®µå€¼      }    }  ]}   } } ``` ### å­—æ®µå­˜åœ¨ä½†ä¸ç­‰äºå€¼ ``` GET ç´¢å¼•/_search {  \"query\": {    \"bool\": { \"must_not\": [   {     \"term\": {\"å­—æ®µ\": \"å­—æ®µå€¼\"}   } ]    }  } } ```å‚è€ƒèµ„æ–™  postmanå¸®åŠ©æ–‡æ¡£"
},

{
"title": "æœåŠ¡æ³¨å†Œä¸å‘ç°åŸºäºNacos",
"url": "/posts/%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%E5%9F%BA%E4%BA%8ENacos/",
"categories": "åˆ†å¸ƒå¼ç³»ç»Ÿ",
"tags": "åˆ†å¸ƒå¼ç³»ç»Ÿ, æœåŠ¡æ³¨å†Œ, Nacos",
"date": "2022-04-04 10:25:00 +0800",







"snippet": "æ¢ç´¢æœåŠ¡æ³¨å†Œä¸å‘ç°ï¼šåŸºäº Nacos çš„ Java å®è·µå¼•è¨€åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼ŒæœåŠ¡æ³¨å†Œä¸å‘ç°æ˜¯ä¸€ä¸ªè‡³å…³é‡è¦çš„ç¯èŠ‚ã€‚Nacosï¼ˆDynamic Naming and Configuration Serviceï¼‰æ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„ä¸€ä¸ªæœåŠ¡å‘ç°å’Œé…ç½®ç®¡ç†å¹³å°ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç» Nacos çš„æœåŠ¡æ³¨å†Œä¸å‘ç°åŠŸèƒ½ï¼Œå¹¶é€šè¿‡ Java ä»£ç ç¤ºä¾‹å±•ç¤ºå¦‚ä½•åœ¨å®é™…é¡¹ç›®ä¸­ä½¿ç”¨ Nacosã€‚ä»€ä¹ˆæ˜¯ Nacosï¼ŸNacos...",
"content": "æ¢ç´¢æœåŠ¡æ³¨å†Œä¸å‘ç°ï¼šåŸºäº Nacos çš„ Java å®è·µå¼•è¨€åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼ŒæœåŠ¡æ³¨å†Œä¸å‘ç°æ˜¯ä¸€ä¸ªè‡³å…³é‡è¦çš„ç¯èŠ‚ã€‚Nacosï¼ˆDynamic Naming and Configuration Serviceï¼‰æ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„ä¸€ä¸ªæœåŠ¡å‘ç°å’Œé…ç½®ç®¡ç†å¹³å°ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç» Nacos çš„æœåŠ¡æ³¨å†Œä¸å‘ç°åŠŸèƒ½ï¼Œå¹¶é€šè¿‡ Java ä»£ç ç¤ºä¾‹å±•ç¤ºå¦‚ä½•åœ¨å®é™…é¡¹ç›®ä¸­ä½¿ç”¨ Nacosã€‚ä»€ä¹ˆæ˜¯ Nacosï¼ŸNacos æ˜¯ä¸€ä¸ªæ˜“äºä½¿ç”¨çš„å¹³å°ï¼Œä¸»è¦æä¾›ä»¥ä¸‹åŠŸèƒ½ï¼š  æœåŠ¡æ³¨å†Œä¸å‘ç°ï¼šæ”¯æŒåŸºäº DNS å’ŒåŸºäº RPC çš„æœåŠ¡å‘ç°ã€‚  åŠ¨æ€é…ç½®ç®¡ç†ï¼šæ”¯æŒä»¥æ•°æ®æ¨¡å‹æ¥ç®¡ç†åº”ç”¨ç¨‹åºé…ç½®ã€‚  åŠ¨æ€ DNS æœåŠ¡ï¼šæ”¯æŒæƒé‡è·¯ç”±ã€å¥åº·æ£€æŸ¥ç­‰ã€‚  å®æ—¶ç›‘æ§ï¼šæä¾›æœåŠ¡çš„å¥åº·æ£€æŸ¥å’Œå®æ—¶ç›‘æ§ã€‚ç¯å¢ƒå‡†å¤‡åœ¨å¼€å§‹ä¹‹å‰ï¼Œç¡®ä¿å·²å®‰è£…å¹¶å¯åŠ¨ Nacos æœåŠ¡å™¨ã€‚å¯ä»¥é€šè¿‡ Docker å¿«é€Ÿå¯åŠ¨ä¸€ä¸ª Nacos å®ä¾‹ï¼šdocker run -d --name nacos-server -p 8848:8848 nacos/nacos-serveræœåŠ¡æ³¨å†Œä¸å‘ç°1. å¼•å…¥ä¾èµ–åœ¨ä½¿ç”¨ Nacos ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ Maven é¡¹ç›®ä¸­æ·»åŠ ç›¸å…³ä¾èµ–ï¼š&lt;dependencies&gt;    &lt;dependency&gt;        &lt;groupId&gt;com.alibaba.nacos&lt;/groupId&gt;        &lt;artifactId&gt;nacos-client&lt;/artifactId&gt;        &lt;version&gt;2.2.0&lt;/version&gt;    &lt;/dependency&gt;&lt;/dependencies&gt;2. æœåŠ¡æ³¨å†Œä¸‹é¢æ˜¯ä¸€ä¸ªå°†æœåŠ¡æ³¨å†Œåˆ° Nacos çš„ç®€å•ç¤ºä¾‹ï¼šimport com.alibaba.nacos.api.NacosFactory;import com.alibaba.nacos.api.exception.NacosException;import com.alibaba.nacos.api.naming.NamingService;import com.alibaba.nacos.api.naming.pojo.Instance;public class NacosServiceRegister {    public static void main(String[] args) {        try {            // åˆ›å»º NamingService            NamingService namingService = NacosFactory.createNamingService(\"localhost:8848\");            // æ³¨å†ŒæœåŠ¡            namingService.registerInstance(\"example-service\", \"127.0.0.1\", 8080);            System.out.println(\"Service registered successfully.\");        } catch (NacosException e) {            e.printStackTrace();        }    }}åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ NacosFactory.createNamingService æ–¹æ³•åˆ›å»ºäº†ä¸€ä¸ª NamingService å®ä¾‹ï¼Œç„¶åé€šè¿‡ registerInstance æ–¹æ³•å°†æœåŠ¡æ³¨å†Œåˆ° Nacosã€‚3. æœåŠ¡å‘ç°æ³¨å†ŒæœåŠ¡åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹ä»£ç è¿›è¡ŒæœåŠ¡å‘ç°ï¼šimport com.alibaba.nacos.api.NacosFactory;import com.alibaba.nacos.api.exception.NacosException;import com.alibaba.nacos.api.naming.NamingService;import com.alibaba.nacos.api.naming.pojo.Instance;import java.util.List;public class NacosServiceDiscovery {    public static void main(String[] args) {        try {            // åˆ›å»º NamingService            NamingService namingService = NacosFactory.createNamingService(\"localhost:8848\");            // è·å–æœåŠ¡å®ä¾‹            List&lt;Instance&gt; instances = namingService.getAllInstances(\"example-service\");            for (Instance instance : instances) {                System.out.println(\"Service instance: \" + instance.getIp() + \":\" + instance.getPort());            }        } catch (NacosException e) {            e.printStackTrace();        }    }}é€šè¿‡ getAllInstances æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥è·å–æŒ‡å®šæœåŠ¡çš„æ‰€æœ‰å®ä¾‹ä¿¡æ¯ã€‚ä½¿ç”¨ Spring Cloud Alibaba é›†æˆ NacosSpring Cloud Alibaba æä¾›äº†å¯¹ Nacos çš„åŸç”Ÿæ”¯æŒï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥æ›´åŠ æ–¹ä¾¿åœ°åœ¨ Spring Boot é¡¹ç›®ä¸­ä½¿ç”¨ Nacosã€‚1. æ·»åŠ ä¾èµ–åœ¨ pom.xml ä¸­æ·»åŠ ä»¥ä¸‹ä¾èµ–ï¼š&lt;dependencies&gt;    &lt;dependency&gt;        &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;        &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-discovery&lt;/artifactId&gt;        &lt;version&gt;2021.1&lt;/version&gt;    &lt;/dependency&gt;&lt;/dependencies&gt;2. é…ç½® Nacosåœ¨ application.yml ä¸­æ·»åŠ  Nacos é…ç½®ï¼šspring:  application:    name: example-service  cloud:    nacos:      discovery:        server-addr: 127.0.0.1:88483. å¯åŠ¨ç±»åœ¨ Spring Boot å¯åŠ¨ç±»ä¸­æ·»åŠ  @EnableDiscoveryClient æ³¨è§£ï¼šimport org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;import org.springframework.cloud.client.discovery.EnableDiscoveryClient;@SpringBootApplication@EnableDiscoveryClientpublic class NacosExampleApplication {    public static void main(String[] args) {        SpringApplication.run(NacosExampleApplication.class, args);    }}4. æœåŠ¡è°ƒç”¨é€šè¿‡ RestTemplate æˆ– Feign Client è°ƒç”¨å…¶ä»–æœåŠ¡ï¼šimport org.springframework.beans.factory.annotation.Autowired;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.RestController;import org.springframework.web.client.RestTemplate;@RestControllerpublic class TestController {    @Autowired    private RestTemplate restTemplate;    @GetMapping(\"/test\")    public String test() {        String result = restTemplate.getForObject(\"http://example-service/hello\", String.class);        return \"Response: \" + result;    }}ç»“è®ºNacos ä½œä¸ºä¸€ä¸ªå¼ºå¤§çš„æœåŠ¡æ³¨å†Œä¸å‘ç°å¹³å°ï¼Œå¯ä»¥æå¤§ç®€åŒ–å¾®æœåŠ¡æ¶æ„ä¸­çš„æœåŠ¡ç®¡ç†ã€‚é€šè¿‡æœ¬æ–‡çš„ä»‹ç»ï¼Œæ‚¨åº”è¯¥èƒ½å¤Ÿåœ¨ Java é¡¹ç›®ä¸­ä½¿ç”¨ Nacos è¿›è¡ŒæœåŠ¡æ³¨å†Œä¸å‘ç°ï¼Œå¹¶é€šè¿‡ Spring Cloud Alibaba è¿›è¡Œé›†æˆå’Œç®¡ç†ã€‚å¸Œæœ›æœ¬æ–‡å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ï¼Œå¦‚æœæœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºã€‚Happy Coding!"
},

{
"title": "åŠ æ²¹2022",
"url": "/posts/%E5%8A%A0%E6%B2%B92022/",
"categories": "åšå®¢é‚£äº›äº‹",
"tags": "æ€»ç»“",
"date": "2021-12-31 14:00:00 +0800",







"snippet": "å†™ç»™2022  å…‰é˜´ä¼¼ç®­ï¼Œå²æœˆå¦‚æ¢­  ä¸ç¦æ„Ÿå¹ï¼Œæ—¶é—´å¦‚æ­¤ä¹‹å¿«  è¿™ä¸€å¹´ï¼Œæ˜ç™½äº†ç”Ÿæ´»çš„ä¸æ˜“  è¿™ä¸€å¹´ï¼Œæ‡‚å¾—äº†è¯­è¨€æ˜¯æŠŠæ— å½¢çš„åˆ€  è¿™ä¸€å¹´ï¼Œä¹Ÿçœ‹åˆ°äº†è¯¸å¤šçš„ä¸è¶³  æ„¿æ¯ä¸€ä»½ä¸è¢«äººçœ‹è§çš„åŠªåŠ›ï¼Œåœ¨å°†æ¥éƒ½ä¼šå¾—åˆ°åŠ å€è¡¥å¿  é©¬ä¸Šå°±2022å¹´äº†ï¼Œå¸Œæœ›æ–°çš„ä¸€å¹´ä¸€åˆ‡å®‰å¥½  ä¸ä»…æ˜¯ç¯®çƒéœ€è¦æ²‰æ·€ã€å­¦ä¹ éœ€è¦æ²‰æ·€ã€ç”Ÿæ´»ä¹Ÿéœ€è¦æ²‰æ·€  åŠ æ²¹2022ï¼Œeverything will better.  æ„¿ä½ å†å°½åƒå¸†ï¼Œå½’æ¥ä»æ˜¯å°‘å¹´...",
"content": "å†™ç»™2022  å…‰é˜´ä¼¼ç®­ï¼Œå²æœˆå¦‚æ¢­  ä¸ç¦æ„Ÿå¹ï¼Œæ—¶é—´å¦‚æ­¤ä¹‹å¿«  è¿™ä¸€å¹´ï¼Œæ˜ç™½äº†ç”Ÿæ´»çš„ä¸æ˜“  è¿™ä¸€å¹´ï¼Œæ‡‚å¾—äº†è¯­è¨€æ˜¯æŠŠæ— å½¢çš„åˆ€  è¿™ä¸€å¹´ï¼Œä¹Ÿçœ‹åˆ°äº†è¯¸å¤šçš„ä¸è¶³  æ„¿æ¯ä¸€ä»½ä¸è¢«äººçœ‹è§çš„åŠªåŠ›ï¼Œåœ¨å°†æ¥éƒ½ä¼šå¾—åˆ°åŠ å€è¡¥å¿  é©¬ä¸Šå°±2022å¹´äº†ï¼Œå¸Œæœ›æ–°çš„ä¸€å¹´ä¸€åˆ‡å®‰å¥½  ä¸ä»…æ˜¯ç¯®çƒéœ€è¦æ²‰æ·€ã€å­¦ä¹ éœ€è¦æ²‰æ·€ã€ç”Ÿæ´»ä¹Ÿéœ€è¦æ²‰æ·€  åŠ æ²¹2022ï¼Œeverything will better.  æ„¿ä½ å†å°½åƒå¸†ï¼Œå½’æ¥ä»æ˜¯å°‘å¹´  æœªæ¥å¯æœŸï¼ŒT Y W ğŸ„ ğŸ…±ï¸"
},

{
"title": "ç»™æ–‡ç« åŠ ä¸Šäº†è®¿é—®ç»Ÿè®¡",
"url": "/posts/%E7%BB%99%E6%96%87%E7%AB%A0%E5%8A%A0%E4%B8%8A%E4%BA%86%E8%AE%BF%E9%97%AE%E7%BB%9F%E8%AE%A1/",
"categories": "åšå®¢é‚£äº›äº‹",
"tags": "æ–‡ç« ç»Ÿè®¡",
"date": "2021-11-24 10:35:00 +0800",







"snippet": "å…³äº  ä¸€ç›´æƒ³å®ç°åšå®¢æ–‡ç« è®¿é—®ç»Ÿè®¡ï¼Œè™½ç„¶æˆ‘è¿™é‡Œæ²¡å‡ ä¸ªäººçœ‹ï¼ŒåŠŸèƒ½è¿˜æ˜¯è¦æœ‰çš„å§ã€‚æœ‰ä¸‰ç§æ–¹æ¡ˆï¼š  è°·æ­Œç»Ÿè®¡  leancloud  ä¸è’œå­è°·æ­Œçš„æ–¹æ¡ˆæˆ‘è¿™é‡Œä¸å†å¤è¿°äº†ï¼Œæœ‰å…´è¶£çš„å¯ä»¥å»æœç´¢ä¸€ä¸‹å®ç°æ–¹æ¡ˆã€‚æˆ‘è¿™é‡Œæ¨èä½¿ç”¨leancloudå’Œä¸è’œå­ã€‚leancloudï¼š  ä¼˜ç‚¹ï¼šæ”¯æŒæŸ¥çœ‹è¯¦ç»†è®¿é—®è®°å½•  ç¼ºç‚¹ï¼šéœ€è¦å†™éƒ¨åˆ†ä»£ç ä¸è’œå­ï¼š  ä¼˜ç‚¹ï¼šå¼•å…¥è¶…çº§ç®€å•  ç¼ºç‚¹ï¼šå­˜åœ¨ç½‘ç»œæ³¢åŠ¨è®°å½•ä¸åˆ°ã€æ— æ³•æŸ¥çœ‹è®¿é—®è¯¦ç»†è®°å½•ä¸è’œ...",
"content": "å…³äº  ä¸€ç›´æƒ³å®ç°åšå®¢æ–‡ç« è®¿é—®ç»Ÿè®¡ï¼Œè™½ç„¶æˆ‘è¿™é‡Œæ²¡å‡ ä¸ªäººçœ‹ï¼ŒåŠŸèƒ½è¿˜æ˜¯è¦æœ‰çš„å§ã€‚æœ‰ä¸‰ç§æ–¹æ¡ˆï¼š  è°·æ­Œç»Ÿè®¡  leancloud  ä¸è’œå­è°·æ­Œçš„æ–¹æ¡ˆæˆ‘è¿™é‡Œä¸å†å¤è¿°äº†ï¼Œæœ‰å…´è¶£çš„å¯ä»¥å»æœç´¢ä¸€ä¸‹å®ç°æ–¹æ¡ˆã€‚æˆ‘è¿™é‡Œæ¨èä½¿ç”¨leancloudå’Œä¸è’œå­ã€‚leancloudï¼š  ä¼˜ç‚¹ï¼šæ”¯æŒæŸ¥çœ‹è¯¦ç»†è®¿é—®è®°å½•  ç¼ºç‚¹ï¼šéœ€è¦å†™éƒ¨åˆ†ä»£ç ä¸è’œå­ï¼š  ä¼˜ç‚¹ï¼šå¼•å…¥è¶…çº§ç®€å•  ç¼ºç‚¹ï¼šå­˜åœ¨ç½‘ç»œæ³¢åŠ¨è®°å½•ä¸åˆ°ã€æ— æ³•æŸ¥çœ‹è®¿é—®è¯¦ç»†è®°å½•ä¸è’œå­æ–¹æ¡ˆ&lt;script async src=\"//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js\"&gt;&lt;/script&gt;&lt;span id=\"busuanzi_container_site_pv\"&gt;æœ¬ç«™æ€»è®¿é—®é‡&lt;span id=\"busuanzi_value_site_pv\"&gt;&lt;/span&gt;æ¬¡&lt;/span&gt;&lt;span id=\"busuanzi_container_site_uv\"&gt;æœ¬ç«™æ€»è®¿å®¢æ•°&lt;span id=\"busuanzi_value_site_uv\"&gt;&lt;/span&gt;äºº&lt;/span&gt;&lt;span id=\"busuanzi_container_page_pv\"&gt;æœ¬æ–‡æ€»é˜…è¯»é‡&lt;span id=\"busuanzi_value_page_pv\"&gt;&lt;/span&gt;æ¬¡&lt;/span&gt;ä½ æ²¡æœ‰çœ‹é”™ï¼Œåªéœ€å‡ è¡Œå…¨éƒ¨æå®šã€‚  åŸæ–‡leancloudæ–¹æ¡ˆ  å»leancloudæ³¨å†Œå¼€å‘è€…è´¦å·  æ–°å»ºåº”ç”¨ï¼ˆé‡ä¸å¤§é€‰ç”¨å¼€å‘ç‰ˆæœ¬å°±è¡Œäº†ï¼‰  æ–°å»ºClass -&gt;visited_timesã€visitors_recordã€‚visited_times: å¢åŠ å­—æ®µpost_titleã€post_urlã€visited_timesvisitors_record: å¢åŠ å­—æ®µpost_urlã€visitor_ip  åœ¨è®¾ç½®-&gt;åº”ç”¨å‡­è¯æ‹·è´AppIDå’ŒAppKeyã€‚  åœ¨foot.htmlæ·»åŠ å¦‚ä¸‹ä»£ç (æ³¨æ„æ›¿æ¢AppIDå’ŒAppKey)ï¼š    &lt;script src=\"https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js\"&gt;&lt;/script&gt;&lt;script&gt;AV.initialize(\"AppID\", \"AppKey\");&lt;/script&gt;&lt;script&gt; //æ–°å¢è®¿é—®æ¬¡æ•° function addCount(Counter) {   // é¡µé¢ï¼ˆåšå®¢æ–‡ç« ï¼‰ä¸­çš„ä¿¡æ¯ï¼šleancloud_visitors   // idä¸ºpage.urlï¼Œ data-flag-titleä¸ºpage.title   var $visitors = $(\".leancloud_visitors\");   var url = $visitors.attr('id').trim();   var title = $visitors.attr('data-flag-title').trim();   var query = new AV.Query(Counter);   // åªæ ¹æ®æ–‡ç« çš„urlæŸ¥è¯¢LeanCloudæœåŠ¡å™¨ä¸­çš„æ•°æ®   query.equalTo(\"post_url\", url);   query.find({     success: function(results) {       if (results.length &gt; 0) {//è¯´æ˜LeanCloudä¸­å·²ç»è®°å½•äº†è¿™ç¯‡æ–‡ç«          var counter = results[0];         counter.fetchWhenSave(true);         counter.increment(\"visited_times\");// å°†ç‚¹å‡»æ¬¡æ•°åŠ 1         counter.save(null, {           success: function(counter) {             var $element = $(document.getElementById(url));             var newTimes = counter.get('visited_times');             $element.find('.leancloud-visitors-count').text(newTimes);           },           error: function(counter, error) {             console.log('Failed to save Visitor num, with error message: ' + error.message);           }         });       } else {         // æ‰§è¡Œè¿™é‡Œï¼Œè¯´æ˜LeanCloudä¸­è¿˜æ²¡æœ‰è®°å½•æ­¤æ–‡ç«          var newcounter = new Counter();         /* Set ACL */         var acl = new AV.ACL();         acl.setPublicReadAccess(true);         acl.setPublicWriteAccess(true);         newcounter.setACL(acl);         /* End Set ACL */         newcounter.set(\"post_title\", title);// æŠŠæ–‡ç« æ ‡é¢˜         newcounter.set(\"post_url\", url); // æ–‡ç« url         newcounter.set(\"visited_times\", 1); // åˆå§‹ç‚¹å‡»æ¬¡æ•°ï¼š1æ¬¡         newcounter.save(null, { // ä¸Šä¼ åˆ°LeanCloudæœåŠ¡å™¨ä¸­           success: function(newcounter) {             var $element = $(document.getElementById(url));             var newTimes = newcounter.get('visited_times');             $element.find('.leancloud-visitors-count').text(newTimes);           },           error: function(newcounter, error) {             console.log('Failed to create');           }         });       }     },     error: function(error) {       console.log('Error:' + error.code + \" \" + error.message);     }   }); } //ä»…æ ¹æ®urlå’ŒtitleæŸ¥å‡ºå½“å‰è®¿é—®æ¬¡æ•°ï¼Œä¸åš+1æ“ä½œ function showCount(Counter) {   var $visitors = $(\".leancloud_visitors\");   var url = $visitors.attr('id').trim();   var title = $visitors.attr('data-flag-title').trim();   var query = new AV.Query(Counter);   var entries = [];   $visitors.each(function() {     entries.push($(this).attr(\"id\").trim());   });   query.containedIn('post_url', entries);   query.find().done(function(results) {       console.log(results);       var count_container = '.leancloud-visitors-count';       for (var i = 0; i &lt; results.length; i++) {         var item = results[i];         var url = item.get('post_url');         var time = item.get('visited_times');         var element = document.getElementById(url);         $(element).find(count_container).text(time);       }     }).fail(function(object, error) {       console.log(\"Error: \" + error.code + \" \" + error.message);     }); } //è°ƒç”¨APIè·å–IP function getVisitorIpAndJudge() {   var ip;   function createCORS(method, url){     var xhr = new XMLHttpRequest();     if('withCredentials' in xhr){       xhr.open(method, url, true);     }else if(typeof XDomainRequest != 'undefined'){       var xhr = new XDomainRequest();       xhr.open(method, url);     }else{       xhr = null;     }     return xhr;   }   var request = createCORS('get', 'https://api.ipify.org/?format=json&amp;callback=?');   if(request){     request.onload = function(response){       console.log(response);       var obj = JSON.parse(response.currentTarget.response);       console.log(obj);       if(obj.ip) {         ip = obj.ip;       }else {         ip = \"127.0.0.1\";       }       judgeVisitor(ip);     };     request.send();   } } //åˆ¤æ–­è®¿å®¢æ˜¯å¦å·²è®¿é—®è¿‡è¯¥æ–‡ç« ï¼ŒåŠè®¿é—®æ—¶é—´ï¼Œç¬¦åˆæ¡ä»¶åˆ™å¢åŠ ä¸€æ¬¡è®¿é—®æ¬¡æ•° function judgeVisitor(ip) {   var Counter = AV.Object.extend(\"visited_times\");   var Visitor = AV.Object.extend(\"visitors_record\");   var $postInfo = $(\".leancloud_visitors\");   var post_url = $postInfo.attr('id').trim();   var query = new AV.Query(Visitor);   query.equalTo(\"visitor_ip\", ip);   query.equalTo(\"post_url\", post_url);   query.find({     success: function(results) {       if (results.length &gt; 0) {         console.log('è¯¥IPå·²è®¿é—®è¿‡è¯¥æ–‡ç« ');         var oldVisitor = results[0];         var lastTime = oldVisitor.updatedAt;         var curTime = new Date();         var timePassed = curTime.getTime() - lastTime.getTime();         if(timePassed &gt; 1 * 60 * 1000) {           console.log('è·ç¦»è¯¥IPä¸Šä¸€æ¬¡è®¿é—®è¯¥æ–‡ç« å·²è¶…è¿‡äº†1åˆ†é’Ÿï¼Œæ›´æ–°è®¿é—®è®°å½•ï¼Œå¹¶å¢åŠ è®¿é—®æ¬¡æ•°');           addCount(Counter);           oldVisitor.fetchWhenSave(true);           oldVisitor.save(null, {             success: function(oldVisitor) { },             error: function(oldVisitor, error) {               console.log('Failed to save visitor record, with error message: ' + error.message);             }           });         } else {           console.log('è¿™æ˜¯è¯¥IP 1åˆ†é’Ÿå†…é‡å¤è®¿é—®è¯¥æ–‡ç« ï¼Œä¸æ›´æ–°è®¿é—®è®°å½•ï¼Œä¸å¢åŠ è®¿é—®æ¬¡æ•°');           showCount(Counter);         }       } else {         console.log('è¯¥IPç¬¬ä¸€æ¬¡è®¿é—®è¯¥æ–‡ç« ï¼Œä¿å­˜æ–°çš„è®¿é—®è®°å½•ï¼Œå¹¶å¢åŠ è®¿é—®æ¬¡æ•°');         addCount(Counter);         var newVisitor = new Visitor();         /* Set ACL */         var acl = new AV.ACL();         acl.setPublicReadAccess(true);         acl.setPublicWriteAccess(true);         newVisitor.setACL(acl);         newVisitor.set(\"visitor_ip\", ip);         newVisitor.set(\"post_url\", post_url);         newVisitor.save(null, { // ä¸Šä¼ åˆ°LeanCloudæœåŠ¡å™¨ä¸­           success: function(newVisitor) { },           error: function(newVisitor, error) {             console.log('Failed to create visitor record, with error message: ' + error.message);           }         });       }     },     error: function(error) {       console.log('Error:' + error.code + \" \" + error.message);       addCount(Counter);     }   }); } $(function() {   if ($('.leancloud_visitors').length == 1) {     // æ–‡ç« é¡µé¢ï¼Œè°ƒç”¨åˆ¤æ–­æ–¹æ³•ï¼Œå¯¹ç¬¦åˆæ¡ä»¶çš„è®¿é—®å¢åŠ è®¿é—®æ¬¡æ•°     getVisitorIpAndJudge();   }else if ($('.leancloud_visitors').length &gt; 1){     console.log(\"leancloud_visitors&gt;1\")     // æ–‡ç« åˆ—è¡¨æ—¶     var Counter = AV.Object.extend(\"visited_times\");     showCount(Counter)   } });&lt;/script&gt;        åœ¨éœ€è¦å±•ç¤ºçš„åœ°æ–¹å¢åŠ å¦‚ä¸‹ï¼š    &lt;span id=\"/posts/%E7%BB%99%E6%96%87%E7%AB%A0%E5%8A%A0%E4%B8%8A%E4%BA%86%E8%AE%BF%E9%97%AE%E7%BB%9F%E8%AE%A1/\" class=\"leancloud_visitors\" data-flag-title=\"ç»™æ–‡ç« åŠ ä¸Šäº†è®¿é—®ç»Ÿè®¡\"&gt;   &lt;i class=\"fa fa-eye\"&gt;&lt;span class=\"leancloud-visitors-count\"&gt;&lt;/span&gt;&lt;/i&gt;&lt;/span&gt;        æ³¨ï¼š/posts/%E7%BB%99%E6%96%87%E7%AB%A0%E5%8A%A0%E4%B8%8A%E4%BA%86%E8%AE%BF%E9%97%AE%E7%BB%9F%E8%AE%A1/ä¸ºæ–‡ç« å”¯ä¸€çš„è®¿é—®åœ°å€ï¼Œç»™æ–‡ç« åŠ ä¸Šäº†è®¿é—®ç»Ÿè®¡ä¸ºæ–‡ç« æ ‡é¢˜ï¼Œleancloud-visitors-countå€¼ä¸ä¸Šä¸€æ­¥æ“ä½œçš„æœ‰å…³è”ã€‚  å†æ¬¡éƒ¨ç½²åˆ·æ–°æ–‡ç« é¡µé¢å»leancloudæ§åˆ¶å°èƒ½çœ‹åˆ°æœ‰è®¿é—®è®°å½•ã€‚OKï¼Œåˆ°æ­¤å°±å®Œæˆäº†ã€‚  å‚è€ƒæ–‡ç« "
},

{
"title": "ä¸åšå®¢çš„æŠ˜è…¾",
"url": "/posts/%E4%B8%8E%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%8A%98%E8%85%BE/",
"categories": "åšå®¢é‚£äº›äº‹",
"tags": "åšå®¢é‚£äº›äº‹",
"date": "2021-10-14 16:32:00 +0800",







"snippet": "å†™åšå®¢è¿™ä»¶äº‹ï¼Œæ˜¯è®¤çœŸçš„ä¸çŸ¥ä¸è§‰ï¼Œå†™ç€å†™ç€å°±æ–­äº†â€¦18å¹´å¼€å§‹å»ºè®¾äº†ä¸ªäººç«™ç‚¹,æŠ˜è…¾äº†å‡ ä¸ªåšå®¢ç³»ç»Ÿã€‚hexoã€vuepressã€jekyllâ€¦.æ€»æ„Ÿè§‰å†™çš„ä¸œè¥¿ä¸å¤Ÿå¥½ï¼Œç„¶ååˆä¸çŸ¥é“å†™å•¥â€¦ä½†æ˜¯ç¬”è®°è¿˜æ˜¯ä¸€ç›´éƒ½åœ¨è®°ç€ï¼Œç”¨çš„æœ‰é“äº‘ç°åœ¨æ¢æˆäº†chirpyçš„ä¸»é¢˜ï¼Œæ„Ÿè§‰è¿™ä¸ªç®€æ´ä¸€äº›ã€‚æ–°çš„ä¸»é¢˜é‡æ–°å¼€å§‹å§ï¼Œå¥½äº†ï¼Œå…ˆè¿™æ ·å§ï¼Œå¾…ç»­â€¦",
"content": "å†™åšå®¢è¿™ä»¶äº‹ï¼Œæ˜¯è®¤çœŸçš„ä¸çŸ¥ä¸è§‰ï¼Œå†™ç€å†™ç€å°±æ–­äº†â€¦18å¹´å¼€å§‹å»ºè®¾äº†ä¸ªäººç«™ç‚¹,æŠ˜è…¾äº†å‡ ä¸ªåšå®¢ç³»ç»Ÿã€‚hexoã€vuepressã€jekyllâ€¦.æ€»æ„Ÿè§‰å†™çš„ä¸œè¥¿ä¸å¤Ÿå¥½ï¼Œç„¶ååˆä¸çŸ¥é“å†™å•¥â€¦ä½†æ˜¯ç¬”è®°è¿˜æ˜¯ä¸€ç›´éƒ½åœ¨è®°ç€ï¼Œç”¨çš„æœ‰é“äº‘ç°åœ¨æ¢æˆäº†chirpyçš„ä¸»é¢˜ï¼Œæ„Ÿè§‰è¿™ä¸ªç®€æ´ä¸€äº›ã€‚æ–°çš„ä¸»é¢˜é‡æ–°å¼€å§‹å§ï¼Œå¥½äº†ï¼Œå…ˆè¿™æ ·å§ï¼Œå¾…ç»­â€¦"
},

{
"title": "åŸºäºRabbitMQçš„Javaåº”ç”¨",
"url": "/posts/%E5%9F%BA%E4%BA%8ERabbitMQ%E7%9A%84Java%E5%BA%94%E7%94%A8/",
"categories": "åˆ†å¸ƒå¼ç³»ç»Ÿ",
"tags": "æ¶ˆæ¯é˜Ÿåˆ—, RabbitMQ",
"date": "2021-02-22 16:12:00 +0800",







"snippet": "åŸºäºRabbitMQçš„Javaåº”ç”¨å¼•è¨€RabbitMQæ˜¯ä¸€æ¬¾ç”±Pivotalå…¬å¸å¼€å‘çš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­é—´ä»¶ï¼ŒåŸºäºAMQPï¼ˆAdvanced Message Queuing Protocolï¼‰åè®®ã€‚å®ƒå…·æœ‰é«˜å¯æ‰©å±•æ€§ã€é«˜å¯é æ€§ã€æ˜“ç”¨æ€§ç­‰ç‰¹ç‚¹ï¼Œå¹¿æ³›åº”ç”¨äºäº’è”ç½‘ã€é‡‘èã€ç”µå•†ç­‰é¢†åŸŸã€‚æœ¬æ–‡å°†æ·±å…¥æµ…å‡ºåœ°ä»‹ç»RabbitMQçš„åŸºæœ¬æ¦‚å¿µã€æ ¸å¿ƒç»„ä»¶åŠå…¶åœ¨Javaä¸­çš„ç¼–ç¨‹å®è·µã€‚RabbitMQçš„åŸºæœ¬æ¦‚å¿µåœ¨äº†è§£å¦‚ä½•ä½¿ç”¨R...",
"content": "åŸºäºRabbitMQçš„Javaåº”ç”¨å¼•è¨€RabbitMQæ˜¯ä¸€æ¬¾ç”±Pivotalå…¬å¸å¼€å‘çš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­é—´ä»¶ï¼ŒåŸºäºAMQPï¼ˆAdvanced Message Queuing Protocolï¼‰åè®®ã€‚å®ƒå…·æœ‰é«˜å¯æ‰©å±•æ€§ã€é«˜å¯é æ€§ã€æ˜“ç”¨æ€§ç­‰ç‰¹ç‚¹ï¼Œå¹¿æ³›åº”ç”¨äºäº’è”ç½‘ã€é‡‘èã€ç”µå•†ç­‰é¢†åŸŸã€‚æœ¬æ–‡å°†æ·±å…¥æµ…å‡ºåœ°ä»‹ç»RabbitMQçš„åŸºæœ¬æ¦‚å¿µã€æ ¸å¿ƒç»„ä»¶åŠå…¶åœ¨Javaä¸­çš„ç¼–ç¨‹å®è·µã€‚RabbitMQçš„åŸºæœ¬æ¦‚å¿µåœ¨äº†è§£å¦‚ä½•ä½¿ç”¨RabbitMQä¹‹å‰ï¼Œé¦–å…ˆè¦æŒæ¡ä¸€äº›åŸºæœ¬æ¦‚å¿µï¼š  Producerï¼šæ¶ˆæ¯çš„ç”Ÿäº§è€…ï¼Œè´Ÿè´£å‘é€æ¶ˆæ¯åˆ°RabbitMQã€‚  Consumerï¼šæ¶ˆæ¯çš„æ¶ˆè´¹è€…ï¼Œè´Ÿè´£ä»RabbitMQä¸­æ¥æ”¶æ¶ˆæ¯ã€‚  Queueï¼šæ¶ˆæ¯é˜Ÿåˆ—ï¼Œå­˜å‚¨æ¶ˆæ¯çš„åœ°æ–¹ã€‚  Exchangeï¼šæ¶ˆæ¯äº¤æ¢æœºï¼Œè´Ÿè´£å°†æ¶ˆæ¯è·¯ç”±åˆ°ä¸åŒçš„é˜Ÿåˆ—ã€‚  Bindingï¼šç»‘å®šï¼Œå°†é˜Ÿåˆ—å’Œäº¤æ¢æœºç»‘å®šåœ¨ä¸€èµ·ï¼Œå¹¶è®¾å®šè·¯ç”±è§„åˆ™ã€‚  Routing Keyï¼šè·¯ç”±é”®ï¼Œç”Ÿäº§è€…å‘é€æ¶ˆæ¯æ—¶æŒ‡å®šï¼Œç”¨äºç¡®å®šæ¶ˆæ¯çš„è·¯ç”±è·¯å¾„ã€‚RabbitMQçš„æ ¸å¿ƒç»„ä»¶RabbitMQçš„æ ¸å¿ƒç»„ä»¶åŒ…æ‹¬ï¼š  Queueï¼šå­˜å‚¨æ¶ˆæ¯çš„é˜Ÿåˆ—ï¼Œæ¶ˆæ¯åœ¨é˜Ÿåˆ—ä¸­æŒ‰é¡ºåºå­˜æ”¾ï¼Œæ¶ˆè´¹è€…æŒ‰é¡ºåºæ¥æ”¶ã€‚  Exchangeï¼šæ¥æ”¶ç”Ÿäº§è€…å‘é€çš„æ¶ˆæ¯ï¼Œå¹¶æ ¹æ®ç»‘å®šè§„åˆ™å°†æ¶ˆæ¯è·¯ç”±åˆ°ç›¸åº”çš„é˜Ÿåˆ—ã€‚ä¸»è¦æœ‰å››ç§ç±»å‹ï¼š          Directï¼šç›´æ¥äº¤æ¢æœºï¼ŒæŒ‰ç…§å®Œå…¨åŒ¹é…çš„è·¯ç”±é”®å°†æ¶ˆæ¯è·¯ç”±åˆ°é˜Ÿåˆ—ã€‚      Topicï¼šä¸»é¢˜äº¤æ¢æœºï¼ŒæŒ‰æ¨¡å¼åŒ¹é…è·¯ç”±é”®å°†æ¶ˆæ¯è·¯ç”±åˆ°é˜Ÿåˆ—ã€‚      Fanoutï¼šæ‰‡å‡ºäº¤æ¢æœºï¼Œå°†æ¶ˆæ¯å¹¿æ’­åˆ°æ‰€æœ‰ç»‘å®šçš„é˜Ÿåˆ—ã€‚      Headersï¼šå¤´äº¤æ¢æœºï¼Œæ ¹æ®æ¶ˆæ¯å¤´ä¸­çš„å±æ€§è¿›è¡Œè·¯ç”±ã€‚        Bindingï¼šå°†é˜Ÿåˆ—å’Œäº¤æ¢æœºç»‘å®šåœ¨ä¸€èµ·ï¼Œå¹¶è®¾å®šè·¯ç”±è§„åˆ™ã€‚  Connectionï¼šå®¢æˆ·ç«¯å’ŒRabbitMQ Brokerä¹‹é—´çš„TCPè¿æ¥ã€‚  Channelï¼šåœ¨è¿æ¥å†…å¤ç”¨çš„é€šé“ï¼Œè½»é‡çº§çš„è¿æ¥ã€‚Javaç¼–ç¨‹å®è·µç¯å¢ƒå‡†å¤‡é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨é¡¹ç›®ä¸­å¼•å…¥RabbitMQçš„ä¾èµ–ã€‚å‡è®¾ä½¿ç”¨Mavenæ„å»ºé¡¹ç›®ï¼Œåœ¨pom.xmlä¸­æ·»åŠ ä»¥ä¸‹ä¾èµ–ï¼š&lt;dependency&gt;    &lt;groupId&gt;com.rabbitmq&lt;/groupId&gt;    &lt;artifactId&gt;amqp-client&lt;/artifactId&gt;    &lt;version&gt;5.13.0&lt;/version&gt;&lt;/dependency&gt;ç”Ÿäº§è€…ï¼ˆProducerï¼‰ä»£ç ç¤ºä¾‹ç”Ÿäº§è€…è´Ÿè´£å‘é€æ¶ˆæ¯åˆ°RabbitMQã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç”Ÿäº§è€…ç¤ºä¾‹ï¼šimport com.rabbitmq.client.Channel;import com.rabbitmq.client.Connection;import com.rabbitmq.client.ConnectionFactory;public class RabbitMQProducer {    private final static String QUEUE_NAME = \"hello\";    public static void main(String[] argv) throws Exception {        // åˆ›å»ºè¿æ¥å·¥å‚        ConnectionFactory factory = new ConnectionFactory();        factory.setHost(\"localhost\");        // åˆ›å»ºè¿æ¥        try (Connection connection = factory.newConnection();             Channel channel = connection.createChannel()) {            // å£°æ˜é˜Ÿåˆ—            channel.queueDeclare(QUEUE_NAME, false, false, false, null);            String message = \"Hello RabbitMQ!\";            // å‘é€æ¶ˆæ¯            channel.basicPublish(\"\", QUEUE_NAME, null, message.getBytes());            System.out.println(\" [x] Sent '\" + message + \"'\");        }    }}æ¶ˆè´¹è€…ï¼ˆConsumerï¼‰ä»£ç ç¤ºä¾‹æ¶ˆè´¹è€…è´Ÿè´£ä»RabbitMQä¸­æ¥æ”¶æ¶ˆæ¯å¹¶è¿›è¡Œå¤„ç†ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„æ¶ˆè´¹è€…ç¤ºä¾‹ï¼šimport com.rabbitmq.client.*;public class RabbitMQConsumer {    private final static String QUEUE_NAME = \"hello\";    public static void main(String[] argv) throws Exception {        // åˆ›å»ºè¿æ¥å·¥å‚        ConnectionFactory factory = new ConnectionFactory();        factory.setHost(\"localhost\");        // åˆ›å»ºè¿æ¥        try (Connection connection = factory.newConnection();             Channel channel = connection.createChannel()) {            // å£°æ˜é˜Ÿåˆ—            channel.queueDeclare(QUEUE_NAME, false, false, false, null);            System.out.println(\" [*] Waiting for messages. To exit press CTRL+C\");            // åˆ›å»ºæ¶ˆè´¹è€…            DeliverCallback deliverCallback = (consumerTag, delivery) -&gt; {                String message = new String(delivery.getBody(), \"UTF-8\");                System.out.println(\" [x] Received '\" + message + \"'\");            };            // æ¶ˆè´¹æ¶ˆæ¯            channel.basicConsume(QUEUE_NAME, true, deliverCallback, consumerTag -&gt; { });        }    }}"
},

{
"title": "åŸºäºRocketMQçš„Javaåº”ç”¨",
"url": "/posts/%E5%9F%BA%E4%BA%8ERocketMQ%E7%9A%84Java%E5%BA%94%E7%94%A8/",
"categories": "åˆ†å¸ƒå¼ç³»ç»Ÿ",
"tags": "æ¶ˆæ¯é˜Ÿåˆ—, RocketMQ",
"date": "2021-02-16 14:33:00 +0800",







"snippet": "åŸºäºRocketMQçš„Javaåº”ç”¨å¼•è¨€RocketMQæ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„ä¸€ä¸ªåˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œå…·æœ‰é«˜æ€§èƒ½ã€é«˜å¯é æ€§ã€åˆ†å¸ƒå¼ç­‰ç‰¹ç‚¹ï¼Œå¹¿æ³›åº”ç”¨äºé‡‘èã€ç”µå•†ç­‰é¢†åŸŸã€‚æœ¬æ–‡å°†æ·±å…¥æµ…å‡ºåœ°ä»‹ç»RocketMQçš„åŸºæœ¬æ¦‚å¿µã€æ ¸å¿ƒç»„ä»¶åŠå…¶åœ¨Javaä¸­çš„ç¼–ç¨‹å®è·µã€‚RocketMQçš„åŸºæœ¬æ¦‚å¿µåœ¨äº†è§£å¦‚ä½•ä½¿ç”¨RocketMQä¹‹å‰ï¼Œé¦–å…ˆè¦æŒæ¡ä¸€äº›åŸºæœ¬æ¦‚å¿µï¼š  Producerï¼šæ¶ˆæ¯çš„ç”Ÿäº§è€…ï¼Œè´Ÿè´£å‘é€æ¶ˆæ¯åˆ°RocketMQã€‚...",
"content": "åŸºäºRocketMQçš„Javaåº”ç”¨å¼•è¨€RocketMQæ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„ä¸€ä¸ªåˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œå…·æœ‰é«˜æ€§èƒ½ã€é«˜å¯é æ€§ã€åˆ†å¸ƒå¼ç­‰ç‰¹ç‚¹ï¼Œå¹¿æ³›åº”ç”¨äºé‡‘èã€ç”µå•†ç­‰é¢†åŸŸã€‚æœ¬æ–‡å°†æ·±å…¥æµ…å‡ºåœ°ä»‹ç»RocketMQçš„åŸºæœ¬æ¦‚å¿µã€æ ¸å¿ƒç»„ä»¶åŠå…¶åœ¨Javaä¸­çš„ç¼–ç¨‹å®è·µã€‚RocketMQçš„åŸºæœ¬æ¦‚å¿µåœ¨äº†è§£å¦‚ä½•ä½¿ç”¨RocketMQä¹‹å‰ï¼Œé¦–å…ˆè¦æŒæ¡ä¸€äº›åŸºæœ¬æ¦‚å¿µï¼š  Producerï¼šæ¶ˆæ¯çš„ç”Ÿäº§è€…ï¼Œè´Ÿè´£å‘é€æ¶ˆæ¯åˆ°RocketMQã€‚  Consumerï¼šæ¶ˆæ¯çš„æ¶ˆè´¹è€…ï¼Œè´Ÿè´£ä»RocketMQä¸­æ‹‰å–æ¶ˆæ¯è¿›è¡Œå¤„ç†ã€‚  Brokerï¼šæ¶ˆæ¯çš„å­˜å‚¨å’Œè½¬å‘èŠ‚ç‚¹ï¼Œè´Ÿè´£å­˜å‚¨æ¶ˆæ¯å¹¶å°†æ¶ˆæ¯ä¼ é€’ç»™æ¶ˆè´¹è€…ã€‚  NameServerï¼šç”¨äºç®¡ç†Brokerå’Œè·¯ç”±ä¿¡æ¯çš„æœåŠ¡ã€‚RocketMQçš„æ ¸å¿ƒç»„ä»¶RocketMQçš„æ ¸å¿ƒç»„ä»¶åŒ…æ‹¬ï¼š  Messageï¼šæ¶ˆæ¯ä½“ï¼ŒåŒ…å«æ¶ˆæ¯å†…å®¹å’Œä¸€äº›é™„åŠ å±æ€§ã€‚  Producerï¼šæ¶ˆæ¯å‘é€è€…ï¼Œå¯ä»¥æ˜¯åŒæ­¥å‘é€ã€å¼‚æ­¥å‘é€æˆ–å•å‘å‘é€ã€‚  Consumerï¼šæ¶ˆæ¯æ¥æ”¶è€…ï¼Œæœ‰æ¨æ¨¡å¼ï¼ˆPushï¼‰å’Œæ‹‰æ¨¡å¼ï¼ˆPullï¼‰ä¸¤ç§ã€‚  Brokerï¼šæ¶ˆæ¯å­˜å‚¨å’Œè½¬å‘èŠ‚ç‚¹ï¼Œæ”¯æŒä¸»ä»æ¶æ„ã€‚  NameServerï¼šç®¡ç†Brokerçš„è·¯ç”±ä¿¡æ¯ï¼Œæ”¯æŒåŠ¨æ€æ³¨å†Œä¸å‘ç°ã€‚Javaç¼–ç¨‹å®è·µç¯å¢ƒå‡†å¤‡é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨é¡¹ç›®ä¸­å¼•å…¥RocketMQçš„ä¾èµ–ã€‚å‡è®¾ä½¿ç”¨Mavenæ„å»ºé¡¹ç›®ï¼Œåœ¨pom.xmlä¸­æ·»åŠ ä»¥ä¸‹ä¾èµ–ï¼š&lt;dependency&gt;    &lt;groupId&gt;org.apache.rocketmq&lt;/groupId&gt;    &lt;artifactId&gt;rocketmq-client&lt;/artifactId&gt;    &lt;version&gt;4.9.3&lt;/version&gt;&lt;/dependency&gt;ç”Ÿäº§è€…ï¼ˆProducerï¼‰ä»£ç ç¤ºä¾‹ç”Ÿäº§è€…è´Ÿè´£å‘é€æ¶ˆæ¯åˆ°Brokerã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç”Ÿäº§è€…ç¤ºä¾‹ï¼šimport org.apache.rocketmq.client.producer.DefaultMQProducer;import org.apache.rocketmq.client.producer.SendResult;import org.apache.rocketmq.common.message.Message;public class RocketMQProducer {    public static void main(String[] args) throws Exception {        // åˆ›å»ºç”Ÿäº§è€…å®ä¾‹ï¼Œå¹¶æŒ‡å®šç”Ÿäº§è€…ç»„å        DefaultMQProducer producer = new DefaultMQProducer(\"ProducerGroup\");        // è®¾ç½®NameServeråœ°å€        producer.setNamesrvAddr(\"127.0.0.1:9876\");        // å¯åŠ¨ç”Ÿäº§è€…        producer.start();        // åˆ›å»ºä¸€æ¡æ¶ˆæ¯ï¼ŒæŒ‡å®šTopicã€Tagå’Œæ¶ˆæ¯å†…å®¹        Message message = new Message(\"TopicTest\", \"TagA\", \"Hello RocketMQ\".getBytes());        // å‘é€æ¶ˆæ¯å¹¶è·å–å‘é€ç»“æœ        SendResult sendResult = producer.send(message);        System.out.printf(\"%s%n\", sendResult);        // å…³é—­ç”Ÿäº§è€…        producer.shutdown();    }}æ¶ˆè´¹è€…ï¼ˆConsumerï¼‰ä»£ç ç¤ºä¾‹æ¶ˆè´¹è€…è´Ÿè´£ä»Brokerä¸­æ‹‰å–æ¶ˆæ¯å¹¶è¿›è¡Œå¤„ç†ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„æ¶ˆè´¹è€…ç¤ºä¾‹ï¼šimport org.apache.rocketmq.client.consumer.DefaultMQPushConsumer;import org.apache.rocketmq.client.consumer.listener.ConsumeConcurrentlyContext;import org.apache.rocketmq.client.consumer.listener.ConsumeConcurrentlyStatus;import org.apache.rocketmq.client.consumer.listener.MessageListenerConcurrently;import org.apache.rocketmq.common.message.MessageExt;import java.util.List;public class RocketMQConsumer {    public static void main(String[] args) throws Exception {        // åˆ›å»ºæ¶ˆè´¹è€…å®ä¾‹ï¼Œå¹¶æŒ‡å®šæ¶ˆè´¹è€…ç»„å        DefaultMQPushConsumer consumer = new DefaultMQPushConsumer(\"ConsumerGroup\");        // è®¾ç½®NameServeråœ°å€        consumer.setNamesrvAddr(\"127.0.0.1:9876\");        // è®¢é˜…Topicå’ŒTag        consumer.subscribe(\"TopicTest\", \"*\");        // æ³¨å†Œæ¶ˆæ¯ç›‘å¬å™¨        consumer.registerMessageListener(new MessageListenerConcurrently() {            @Override            public ConsumeConcurrentlyStatus consumeMessage(List&lt;MessageExt&gt; msgs, ConsumeConcurrentlyContext context) {                for (MessageExt msg : msgs) {                    System.out.printf(\"%s%n\", new String(msg.getBody()));                }                return ConsumeConcurrentlyStatus.CONSUME_SUCCESS;            }        });        // å¯åŠ¨æ¶ˆè´¹è€…        consumer.start();        System.out.printf(\"Consumer Started.%n\");    }}æ€»ç»“é€šè¿‡ä»¥ä¸Šç¤ºä¾‹ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºRocketMQåœ¨Javaä¸­çš„ä½¿ç”¨éå¸¸ç®€æ´é«˜æ•ˆã€‚æœ¬æ–‡ä»‹ç»äº†RocketMQçš„åŸºæœ¬æ¦‚å¿µå’Œæ ¸å¿ƒç»„ä»¶ï¼Œå¹¶é€šè¿‡ä»£ç ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•å®ç°æ¶ˆæ¯çš„ç”Ÿäº§å’Œæ¶ˆè´¹ã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©ä½ å¿«é€Ÿä¸Šæ‰‹RocketMQï¼Œå¹¶å°†å…¶åº”ç”¨åˆ°å®é™…é¡¹ç›®ä¸­ã€‚"
},

{
"title": "JenkinsæŒç»­é›†æˆ",
"url": "/posts/Jekins%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90/",
"categories": "å„ç§ä½¿ç”¨æŒ‡å—",
"tags": "æŒç»­é›†æˆ, Jenkins",
"date": "2020-10-13 10:39:06 +0800",







"snippet": "JenkinsæŒç»­é›†æˆJenkinsæ¦‚è¿°  Jenkinsæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å¼€æºè‡ªåŠ¨åŒ–æœåŠ¡å™¨ï¼Œå¯ç”¨äºè‡ªåŠ¨æ‰§è¡Œä¸æ„å»ºï¼Œæµ‹è¯•ï¼Œäº¤ä»˜æˆ–éƒ¨ç½²è½¯ä»¶ç›¸å…³çš„å„ç§ä»»åŠ¡ã€‚Jenkinså¯ä»¥é€šè¿‡æœ¬æœºç³»ç»Ÿè½¯ä»¶åŒ…ï¼ŒDockerå®‰è£…ï¼Œç”šè‡³å¯ä»¥ç”±å®‰è£…äº†Java Runtime Environmentï¼ˆJREï¼‰çš„ä»»ä½•æœºå™¨ç‹¬ç«‹è¿è¡Œã€‚ä¸‹è½½å¹¶è¿è¡ŒJenkins      ä¸‹è½½Jenkinsã€‚        åœ¨ä¸‹è½½ç›®å½•ä¸­æ‰“å¼€ç»ˆç«¯ã€‚  ...",
"content": "JenkinsæŒç»­é›†æˆJenkinsæ¦‚è¿°  Jenkinsæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å¼€æºè‡ªåŠ¨åŒ–æœåŠ¡å™¨ï¼Œå¯ç”¨äºè‡ªåŠ¨æ‰§è¡Œä¸æ„å»ºï¼Œæµ‹è¯•ï¼Œäº¤ä»˜æˆ–éƒ¨ç½²è½¯ä»¶ç›¸å…³çš„å„ç§ä»»åŠ¡ã€‚Jenkinså¯ä»¥é€šè¿‡æœ¬æœºç³»ç»Ÿè½¯ä»¶åŒ…ï¼ŒDockerå®‰è£…ï¼Œç”šè‡³å¯ä»¥ç”±å®‰è£…äº†Java Runtime Environmentï¼ˆJREï¼‰çš„ä»»ä½•æœºå™¨ç‹¬ç«‹è¿è¡Œã€‚ä¸‹è½½å¹¶è¿è¡ŒJenkins      ä¸‹è½½Jenkinsã€‚        åœ¨ä¸‹è½½ç›®å½•ä¸­æ‰“å¼€ç»ˆç«¯ã€‚        è¿è¡Œjava -jar jenkins.war â€“httpPort=8080ã€‚        æµè§ˆåˆ°http://localhost:8080ã€‚        æŒ‰ç…§è¯´æ˜å®Œæˆå®‰è£…ã€‚          ä¿®æ”¹Jenkinså¯åŠ¨çš„é»˜è®¤ç«¯å£å·æ–¹å¼ï¼š              åœ¨Jenkinså®‰è£…ç›®å½•ä¸‹æ‰“å¼€jenkins.xml        ä¿®æ”¹å±æ€§httpPort=8088          è¿è¡Œç¯å¢ƒ          macOSï¼ŒLinuxæˆ–Windowsæœºå™¨ï¼š256 MBçš„RAMï¼Œæ¨èè¶…è¿‡512 MBã€‚Jenkinså’ŒDockeré•œåƒå’Œå®¹å™¨çš„10 GBç©ºé—´                    éƒ¨ç½²javaåº”ç”¨ï¼Œè¿˜éœ€å®‰è£…ï¼š  docker  gitä½¿ç”¨Pipelinemaven:pipeline {    agent { docker { image 'maven:3.3.3' } }    stages {        stage('build') {            steps {                sh 'mvn --version'            }        }    }}node:pipeline {    agent { docker { image 'node:6.3' } }    stages {        stage('build') {            steps {                sh 'npm --version'            }        }    }}stage  åŒ…å«3ä¸ªé˜¶æ®µï¼Œâ€Buildâ€, â€œTestâ€ and â€œDeployâ€ã€‚  pipeline {  agent any 1  stages {      stage('Build') { //2        steps {        // 3        }      }      stage('Test') { //4        steps {        // 5        }      }      stage('Deploy') { //6        steps {        // 7        }      }    }}    åœ¨ä»»ä½•å¯ç”¨çš„ä»£ç†ä¸Šæ‰§è¡Œæ­¤ç®¡é“æˆ–å…¶ä»»ä½•é˜¶æ®µã€‚  å®šä¹‰â€œBuildâ€é˜¶æ®µã€‚stageå—åœ¨Scripted Pipelineè¯­æ³•ä¸­æ˜¯å¯é€‰çš„ã€‚ä½†æ˜¯ï¼Œstageåœ¨è„šæœ¬ç®¡é“ä¸­å®ç°å—å¯ä»¥æ›´æ¸…æ™°åœ°æ˜¾ç¤ºJenkins UIä¸­æ¯ä¸ªé˜¶æ®µçš„ä»»åŠ¡/æ­¥éª¤å­é›†ã€‚  æ‰§è¡Œä¸â€œBuildâ€é˜¶æ®µç›¸å…³çš„ä¸€äº›æ­¥éª¤ã€‚  å®šä¹‰â€œTestâ€é˜¶æ®µã€‚  æ‰§è¡Œä¸â€œTestâ€é˜¶æ®µç›¸å…³çš„ä¸€äº›æ­¥éª¤ã€‚  å®šä¹‰â€œDeployâ€é˜¶æ®µã€‚  æ‰§è¡Œä¸â€œDeployâ€é˜¶æ®µç›¸å…³çš„ä¸€äº›æ­¥éª¤ã€‚"
},

{
"title": "Docker Composeå®‰è£…ä¸ä½¿ç”¨",
"url": "/posts/Docker-Compose/",
"categories": "åˆ†å¸ƒå¼ç³»ç»Ÿ, docker",
"tags": "åˆ†å¸ƒå¼ç³»ç»Ÿ, docker, docker compose",
"date": "2020-04-14 10:39:06 +0800",







"snippet": "Docker Compose å®‰è£…åœ¨ Ubuntu ç³»ç»Ÿä¸­å®‰è£… Docker Compose çš„è¯´æ˜ï¼šcurl -L https://github.com/docker/compose/releases/download/1.17.0/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-composeæˆ–è€…apt-get ...",
"content": "Docker Compose å®‰è£…åœ¨ Ubuntu ç³»ç»Ÿä¸­å®‰è£… Docker Compose çš„è¯´æ˜ï¼šcurl -L https://github.com/docker/compose/releases/download/1.17.0/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-composeæˆ–è€…apt-get install docker-composeç»™ docker-compose æ·»åŠ æ‰§è¡Œçš„æƒé™ï¼šsudo chmod +x /usr/local/bin/docker-composeæŸ¥çœ‹ docker-compose çš„ç‰ˆæœ¬docker-compose versionDocker Compose ä½¿ç”¨åˆ›å»ºä¸€ä¸ª docker-compose.yml é…ç½®æ–‡ä»¶ï¼šversion: '3'services:  webapp:    restart: always    image: training/webapp    container_name: webapp    ports:      - 5000:5000å‚æ•°è¯´æ˜ï¼š  versionï¼šæŒ‡å®šè„šæœ¬è¯­æ³•è§£é‡Šå™¨ç‰ˆæœ¬  servicesï¼šè¦å¯åŠ¨çš„æœåŠ¡åˆ—è¡¨          webappï¼šæœåŠ¡åç§°ï¼Œå¯ä»¥éšä¾¿èµ·åï¼Œä¸é‡å¤å³å¯                  restartï¼šå¯åŠ¨æ–¹å¼ï¼Œè¿™é‡Œçš„ always è¡¨ç¤ºæ€»æ˜¯å¯åŠ¨ï¼Œå³ä½¿æœåŠ¡å™¨é‡å¯äº†ä¹Ÿä¼šç«‹å³å¯åŠ¨æœåŠ¡          imageï¼šé•œåƒçš„åç§°ï¼Œé»˜è®¤ä» Docker Hub ä¸‹è½½          container_nameï¼šå®¹å™¨åç§°ï¼Œå¯ä»¥éšä¾¿èµ·åï¼Œä¸é‡å¤å³å¯          portsï¼šç«¯å£æ˜ å°„åˆ—åˆ—è¡¨ï¼Œå·¦è¾¹ä¸ºå®¿ä¸»æœºç«¯å£ï¼Œå³è¾¹ä¸ºå®¹å™¨ç«¯å£                    å‰å°è¿è¡Œï¼šwebster@UbuntuBase:/usr/local/docker/python$ docker-compose upCreating network \"python_default\" with the default driverCreating webapp ...Creating webapp ... doneAttaching to webappwebapp    |  * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)åå°è¿è¡Œï¼šwebster@UbuntuBase:/usr/local/docker/python$ docker-compose up -dDocker Composeå¸¸ç”¨å‘½ä»¤å‰å°è¿è¡Œdocker-compose upåå°è¿è¡Œdocker-compose up -då¯åŠ¨docker-compose starté‡æ–°å¯åŠ¨docker-compose restartåœæ­¢docker-compose stopåœæ­¢å¹¶ç§»é™¤å®¹å™¨docker-compose downDocker Composeå®ä¾‹Docker Compose è¿è¡Œ MySQLdocker-compose.yml é…ç½®æ–‡ä»¶ï¼šversion: '3.1'services:  mysql:    restart: always    image: mysql:5.7.22    container_name: mysql    ports:      - 3306:3306    environment:      TZ: Asia/Shanghai      MYSQL_ROOT_PASSWORD: 123456    command:      --character-set-server=utf8mb4      --collation-server=utf8mb4_general_ci      --explicit_defaults_for_timestamp=true      --lower_case_table_names=1      --max_allowed_packet=128M      --sql-mode=\"STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION,NO_ZERO_DATE,NO_ZERO_IN_DATE,ERROR_FOR_DIVISION_BY_ZERO\"    volumes:      - mysql-data:/var/lib/mysqlvolumes:  mysql-data:Docker Compose è¿è¡Œ Tomcatdocker-compose.yml é…ç½®æ–‡ä»¶ï¼šversion: '3.1'services:  tomcat:    restart: always    image: tomcat    container_name: tomcat    ports:      - 8080:8080    volumes:      - /usr/local/docker/tomcat/webapps/test:/usr/local/tomcat/webapps/test    environment:      TZ: Asia/Shanghai"
},

{
"title": "dockerå®‰è£…ä¸ä½¿ç”¨",
"url": "/posts/docker%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/",
"categories": "åˆ†å¸ƒå¼ç³»ç»Ÿ, docker",
"tags": "åˆ†å¸ƒå¼ç³»ç»Ÿ, docker",
"date": "2020-04-14 10:39:06 +0800",







"snippet": "Dockerå®‰è£…# æ›´æ–°è½¯ä»¶æºsudo apt-get update# å®‰è£…æ‰€éœ€ä¾èµ–sudo apt-get -y install apt-transport-https ca-certificates curl software-properties-common# å®‰è£… GPG è¯ä¹¦curl -fsSL http://mirrors.aliyun.com/docker-ce/linux/...",
"content": "Dockerå®‰è£…# æ›´æ–°è½¯ä»¶æºsudo apt-get update# å®‰è£…æ‰€éœ€ä¾èµ–sudo apt-get -y install apt-transport-https ca-certificates curl software-properties-common# å®‰è£… GPG è¯ä¹¦curl -fsSL http://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg | sudo apt-key add -# æ–°å¢è½¯ä»¶æºä¿¡æ¯sudo add-apt-repository \"deb [arch=amd64] http://mirrors.aliyun.com/docker-ce/linux/ubuntu $(lsb_release -cs) stable\"# å†æ¬¡æ›´æ–°è½¯ä»¶æºsudo apt-get -y update# å®‰è£… Docker CE ç‰ˆsudo apt-get -y install docker-ceé…ç½®ç”¨æˆ·ç»„# å»ºç«‹ docker ç”¨æˆ·ç»„sudo groupadd docker# å°†å½“å‰ç”¨æˆ·åŠ å…¥ docker ç»„ï¼šsudo usermod -aG docker $USERé…ç½®Docker åŠ é€Ÿå™¨åœ¨ /etc/docker/daemon.json ä¸­å†™å…¥å¦‚ä¸‹å†…å®¹ï¼ˆå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨è¯·æ–°å»ºè¯¥æ–‡ä»¶ï¼‰#ä¸­å›½{  \"registry-mirrors\": [    \"https://registry.docker-cn.com\"  ]}#é˜¿é‡Œäº‘åŠ é€Ÿsudo mkdir -p /etc/dockersudo tee /etc/docker/daemon.json &lt;&lt;-'EOF'{  \"registry-mirrors\": [\"https://20v9zh9c.mirror.aliyuncs.com\"]}EOFsudo systemctl daemon-reloadsudo systemctl restart dockeréªŒè¯åŠ é€Ÿå™¨æ˜¯å¦é…ç½®æˆåŠŸï¼šsudo systemctl restart dockerdocker info...# å‡ºç°å¦‚ä¸‹è¯­å¥å³è¡¨ç¤ºé…ç½®æˆåŠŸRegistry Mirrors: https://registry.docker-cn.com/...DaoCloud åŠ é€Ÿå™¨  ç®€ä»‹ï¼šDaoCloud åŠ é€Ÿå™¨ æ˜¯å¹¿å—æ¬¢è¿çš„ Docker å·¥å…·ï¼Œè§£å†³äº†å›½å†…ç”¨æˆ·è®¿é—® Docker Hub ç¼“æ…¢çš„é—®é¢˜ã€‚DaoCloud åŠ é€Ÿå™¨ç»“åˆå›½å†…çš„ CDN æœåŠ¡ä¸åè®®å±‚ä¼˜åŒ–ï¼Œæˆå€çš„æå‡äº†ä¸‹è½½é€Ÿåº¦ã€‚(DaoCloud å®˜ç½‘)[https://www.daocloud.io/mirror#accelerator-doc]curl -sSL https://get.daocloud.io/daotools/set_mirror.sh | sh -s http://95822026.m.daocloud.ioDocker å¸¸ç”¨å‘½ä»¤æŸ¥çœ‹æ—¥å¿—docker logs -f --tail=100 CONTAINER_IDåˆ é™¤è™šæ‚¬é•œåƒdocker container pruneæŸ¥çœ‹ Docker ç‰ˆæœ¬docker versionä» Docker æ–‡ä»¶æ„å»º Docker æ˜ åƒdocker build -t image-name docker-file-locationè¿è¡Œ Docker æ˜ åƒdocker run -d image-nameæŸ¥çœ‹å¯ç”¨çš„ Docker æ˜ åƒdocker imagesæŸ¥çœ‹æœ€è¿‘çš„è¿è¡Œå®¹å™¨docker ps -læŸ¥çœ‹æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨docker ps -aåœæ­¢è¿è¡Œå®¹å™¨docker stop container_idåˆ é™¤ä¸€ä¸ªé•œåƒdocker rmi image-nameåˆ é™¤æ‰€æœ‰é•œåƒdocker rmi $(docker images -q)å¼ºåˆ¶åˆ é™¤æ‰€æœ‰é•œåƒdocker rmi -r $(docker images -q)åˆ é™¤æ‰€æœ‰ä¸º  çš„é•œåƒdocker rmi $(docker images -q -f dangling=true)åˆ é™¤æ‰€æœ‰å®¹å™¨docker rm $(docker ps -a -q)è¿›å…¥ Docker å®¹å™¨docker exec -it container-id /bin/bashæŸ¥çœ‹æ‰€æœ‰æ•°æ®å·docker volume lsåˆ é™¤æŒ‡å®šæ•°æ®å·docker volume rm [volume_name]åˆ é™¤æ‰€æœ‰æœªå…³è”çš„æ•°æ®å·docker volume rm $(docker volume ls -qf dangling=true)ä»ä¸»æœºå¤åˆ¶æ–‡ä»¶åˆ°å®¹å™¨sudo docker cp host_path containerID:container_pathä»å®¹å™¨å¤åˆ¶æ–‡ä»¶åˆ°ä¸»æœºsudo docker cp containerID:container_path host_path"
},

{
"title": "è™šæ‹ŸåŒ–å®¹å™¨docker",
"url": "/posts/%E8%99%9A%E6%8B%9F%E5%8C%96%E5%AE%B9%E5%99%A8docker/",
"categories": "åˆ†å¸ƒå¼ç³»ç»Ÿ, docker",
"tags": "åˆ†å¸ƒå¼ç³»ç»Ÿ, docker",
"date": "2020-04-14 10:39:06 +0800",







"snippet": "Docker æ¦‚è¿°      ä¸€ç§æœåŠ¡å™¨ï¼Œå®ƒæ˜¯ä¸€ç§ç§°ä¸ºå®ˆæŠ¤è¿›ç¨‹å¹¶ä¸”é•¿æ—¶é—´è¿è¡Œçš„ç¨‹åºã€‚    REST APIç”¨äºæŒ‡å®šç¨‹åºå¯ä»¥ç”¨æ¥ä¸å®ˆæŠ¤è¿›ç¨‹é€šä¿¡çš„æ¥å£ï¼Œå¹¶æŒ‡ç¤ºå®ƒåšä»€ä¹ˆã€‚    ä¸€ä¸ªæœ‰å‘½ä»¤è¡Œç•Œé¢ (CLI) å·¥å…·çš„å®¢æˆ·ç«¯ã€‚  ç³»ç»Ÿæ¶æ„  é•œåƒï¼ˆImageï¼‰  å®¹å™¨ï¼ˆContainerï¼‰  ä»“åº“ï¼ˆRepositoryï¼‰| Docker | é¢å‘å¯¹è±¡ ||â€”â€”â€“|â€”â€”|| å®¹å™¨     | å¯¹è±¡  ...",
"content": "Docker æ¦‚è¿°      ä¸€ç§æœåŠ¡å™¨ï¼Œå®ƒæ˜¯ä¸€ç§ç§°ä¸ºå®ˆæŠ¤è¿›ç¨‹å¹¶ä¸”é•¿æ—¶é—´è¿è¡Œçš„ç¨‹åºã€‚    REST APIç”¨äºæŒ‡å®šç¨‹åºå¯ä»¥ç”¨æ¥ä¸å®ˆæŠ¤è¿›ç¨‹é€šä¿¡çš„æ¥å£ï¼Œå¹¶æŒ‡ç¤ºå®ƒåšä»€ä¹ˆã€‚    ä¸€ä¸ªæœ‰å‘½ä»¤è¡Œç•Œé¢ (CLI) å·¥å…·çš„å®¢æˆ·ç«¯ã€‚  ç³»ç»Ÿæ¶æ„  é•œåƒï¼ˆImageï¼‰  å®¹å™¨ï¼ˆContainerï¼‰  ä»“åº“ï¼ˆRepositoryï¼‰| Docker | é¢å‘å¯¹è±¡ ||â€”â€”â€“|â€”â€”|| å®¹å™¨     | å¯¹è±¡   || é•œåƒ     | ç±»    |  å®¹å™¨ä¸é•œåƒçš„å…³ç³»ç±»ä¼¼äºé¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„å¯¹è±¡ä¸ç±»ã€‚            æ ‡é¢˜      è¯´æ˜                  é•œåƒ(Images)      Docker é•œåƒæ˜¯ç”¨äºåˆ›å»º Docker å®¹å™¨çš„æ¨¡æ¿ã€‚              å®¹å™¨(Container)      å®¹å™¨æ˜¯ç‹¬ç«‹è¿è¡Œçš„ä¸€ä¸ªæˆ–ä¸€ç»„åº”ç”¨ã€‚              å®¢æˆ·ç«¯(Client)      Docker å®¢æˆ·ç«¯é€šè¿‡å‘½ä»¤è¡Œæˆ–è€…å…¶ä»–å·¥å…·ä½¿ç”¨ Docker API ä¸ Docker çš„å®ˆæŠ¤è¿›ç¨‹é€šä¿¡ã€‚              ä¸»æœº(Host)      ä¸€ä¸ªç‰©ç†æˆ–è€…è™šæ‹Ÿçš„æœºå™¨ç”¨äºæ‰§è¡Œ Docker å®ˆæŠ¤è¿›ç¨‹å’Œå®¹å™¨ã€‚              ä»“åº“(Registry)      Docker ä»“åº“ç”¨æ¥ä¿å­˜é•œåƒï¼Œå¯ä»¥ç†è§£ä¸ºä»£ç æ§åˆ¶ä¸­çš„ä»£ç ä»“åº“ã€‚Docker Hub æä¾›äº†åºå¤§çš„é•œåƒé›†åˆä¾›ä½¿ç”¨ã€‚              Docker Machine      Docker Machineæ˜¯ä¸€ä¸ªç®€åŒ–Dockerå®‰è£…çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œé€šè¿‡ä¸€ä¸ªç®€å•çš„å‘½ä»¤è¡Œå³å¯åœ¨ç›¸åº”çš„å¹³å°ä¸Šå®‰è£…Dockerï¼Œæ¯”å¦‚VirtualBoxã€ Digital Oceanã€Microsoft Azureã€‚      Docker é•œåƒè·å–é•œåƒdocker pull ubuntu:16.04ä» Docker é•œåƒä»“åº“è·å–é•œåƒçš„å‘½ä»¤æ˜¯ docker pullã€‚å…¶å‘½ä»¤æ ¼å¼ä¸ºï¼šdocker pull [é€‰é¡¹] [Docker Registry åœ°å€[:ç«¯å£å·]/]ä»“åº“å[:æ ‡ç­¾]::: tip å¸®åŠ©æ–‡æ¡£  å…·ä½“çš„é€‰é¡¹å¯ä»¥é€šè¿‡ docker pull â€“help å‘½ä»¤æŸ¥è¯¢å¸®åŠ©ã€‚:::äº¤äº’å¼è¿è¡Œdocker run -it --rm \\    ubuntu:16.04 \\    bashåˆ—å‡ºé•œåƒdocker image lsdocker imagesé•œåƒä½“ç§¯  docker image ls åˆ—è¡¨ä¸­çš„é•œåƒä½“ç§¯æ€»å’Œå¹¶éæ˜¯æ‰€æœ‰é•œåƒå®é™…ç¡¬ç›˜æ¶ˆè€—ã€‚ç”±äº Docker é•œåƒæ˜¯å¤šå±‚å­˜å‚¨ç»“æ„ï¼Œå¹¶ä¸”å¯ä»¥ç»§æ‰¿ã€å¤ç”¨ï¼Œå› æ­¤ä¸åŒé•œåƒå¯èƒ½ä¼šå› ä¸ºä½¿ç”¨ç›¸åŒçš„åŸºç¡€é•œåƒï¼Œä»è€Œæ‹¥æœ‰å…±åŒçš„å±‚æŸ¥çœ‹é•œåƒã€å®¹å™¨ã€æ•°æ®å·æ‰€å ç”¨çš„ç©ºé—´ã€‚docker system dfè™šæ‚¬é•œåƒ  é•œåƒæ—¢æ²¡æœ‰ä»“åº“åï¼Œä¹Ÿæ²¡æœ‰æ ‡ç­¾ï¼Œå‡ä¸º noneã€‚æŸ¥è¯¢è™šæ‚¬é•œåƒ  docker image ls -f dangling=true    æ–°æ—§é•œåƒåŒåï¼Œæ—§é•œåƒåç§°è¢«å–æ¶ˆï¼Œä»è€Œå‡ºç°ä»“åº“åã€æ ‡ç­¾å‡ä¸º none çš„é•œåƒã€‚è¿™ç±»æ— æ ‡ç­¾é•œåƒä¹Ÿè¢«ç§°ä¸º è™šæ‚¬é•œåƒ(dangling image)ä¸­é—´å±‚é•œåƒæŸ¥è¯¢ä¸­é—´å±‚é•œåƒï¼šdocker image ls -a  ä¸ºäº†åŠ é€Ÿé•œåƒæ„å»ºã€é‡å¤åˆ©ç”¨èµ„æºï¼ŒDocker ä¼šåˆ©ç”¨ ä¸­é—´å±‚é•œåƒã€‚::: danger è­¦å‘Š  åªè¦åˆ é™¤é‚£äº›ä¾èµ–å®ƒä»¬çš„é•œåƒåï¼Œè¿™äº›ä¾èµ–çš„ä¸­é—´å±‚é•œåƒä¹Ÿä¼šè¢«è¿å¸¦åˆ é™¤:::åˆ—å‡ºéƒ¨åˆ†é•œåƒdocker image ls ubuntuåˆ é™¤æœ¬åœ°é•œåƒdocker image rm [é€‰é¡¹] &lt;é•œåƒ1&gt; [&lt;é•œåƒ2&gt; ...]commit é•œåƒæ„æˆæ–°é•œåƒå®šåˆ¶ä¸€ä¸ª nginx æœåŠ¡å™¨ä¸ºä¾‹å­docker run --name nginx -d -p 80:80 nginxç›´æ¥è®¿é—®ï¼šhttp://localhostä¿®æ”¹æ¬¢è¿å†…å®¹docker exec -it nginx bashè¿›å…¥å®¹å™¨åecho '&lt;h1&gt;Hello, Docker!&lt;/h1&gt;' &gt; /usr/share/nginx/html/index.htmlç„¶åexité€€å‡ºå®¹å™¨ï¼Œå†åˆ·æ–°æµè§ˆå™¨çš„è¯ï¼Œä¼šå‘ç°å†…å®¹è¢«æ”¹å˜äº†ã€‚docker diffå‘½ä»¤çœ‹åˆ°å…·ä½“çš„æ”¹åŠ¨ã€‚docker diff nginxå°†å®¹å™¨ä¿å­˜ä¸ºæ–°é•œåƒdocker commit \\    --author \"Yuewei tang &lt;472680811@qq.com&gt;\" \\    --message \"ä¿®æ”¹äº†é»˜è®¤ç½‘é¡µ\" \\    nginx \\    nginx:v2æˆ‘ä»¬å¯ä»¥åœ¨ docker image ls ä¸­çœ‹åˆ°è¿™ä¸ªæ–°å®šåˆ¶çš„é•œåƒdocker image ls nginxæ…ç”¨ docker commit  ä½¿ç”¨ docker commit å‘½ä»¤è™½ç„¶å¯ä»¥æ¯”è¾ƒç›´è§‚çš„å¸®åŠ©ç†è§£é•œåƒåˆ†å±‚å­˜å‚¨çš„æ¦‚å¿µï¼Œä½†æ˜¯å®é™…ç¯å¢ƒä¸­å¹¶ä¸ä¼šè¿™æ ·ä½¿ç”¨ã€‚æ¨èä½¿ç”¨Dockerfile å®šåˆ¶é•œåƒDockerfile å®šåˆ¶é•œåƒå®˜æ–¹æ–‡æ¡£å‚è€ƒ  Dockerfie å®˜æ–¹æ–‡æ¡£  Dockerfile æœ€ä½³å®è·µæ–‡æ¡£  Dockerfie å®˜æ–¹æ–‡æ¡£åœ¨ä¸€ä¸ªç©ºç™½ç›®å½•ä¸­ï¼Œå»ºç«‹ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œå¹¶å‘½åä¸º Dockerfileã€‚mkdir mynginxcd mynginxtouch Dockerfileè¾“å…¥ï¼šFROM nginxRUN echo '&lt;h1&gt;Hello, mynginx!&lt;/h1&gt;' &gt; /usr/share/nginx/html/index.html  FROM æŒ‡å®šåŸºç¡€é•œåƒ  RUN æ‰§è¡Œå‘½ä»¤æ„å»ºé•œåƒåœ¨ Dockerfile æ–‡ä»¶æ‰€åœ¨ç›®å½•æ‰§è¡Œï¼š    docker build -t nginx:v3 .        ::: tip æç¤º    docker build [é€‰é¡¹] &lt;ä¸Šä¸‹æ–‡è·¯å¾„/URL/-&gt;        :::é•œåƒæ„å»ºä¸Šä¸‹æ–‡ï¼ˆContextï¼‰å¦‚æœåœ¨ Dockerfile ä¸­è¿™ä¹ˆå†™ï¼š    COPY ./package.json /app/              è¿™å¹¶ä¸æ˜¯è¦å¤åˆ¶æ‰§è¡Œdocker buildå‘½ä»¤æ‰€åœ¨çš„ç›®å½•ä¸‹çš„package.jsonï¼Œä¹Ÿä¸æ˜¯å¤åˆ¶ Dockerfile æ‰€åœ¨ç›®å½•ä¸‹çš„package.jsonï¼Œè€Œæ˜¯å¤åˆ¶ ä¸Šä¸‹æ–‡ï¼ˆcontextï¼‰ç›®å½•ä¸‹çš„package.jsonã€‚ä¸€èˆ¬æ¥è¯´ï¼Œåº”è¯¥ä¼šå°† Dockerfile ç½®äºä¸€ä¸ªç©ºç›®å½•ä¸‹ï¼Œæˆ–è€…é¡¹ç›®æ ¹ç›®å½•ä¸‹ã€‚å¦‚æœè¯¥ç›®å½•ä¸‹æ²¡æœ‰æ‰€éœ€æ–‡ä»¶ï¼Œé‚£ä¹ˆåº”è¯¥æŠŠæ‰€éœ€æ–‡ä»¶å¤åˆ¶ä¸€ä»½è¿‡æ¥      å…¶å®ƒ docker build çš„ç”¨æ³•  æ¥ç”¨ Git repo è¿›è¡Œæ„å»º    docker build https://github.com/tangyuewei/gitlab-ce-zh.git#:0.1              è¿™è¡Œå‘½ä»¤æŒ‡å®šäº†æ„å»ºæ‰€éœ€çš„Git repoï¼Œå¹¶ä¸”æŒ‡å®šé»˜è®¤çš„ master åˆ†æ”¯ï¼Œæ„å»ºç›®å½•ä¸º /0.1/ï¼Œç„¶å Docker å°±ä¼šè‡ªå·±å» git clone è¿™ä¸ªé¡¹ç›®ã€åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯ã€å¹¶è¿›å…¥åˆ°æŒ‡å®šç›®å½•åå¼€å§‹æ„å»º        æŒ‡å®štarå‹ç¼©åŒ…æ„å»º    docker build http://server/context.tar.gz        Dockerfile æŒ‡ä»¤è¯¦è§£    COPY å¤åˆ¶æ–‡ä»¶          COPY ...       COPY hom* /mydir/COPY hom?.txt /mydir/              ADD æ›´é«˜çº§çš„å¤åˆ¶æ–‡ä»¶    ADD package.tar.gz /usr/src/app/              å¦‚æœ  ä¸ºä¸€ä¸ª tar å‹ç¼©æ–‡ä»¶çš„è¯ï¼Œå‹ç¼©æ ¼å¼ä¸º gzip, bzip2 ä»¥åŠ xz çš„æƒ…å†µä¸‹ï¼ŒADD æŒ‡ä»¤å°†ä¼šè‡ªåŠ¨è§£å‹ç¼©è¿™ä¸ªå‹ç¼©æ–‡ä»¶åˆ°  å»ã€‚æœ€é€‚åˆä½¿ç”¨ ADD çš„åœºåˆï¼Œå°±æ˜¯æ‰€æåŠçš„éœ€è¦è‡ªåŠ¨è§£å‹ç¼©çš„åœºåˆã€‚        CMD å®¹å™¨å¯åŠ¨å‘½ä»¤CMD [\"nginx\", \"-g\", \"daemon off;\"]CMD [ \"sh\", \"-c\", \"echo $HOME\" ]  CMD æŒ‡ä»¤çš„æ ¼å¼å’Œ RUN ç›¸ä¼¼  ENTRYPOINT å…¥å£ç‚¹          å½“æŒ‡å®šäº† ENTRYPOINT åï¼ŒCMD çš„å«ä¹‰å°±å‘ç”Ÿäº†æ”¹å˜ï¼Œä¸å†æ˜¯ç›´æ¥çš„è¿è¡Œå…¶å‘½ä»¤ï¼Œè€Œæ˜¯å°† CMD çš„å†…å®¹ä½œä¸ºå‚æ•°ä¼ ç»™ ENTRYPOINT æŒ‡ä»¤ï¼Œæ¢å¥è¯è¯´å®é™…æ‰§è¡Œæ—¶ï¼Œå°†å˜ä¸ºï¼š&lt;ENTRYPOINT&gt; \"&lt;CMD&gt;\"        ENV è®¾ç½®ç¯å¢ƒå˜é‡    ENV VERSION=1.0        VOLUME å®šä¹‰åŒ¿åå·    VOLUME /data        EXPOSE æš´éœ²ç«¯å£    EXPOSE &lt;ç«¯å£1&gt; [&lt;ç«¯å£2&gt;...]        WORKDIR æŒ‡å®šå·¥ä½œç›®å½•    WORKDIR &lt;å·¥ä½œç›®å½•è·¯å¾„&gt;ã€‚#å¦‚è¯¥ç›®å½•ä¸å­˜åœ¨ï¼ŒWORKDIR ä¼šå¸®ä½ å»ºç«‹ç›®å½•        USER æŒ‡å®šå½“å‰ç”¨æˆ·    USER redisRUN [ \"redis-server\" ]        Docker å®¹å™¨    å®¹å™¨æ“ä½œ    docker run nginx #å¯åŠ¨docker container start #å·²ç»ç»ˆæ­¢çš„å®¹å™¨å¯åŠ¨è¿è¡Œdocker container stop #ç»ˆæ­¢ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨docker run -d nginx #åå°å®ˆæŠ¤å¯åŠ¨docker attach 567c #è¿›å…¥è¿è¡Œä¸­çš„å®¹å™¨ 567cä¸ºå®¹å™¨iddocker exec -it 567c bash #è¿›å…¥è¿è¡Œä¸­çš„å®¹å™¨ 567cä¸ºå®¹å™¨iddocker container rm  nginx #è¦åˆ é™¤ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨ï¼Œå¯ä»¥æ·»åŠ  -f å‚æ•°docker container prune #æ¸…ç†æ‰æ‰€æœ‰å¤„äºç»ˆæ­¢çŠ¶æ€çš„å®¹å™¨docker image prune #æ¸…ç†è™šæ‚¬é•œåƒ      å¯¼å‡ºã€å¯¼å…¥å®¹å™¨ docker export 567c &gt; nginx.tar cat nginx.tar | docker import - test/nginx:v1.0 docker import https://example.com/exampleimage.tgz example/imagerepoDocker ä»“åº“Docker Hubæ³¨å†Œè´¦å·docker login #ç™»å½•docker logout #é€€å‡ºæ¨é€é•œåƒdocker tag ubuntu:16.04 username/ubuntu:16.04 #username ä¸ºä½ çš„ Docker è´¦å·ç”¨æˆ·åè‡ªåŠ¨åˆ›å»º  åˆ›å»ºå¹¶ç™»å½• Docker Hubï¼Œä»¥åŠç›®æ ‡ç½‘ç«™ï¼›  åœ¨ç›®æ ‡ç½‘ç«™ä¸­è¿æ¥å¸æˆ·åˆ° Docker Hubï¼›  åœ¨ Docker Hub ä¸­ é…ç½®ä¸€ä¸ªè‡ªåŠ¨åˆ›å»ºï¼›  é€‰å–ä¸€ä¸ªç›®æ ‡ç½‘ç«™ä¸­çš„é¡¹ç›®ï¼ˆéœ€è¦å« Dockerfileï¼‰å’Œåˆ†æ”¯ï¼›  æŒ‡å®š Dockerfile çš„ä½ç½®ï¼Œå¹¶æäº¤åˆ›å»ºã€‚Docker ç§æœ‰ä»“åº“å®‰è£…è¿è¡Œ docker-registrydocker run -d -p 5000:5000 --restart=always --name registry registrydocker run -d \\    -p 5000:5000 \\    -v /opt/data/registry:/var/lib/registry \\    registryä½¿ç”¨ docker tag å°†nginx:latest è¿™ä¸ªé•œåƒæ ‡è®°ä¸º 127.0.0.1:5000/nginx:latestdocker tag nginx:latest 127.0.0.1:5000/nginx:latestdocker push 127.0.0.1:5000/nginx:latest #docker push ä¸Šä¼ æ ‡è®°çš„é•œåƒcurl 127.0.0.1:5000/v2/_catalog #ç”¨ curl æŸ¥çœ‹ä»“åº“ä¸­çš„é•œåƒdocker image rm 127.0.0.1:5000/nginx:latest #å…ˆåˆ é™¤å·²æœ‰é•œåƒï¼Œå†å°è¯•ä»ç§æœ‰ä»“åº“ä¸­ä¸‹è½½è¿™ä¸ªé•œåƒdocker pull 127.0.0.1:5000/nginx:latest::: warning æ³¨æ„  Docker é»˜è®¤ä¸å…è®¸é HTTPS æ–¹å¼æ¨é€é•œåƒã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ Docker çš„é…ç½®é€‰é¡¹æ¥å–æ¶ˆè¿™ä¸ªé™åˆ¶ï¼Œæˆ–è€…æŸ¥çœ‹ä¸‹ä¸€èŠ‚é…ç½®èƒ½å¤Ÿé€šè¿‡ HTTPS è®¿é—®çš„ç§æœ‰ä»“åº“ã€‚:::"
},

{
"title": "æ¶ˆæ¯é˜Ÿåˆ—",
"url": "/posts/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/",
"categories": "åˆ†å¸ƒå¼ç³»ç»Ÿ",
"tags": "åˆ†å¸ƒå¼ç³»ç»Ÿ, æ¶ˆæ¯é˜Ÿåˆ—, RocketMQ, Kafka",
"date": "2020-04-11 10:39:06 +0800",







"snippet": "RabbitMQåŸºäºRabbitMQçš„Javaåº”ç”¨Kafka  github  å®˜æ–¹æ–‡æ¡£  ä¸­æ–‡æ–‡æ¡£  ä¸‹è½½åœ°å€RocketMQ  Apache Alibaba RocketMQ æ˜¯ä¸€ä¸ªæ¶ˆæ¯ä¸­é—´ä»¶ã€‚æ¶ˆæ¯ä¸­é—´ä»¶ä¸­æœ‰ä¸¤ä¸ªè§’è‰²ï¼šæ¶ˆæ¯ç”Ÿäº§è€…å’Œæ¶ˆæ¯æ¶ˆè´¹è€…ã€‚RocketMQ é‡ŒåŒæ ·æœ‰è¿™ä¸¤ä¸ªæ¦‚å¿µï¼Œæ¶ˆæ¯ç”Ÿäº§è€…è´Ÿè´£åˆ›å»ºæ¶ˆæ¯å¹¶å‘é€åˆ° RocketMQ æœåŠ¡å™¨ï¼ŒRocketMQ æœåŠ¡å™¨ä¼šå°†æ¶ˆæ¯æŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œæ¶ˆæ¯æ¶ˆ...",
"content": "RabbitMQåŸºäºRabbitMQçš„Javaåº”ç”¨Kafka  github  å®˜æ–¹æ–‡æ¡£  ä¸­æ–‡æ–‡æ¡£  ä¸‹è½½åœ°å€RocketMQ  Apache Alibaba RocketMQ æ˜¯ä¸€ä¸ªæ¶ˆæ¯ä¸­é—´ä»¶ã€‚æ¶ˆæ¯ä¸­é—´ä»¶ä¸­æœ‰ä¸¤ä¸ªè§’è‰²ï¼šæ¶ˆæ¯ç”Ÿäº§è€…å’Œæ¶ˆæ¯æ¶ˆè´¹è€…ã€‚RocketMQ é‡ŒåŒæ ·æœ‰è¿™ä¸¤ä¸ªæ¦‚å¿µï¼Œæ¶ˆæ¯ç”Ÿäº§è€…è´Ÿè´£åˆ›å»ºæ¶ˆæ¯å¹¶å‘é€åˆ° RocketMQ æœåŠ¡å™¨ï¼ŒRocketMQ æœåŠ¡å™¨ä¼šå°†æ¶ˆæ¯æŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œæ¶ˆæ¯æ¶ˆè´¹è€…ä» RocketMQ æœåŠ¡å™¨æ‹‰å–æ¶ˆæ¯å¹¶æäº¤ç»™åº”ç”¨æ¶ˆè´¹ã€‚  æ”¯æŒä¸¥æ ¼çš„æ¶ˆæ¯é¡ºåº  æ”¯æŒ Topic ä¸ Queue ä¸¤ç§æ¨¡å¼  äº¿çº§æ¶ˆæ¯å †ç§¯èƒ½åŠ›  æ¯”è¾ƒå‹å¥½çš„åˆ†å¸ƒå¼ç‰¹æ€§  åŒæ—¶æ”¯æŒ Push ä¸ Pull æ–¹å¼æ¶ˆè´¹æ¶ˆæ¯  å†ç»å¤šæ¬¡å¤©çŒ«åŒåä¸€æµ·é‡æ¶ˆæ¯è€ƒéªŒRocketMQ ä¼˜ç‚¹  æ”¯æŒäº‹åŠ¡å‹æ¶ˆæ¯ï¼ˆæ¶ˆæ¯å‘é€å’Œ DB æ“ä½œä¿æŒä¸¤æ–¹çš„æœ€ç»ˆä¸€è‡´æ€§ï¼ŒRabbitMQ å’Œ Kafka ä¸æ”¯æŒï¼‰  æ”¯æŒç»“åˆ RocketMQ çš„å¤šä¸ªç³»ç»Ÿä¹‹é—´æ•°æ®æœ€ç»ˆä¸€è‡´æ€§ï¼ˆå¤šæ–¹äº‹åŠ¡ï¼ŒäºŒæ–¹äº‹åŠ¡æ˜¯å‰æï¼‰  æ”¯æŒ 18 ä¸ªçº§åˆ«çš„å»¶è¿Ÿæ¶ˆæ¯ï¼ˆRabbitMQ å’Œ Kafka ä¸æ”¯æŒï¼‰  æ”¯æŒæŒ‡å®šæ¬¡æ•°å’Œæ—¶é—´é—´éš”çš„å¤±è´¥æ¶ˆæ¯é‡å‘ï¼ˆKafka ä¸æ”¯æŒï¼ŒRabbitMQ éœ€è¦æ‰‹åŠ¨ç¡®è®¤ï¼‰  æ”¯æŒ Consumer ç«¯ Tag è¿‡æ»¤ï¼Œå‡å°‘ä¸å¿…è¦çš„ç½‘ç»œä¼ è¾“ï¼ˆRabbitMQ å’Œ Kafka ä¸æ”¯æŒï¼‰  æ”¯æŒé‡å¤æ¶ˆè´¹ï¼ˆRabbitMQ ä¸æ”¯æŒï¼ŒKafka æ”¯æŒï¼‰æ„å»º RocketMQéƒ¨ç½²æŒ‡å—  ä¸‹è½½æ‰“åŒ…git clone https://github.com/apache/rocketmq.gitcd rocketmqgit checkout -b store_with_dledger origin/store_with_dledgermvn -Prelease-all -DskipTests clean install -U  å¿«é€Ÿéƒ¨ç½²    cd distribution/target/apache-rocketmqsh bin/dledger/fast-try.sh start        åŸºäºRocketMQçš„Javaåº”ç”¨  "
},

{
"title": "æœåŠ¡ç†”æ–­",
"url": "/posts/%E6%9C%8D%E5%8A%A1%E7%86%94%E6%96%AD/",
"categories": "åˆ†å¸ƒå¼ç³»ç»Ÿ",
"tags": "åˆ†å¸ƒå¼ç³»ç»Ÿ, æœåŠ¡ç†”æ–­, Sentinel, Hystrix",
"date": "2020-04-03 10:39:06 +0800",







"snippet": "æœåŠ¡ç†”æ–­æ¦‚è¿°  æœåŠ¡ç†”æ–­ä¹Ÿè¢«ç§°ä¸ºæœåŠ¡è¿‡è½½ä¿æŠ¤ã€‚å¯¹äºç›®æ ‡æœåŠ¡çš„è¯·æ±‚å’Œè°ƒç”¨å¤§é‡è¶…æ—¶æˆ–å¤±è´¥ï¼Œè¿™æ—¶åº”è¯¥ç†”æ–­è¯¥æœåŠ¡çš„æ‰€æœ‰è°ƒç”¨ï¼Œå¹¶ä¸”å¯¹äºåç»­è°ƒç”¨åº”ç›´æ¥è¿”å›ï¼Œä»è€Œå¿«é€Ÿé‡Šæ”¾èµ„æºï¼Œç¡®ä¿åœ¨ç›®æ ‡æœåŠ¡ä¸å¯ç”¨çš„è¿™æ®µæ—¶é—´å†…ï¼Œæ‰€æœ‰å¯¹å®ƒçš„è°ƒç”¨éƒ½æ˜¯ç«‹å³è¿”å›ï¼Œä¸ä¼šé˜»å¡ã€‚Hystrix  Hystrixæ˜¯æ¯”è¾ƒç¨³å®šçš„ï¼Œä½†æ˜¯Hystrixåœæ­¢å¼€å‘æ–°çš„ç‰ˆæœ¬å¼•å…¥ä¾èµ–&lt;dependency&gt;    &lt;groupId&gt...",
"content": "æœåŠ¡ç†”æ–­æ¦‚è¿°  æœåŠ¡ç†”æ–­ä¹Ÿè¢«ç§°ä¸ºæœåŠ¡è¿‡è½½ä¿æŠ¤ã€‚å¯¹äºç›®æ ‡æœåŠ¡çš„è¯·æ±‚å’Œè°ƒç”¨å¤§é‡è¶…æ—¶æˆ–å¤±è´¥ï¼Œè¿™æ—¶åº”è¯¥ç†”æ–­è¯¥æœåŠ¡çš„æ‰€æœ‰è°ƒç”¨ï¼Œå¹¶ä¸”å¯¹äºåç»­è°ƒç”¨åº”ç›´æ¥è¿”å›ï¼Œä»è€Œå¿«é€Ÿé‡Šæ”¾èµ„æºï¼Œç¡®ä¿åœ¨ç›®æ ‡æœåŠ¡ä¸å¯ç”¨çš„è¿™æ®µæ—¶é—´å†…ï¼Œæ‰€æœ‰å¯¹å®ƒçš„è°ƒç”¨éƒ½æ˜¯ç«‹å³è¿”å›ï¼Œä¸ä¼šé˜»å¡ã€‚Hystrix  Hystrixæ˜¯æ¯”è¾ƒç¨³å®šçš„ï¼Œä½†æ˜¯Hystrixåœæ­¢å¼€å‘æ–°çš„ç‰ˆæœ¬å¼•å…¥ä¾èµ–&lt;dependency&gt;    &lt;groupId&gt;com.netflix.hystrix&lt;/groupId&gt;    &lt;artifactId&gt;hystrix-core&lt;/artifactId&gt;    &lt;version&gt;x.y.z&lt;/version&gt;&lt;/dependency&gt;Alibaba Sentinelï¼ˆæ¨èï¼‰ä¸‹è½½å¹¶æ‰“åŒ…# ä¸‹è½½æºç git clone https://github.com/alibaba/Sentinel.git# ç¼–è¯‘æ‰“åŒ…mvn clean packageå¯åŠ¨æ§åˆ¶å°Sentinel æ§åˆ¶å°æ˜¯ä¸€ä¸ªæ ‡å‡†çš„ SpringBoot åº”ç”¨ï¼Œä»¥ SpringBoot çš„æ–¹å¼è¿è¡Œ jar åŒ…å³å¯ã€‚cd sentinel-dashboard\\targetjava -Dserver.port=8080 -Dcsp.sentinel.dashboard.server=localhost:8080 -Dproject.name=sentinel-dashboard -jar sentinel-dashboard.jar  å¦‚è‹¥ 8080 ç«¯å£å†²çªï¼Œå¯ä½¿ç”¨ -Dserver.port=æ–°ç«¯å£ è¿›è¡Œè®¾ç½®ã€‚è®¿é—®æœåŠ¡  æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:8080/#/dashboard/homeé…ç½®æ§åˆ¶å°ä¿¡æ¯application.yml é…ç½®æ–‡ä»¶ä¸­å¢åŠ å¦‚ä¸‹é…ç½®ï¼šspring:  cloud:    sentinel:      transport:        port: 8719        dashboard: localhost:8080  è¿™é‡Œçš„ spring.cloud.sentinel.transport.port ç«¯å£é…ç½®ä¼šåœ¨åº”ç”¨å¯¹åº”çš„æœºå™¨ä¸Šå¯åŠ¨ä¸€ä¸ª Http Serverï¼Œè¯¥ Server ä¼šä¸ Sentinel æ§åˆ¶å°åšäº¤äº’ã€‚æ¯”å¦‚ Sentinel æ§åˆ¶å°æ·»åŠ äº† 1 ä¸ªé™æµè§„åˆ™ï¼Œä¼šæŠŠè§„åˆ™æ•°æ® push ç»™è¿™ä¸ª Http Server æ¥æ”¶ï¼ŒHttp Server å†å°†è§„åˆ™æ³¨å†Œåˆ° Sentinel ä¸­ã€‚æµ‹è¯• Sentinelä½¿ç”¨ä¹‹å‰çš„ Feign å®¢æˆ·ç«¯ï¼Œapplication.yml å®Œæ•´é…ç½®å¦‚ä¸‹ï¼šspring:  application:    name: nacos-consumer-feign  cloud:    nacos:      discovery:        server-addr: localhost:8848    sentinel:      transport:        port: 8720        dashboard: localhost:8080server:  port: 9092feign:  sentinel:    enabled: truemanagement:  endpoints:    web:      exposure:        include: \"*\"::: tipæ³¨ï¼šç”±äº 8719 ç«¯å£å·²è¢« sentinel-dashboard å ç”¨ï¼Œæ•…è¿™é‡Œä¿®æ”¹ç«¯å£å·ä¸º 8720ï¼›ä¸ä¿®æ”¹ä¹Ÿèƒ½æ³¨å†Œï¼Œä¼šè‡ªåŠ¨å¸®ä½ åœ¨ç«¯å£å·ä¸Š + 1ï¼›:::æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:8080/#/dashboard/homeæ­¤æ—¶ä¼šå¤šä¸€ä¸ªåä¸º nacos-consumer-feign çš„æœåŠ¡"
},

{
"title": "æœåŠ¡æ³¨å†ŒåŸºäºdubbo",
"url": "/posts/%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%E5%9F%BA%E4%BA%8Edubbo/",
"categories": "åˆ†å¸ƒå¼ç³»ç»Ÿ",
"tags": "æœåŠ¡æ³¨å†Œ, dubbo",
"date": "2020-03-25 17:23:00 +0800",







"snippet": "åŸºäº Dubbo çš„æœåŠ¡æ³¨å†Œä¸å‘ç°åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼ŒæœåŠ¡æ³¨å†Œä¸å‘ç°æ˜¯ä¸€ä¸ªé‡è¦çš„ç»„ä»¶ï¼Œç”¨äºç®¡ç†æœåŠ¡å®ä¾‹çš„åŠ¨æ€æ³¨å†Œå’ŒæŸ¥æ‰¾ã€‚Dubbo æ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„ä¸€ä¸ªé«˜æ€§èƒ½ RPC æ¡†æ¶ï¼Œå¹¿æ³›åº”ç”¨äºåˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œæä¾›äº†å®Œå¤‡çš„æœåŠ¡æ³¨å†Œä¸å‘ç°åŠŸèƒ½ã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨ Dubbo å®ç°æœåŠ¡æ³¨å†Œä¸å‘ç°ï¼ŒåŒ…æ‹¬ç¯å¢ƒæ­å»ºã€é…ç½®ä»¥åŠåŸºæœ¬çš„ä»£ç ç¤ºä¾‹ã€‚ç¯å¢ƒå‡†å¤‡  Java ç¯å¢ƒï¼šç¡®ä¿å·²å®‰è£… JDK 8 æˆ–ä»¥ä¸Šç‰ˆæœ¬ã€‚  Maven...",
"content": "åŸºäº Dubbo çš„æœåŠ¡æ³¨å†Œä¸å‘ç°åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼ŒæœåŠ¡æ³¨å†Œä¸å‘ç°æ˜¯ä¸€ä¸ªé‡è¦çš„ç»„ä»¶ï¼Œç”¨äºç®¡ç†æœåŠ¡å®ä¾‹çš„åŠ¨æ€æ³¨å†Œå’ŒæŸ¥æ‰¾ã€‚Dubbo æ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„ä¸€ä¸ªé«˜æ€§èƒ½ RPC æ¡†æ¶ï¼Œå¹¿æ³›åº”ç”¨äºåˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œæä¾›äº†å®Œå¤‡çš„æœåŠ¡æ³¨å†Œä¸å‘ç°åŠŸèƒ½ã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨ Dubbo å®ç°æœåŠ¡æ³¨å†Œä¸å‘ç°ï¼ŒåŒ…æ‹¬ç¯å¢ƒæ­å»ºã€é…ç½®ä»¥åŠåŸºæœ¬çš„ä»£ç ç¤ºä¾‹ã€‚ç¯å¢ƒå‡†å¤‡  Java ç¯å¢ƒï¼šç¡®ä¿å·²å®‰è£… JDK 8 æˆ–ä»¥ä¸Šç‰ˆæœ¬ã€‚  Mavenï¼šç”¨äºç®¡ç†é¡¹ç›®ä¾èµ–ã€‚  Zookeeperï¼šä½œä¸ºæœåŠ¡æ³¨å†Œä¸­å¿ƒã€‚å¯ä»¥ä» Zookeeper å®˜æ–¹ç½‘ç«™ ä¸‹è½½å¹¶å®‰è£…ã€‚é¡¹ç›®ç»“æ„åˆ›å»ºä¸€ä¸ªåŸºäº Maven çš„å¤šæ¨¡å—é¡¹ç›®ï¼ŒåŒ…å«ä¸‰ä¸ªæ¨¡å—ï¼š  dubbo-apiï¼šå®šä¹‰æœåŠ¡æ¥å£ã€‚  dubbo-providerï¼šæœåŠ¡æä¾›è€…ã€‚  dubbo-consumerï¼šæœåŠ¡æ¶ˆè´¹è€…ã€‚dubbo-demoâ”œâ”€â”€ dubbo-apiâ”œâ”€â”€ dubbo-providerâ””â”€â”€ dubbo-consumer1. å®šä¹‰æœåŠ¡æ¥å£ï¼ˆdubbo-apiï¼‰åœ¨ dubbo-api æ¨¡å—ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªç®€å•çš„æœåŠ¡æ¥å£ï¼špackage com.example.dubbo.api;public interface GreetingService {    String sayHello(String name);}2. å®ç°æœåŠ¡æä¾›è€…ï¼ˆdubbo-providerï¼‰åœ¨ dubbo-provider æ¨¡å—ä¸­ï¼Œå®ç° GreetingService æ¥å£ï¼Œå¹¶é…ç½® Dubbo æœåŠ¡ã€‚ä¾èµ–é…ç½®åœ¨ pom.xml ä¸­æ·»åŠ å¿…è¦çš„ä¾èµ–ï¼š&lt;dependencies&gt;    &lt;dependency&gt;        &lt;groupId&gt;org.apache.dubbo&lt;/groupId&gt;        &lt;artifactId&gt;dubbo-spring-boot-starter&lt;/artifactId&gt;        &lt;version&gt;2.7.8&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;        &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt;        &lt;artifactId&gt;zookeeper&lt;/artifactId&gt;        &lt;version&gt;3.4.14&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;        &lt;groupId&gt;com.example&lt;/groupId&gt;        &lt;artifactId&gt;dubbo-api&lt;/artifactId&gt;        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;    &lt;/dependency&gt;&lt;/dependencies&gt;æœåŠ¡å®ç°åˆ›å»ºæœåŠ¡å®ç°ç±»ï¼špackage com.example.dubbo.provider;import com.example.dubbo.api.GreetingService;import org.apache.dubbo.config.annotation.DubboService;@DubboServicepublic class GreetingServiceImpl implements GreetingService {    @Override    public String sayHello(String name) {        return \"Hello, \" + name;    }}é…ç½®æ–‡ä»¶åœ¨ application.yml ä¸­é…ç½® Dubbo å’Œ Zookeeperï¼šdubbo:  application:    name: dubbo-provider  registry:    address: zookeeper://127.0.0.1:2181  protocol:    name: dubbo    port: 20880å¯åŠ¨ç±»åˆ›å»º Spring Boot å¯åŠ¨ç±»ï¼špackage com.example.dubbo.provider;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;@SpringBootApplicationpublic class DubboProviderApplication {    public static void main(String[] args) {        SpringApplication.run(DubboProviderApplication.class, args);    }}3. å®ç°æœåŠ¡æ¶ˆè´¹è€…ï¼ˆdubbo-consumerï¼‰åœ¨ dubbo-consumer æ¨¡å—ä¸­è°ƒç”¨è¿œç¨‹æœåŠ¡ã€‚ä¾èµ–é…ç½®åœ¨ pom.xml ä¸­æ·»åŠ å¿…è¦çš„ä¾èµ–ï¼š&lt;dependencies&gt;    &lt;dependency&gt;        &lt;groupId&gt;org.apache.dubbo&lt;/groupId&gt;        &lt;artifactId&gt;dubbo-spring-boot-starter&lt;/artifactId&gt;        &lt;version&gt;2.7.8&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;        &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt;        &lt;artifactId&gt;zookeeper&lt;/artifactId&gt;        &lt;version&gt;3.4.14&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;        &lt;groupId&gt;com.example&lt;/groupId&gt;        &lt;artifactId&gt;dubbo-api&lt;/artifactId&gt;        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;    &lt;/dependency&gt;&lt;/dependencies&gt;è°ƒç”¨æœåŠ¡åˆ›å»ºä¸€ä¸ªæ§åˆ¶å™¨æ¥è°ƒç”¨è¿œç¨‹æœåŠ¡ï¼špackage com.example.dubbo.consumer;import com.example.dubbo.api.GreetingService;import org.apache.dubbo.config.annotation.DubboReference;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.RequestParam;import org.springframework.web.bind.annotation.RestController;@RestControllerpublic class GreetingController {    @DubboReference    private GreetingService greetingService;    @GetMapping(\"/hello\")    public String sayHello(@RequestParam String name) {        return greetingService.sayHello(name);    }}é…ç½®æ–‡ä»¶åœ¨ application.yml ä¸­é…ç½® Dubbo å’Œ Zookeeperï¼šdubbo:  application:    name: dubbo-consumer  registry:    address: zookeeper://127.0.0.1:2181å¯åŠ¨ç±»åˆ›å»º Spring Boot å¯åŠ¨ç±»ï¼špackage com.example.dubbo.consumer;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;@SpringBootApplicationpublic class DubboConsumerApplication {    public static void main(String[] args) {        SpringApplication.run(DubboConsumerApplication.class, args);    }}4. å¯åŠ¨å’Œæµ‹è¯•ç¡®ä¿ Zookeeper æ­£å¸¸è¿è¡Œï¼Œç„¶ååˆ†åˆ«å¯åŠ¨ dubbo-provider å’Œ dubbo-consumer åº”ç”¨ã€‚åœ¨æµè§ˆå™¨ä¸­è®¿é—® http://localhost:8080/hello?name=worldï¼Œåº”è¯¥èƒ½çœ‹åˆ°è¿”å›çš„ Hello, world å­—ç¬¦ä¸²ã€‚æ€»ç»“é€šè¿‡ä¸Šè¿°æ­¥éª¤ï¼Œæˆ‘ä»¬å®ç°äº†ä¸€ä¸ªç®€å•çš„åŸºäº Dubbo çš„æœåŠ¡æ³¨å†Œä¸å‘ç°ç¤ºä¾‹ã€‚Dubbo æä¾›äº†å¼ºå¤§çš„æœåŠ¡æ²»ç†åŠŸèƒ½ï¼ŒåŒ…æ‹¬è´Ÿè½½å‡è¡¡ã€ç†”æ–­ã€é™æµç­‰ï¼Œå¯ä»¥æ ¹æ®å®é™…éœ€æ±‚è¿›è¡Œæ‰©å±•å’Œé…ç½®ã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯¹ä½ ç†è§£ Dubbo çš„æœåŠ¡æ³¨å†Œä¸å‘ç°æœ‰æ‰€å¸®åŠ©ã€‚"
},

{
"title": "åˆ†å¸ƒå¼ç³»ç»Ÿåè°ƒzookeeper",
"url": "/posts/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E5%8D%8F%E8%B0%83zookeeper/",
"categories": "åˆ†å¸ƒå¼ç³»ç»Ÿ",
"tags": "åˆ†å¸ƒå¼ç³»ç»Ÿ, æœåŠ¡æ³¨å†Œ, zookeeper",
"date": "2020-03-24 10:39:06 +0800",







"snippet": "zookeeperZookeeper ç®€ä»‹  Zookeeper æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„ï¼Œå¼€æ”¾æºç çš„åˆ†å¸ƒå¼åº”ç”¨ç¨‹åºåè°ƒæœåŠ¡ï¼Œæ˜¯ Google çš„ Chubby ä¸€ä¸ªå¼€æºçš„å®ç°ï¼Œå®ƒæ˜¯é›†ç¾¤çš„ç®¡ç†è€…ï¼Œç›‘è§†ç€é›†ç¾¤ä¸­å„ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€æ ¹æ®èŠ‚ç‚¹æäº¤çš„åé¦ˆè¿›è¡Œä¸‹ä¸€æ­¥åˆç†æ“ä½œã€‚æœ€ç»ˆï¼Œå°†ç®€å•æ˜“ç”¨çš„æ¥å£å’Œæ€§èƒ½é«˜æ•ˆã€åŠŸèƒ½ç¨³å®šçš„ç³»ç»Ÿæä¾›ç»™ç”¨æˆ·Zookeeper è®¾è®¡ç›®æ ‡      ç®€å•çš„æ•°æ®ç»“æ„ï¼ŒZookeeper å°±æ˜¯ä»¥ç®€å•...",
"content": "zookeeperZookeeper ç®€ä»‹  Zookeeper æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„ï¼Œå¼€æ”¾æºç çš„åˆ†å¸ƒå¼åº”ç”¨ç¨‹åºåè°ƒæœåŠ¡ï¼Œæ˜¯ Google çš„ Chubby ä¸€ä¸ªå¼€æºçš„å®ç°ï¼Œå®ƒæ˜¯é›†ç¾¤çš„ç®¡ç†è€…ï¼Œç›‘è§†ç€é›†ç¾¤ä¸­å„ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€æ ¹æ®èŠ‚ç‚¹æäº¤çš„åé¦ˆè¿›è¡Œä¸‹ä¸€æ­¥åˆç†æ“ä½œã€‚æœ€ç»ˆï¼Œå°†ç®€å•æ˜“ç”¨çš„æ¥å£å’Œæ€§èƒ½é«˜æ•ˆã€åŠŸèƒ½ç¨³å®šçš„ç³»ç»Ÿæä¾›ç»™ç”¨æˆ·Zookeeper è®¾è®¡ç›®æ ‡      ç®€å•çš„æ•°æ®ç»“æ„ï¼ŒZookeeper å°±æ˜¯ä»¥ç®€å•çš„æ ‘å½¢ç»“æ„æ¥è¿›è¡Œåè°ƒçš„ï¼ˆä¹Ÿå«åšæ ‘å½¢åå­—ç©ºé—´ï¼‰ã€‚        å¯ä»¥æ„å»ºé›†ç¾¤ï¼Œä¸€èˆ¬ Zookeeper é›†ç¾¤é€šå¸¸ç”¶ä¸€ç»„æœºå™¨æ„æˆï¼Œä¸€èˆ¬3~5å°æœºå™¨å°±å¯ä»¥ç»„æˆä¸€ä¸ª Zookeeper é›†ç¾¤äº†ï¼Œåªè¦é›†ç¾¤ä¸­è¶…è¿‡ä¸€åŠä»¥ä¸Šçš„æœºå™¨èƒ½å¤Ÿæ­£å¸¸å·¥ä½œï¼Œé‚£ä¹ˆæ•´ä¸ªé›†ç¾¤å°±èƒ½æ­£å¸¸å¯¹å¤–æœåŠ¡ã€‚        é¡ºåºè®¿é—®ã€‚å¯¹äºæ¥è‡ªæ¯ä¸€ä¸ªå®¢æˆ·ç«¯çš„æ¯ä¸€ä¸ªè¯·æ±‚ï¼ŒZookeeper éƒ½ä¼šåˆ†é…ä¸€ä¸ªå…¨å±€å”¯ä¸€çš„é€’å¢ç¼–å·ï¼Œè¿™ä¸ªç¼–å·åæ˜ äº†æ‰€æœ‰äº‹ç‰©æ“ä½œçš„å…ˆåé¡ºåºï¼Œåº”ç”¨ç¨‹åºå¯ä»¥ä½¿ç”¨ Zookeeper çš„è¿™ä¸ªç‰¹æ€§æ¥å®ç°æ›´é«˜å±‚æ¬¡çš„åŒæ­¥ã€‚        é«˜æ€§èƒ½ï¼Œç”¶äº Zookeeper å°†å…¨é‡æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œå¹¶ç›´æ¥æœåŠ¡äºæ‰€æœ‰çš„éäº‹åŠ¡è¯·æ±‚ï¼Œå› æ­¤å°¤å…¶ æ˜¯åœ¨è¯»æ“ä½œä¸ºä¸»çš„åœºæ™¯ä¸‹ï¼Œæ€§èƒ½éå¸¸çªå‡ºã€‚åœ¨ JMeter å‹åŠ›æµ‹è¯•ä¸‹ï¼ˆ100%è¯»è¯·æ±‚ï¼‰ï¼Œå…¶ç»“æœå¤§çº¦åœ¨ 12-13W çš„ QPSã€‚  QPSï¼š æ¯ç§’æŸ¥è¯¢ç‡ QPS æ˜¯å¯¹ä¸€ä¸ªç‰¹å®šçš„æŸ¥è¯¢æœåŠ¡å™¨åœ¨è§„å®šæ—¶é—´å†…æ‰€å¤„ç†æµé‡å¤šå°‘çš„è¡¡é‡æ ‡å‡†åˆ†å¸ƒå¼åè°ƒæŠ€æœ¯  ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼åè°ƒæŠ€æœ¯ï¼Ÿåˆ†å¸ƒå¼åè°ƒæŠ€æœ¯ä¸»è¦ç”¨æ¥è§£å†³åˆ†å¸ƒå¼ç¯å¢ƒå½“ä¸­å¤šä¸ªè¿›ç¨‹ä¹‹é—´çš„åŒæ­¥æ§åˆ¶ï¼Œè®©ä»–ä»¬æœ‰åºçš„å»è®¿é—®æŸç§ä¸´ç•Œèµ„æºï¼Œé˜²æ­¢é€ æˆâ€è„æ•°æ®â€çš„åæœã€‚åˆ†å¸ƒå¼é”åº”ç”¨åœºæ™¯  åœ¨åˆ†å¸ƒå¼é”æœåŠ¡ä¸­ï¼Œæœ‰ä¸€ç§æœ€å…¸å‹åº”ç”¨åœºæ™¯ï¼Œå°±æ˜¯é€šè¿‡å¯¹é›†ç¾¤è¿›è¡Œ Master é€‰ä¸¾ï¼Œæ¥è§£å†³åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„å•ç‚¹æ•…éšœã€‚ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„å•ç‚¹æ•…éšœï¼šé€šå¸¸åˆ†å¸ƒå¼ç³»ç»Ÿé‡‡ç”¨ä¸»ä»æ¨¡å¼ï¼Œå°±æ˜¯ä¸€ä¸ªä¸»æ§æœºè¿æ¥å¤šä¸ªå¤„ç†èŠ‚ç‚¹ã€‚ä¸»èŠ‚ç‚¹è´Ÿè´£åˆ†å‘ä»»åŠ¡ï¼Œä»èŠ‚ç‚¹è´Ÿè´£å¤„ç†ä»»åŠ¡ï¼Œå½“æˆ‘ä»¬çš„ä¸»èŠ‚ç‚¹å‘ç”Ÿæ•…éšœæ—¶ï¼Œé‚£ä¹ˆæ•´ä¸ªç³»ç»Ÿå°±éƒ½ç˜«ç—ªäº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬æŠŠè¿™ç§æ•…éšœå«ä½œå•ç‚¹æ•…éšœã€‚  ä¼ ç»Ÿè§£å†³æ–¹æ¡ˆä¼ ç»Ÿæ–¹å¼æ˜¯é‡‡ç”¨ä¸€ä¸ªå¤‡ç”¨èŠ‚ç‚¹ï¼Œè¿™ä¸ªå¤‡ç”¨èŠ‚ç‚¹å®šæœŸç»™å½“å‰ä¸»èŠ‚ç‚¹å‘é€ ping åŒ…ï¼Œä¸»èŠ‚ç‚¹æ”¶åˆ° ping åŒ…ä»¥åå‘å¤‡ç”¨èŠ‚ç‚¹å‘é€å›å¤Ackï¼Œå½“å¤‡ç”¨èŠ‚ç‚¹æ”¶åˆ°å›å¤çš„æ—¶å€™å°±ä¼šè®¤ä¸ºå½“å‰ä¸»èŠ‚ç‚¹è¿˜æ´»ç€ï¼Œè®©ä»–ç»§ç»­æä¾›æœåŠ¡ã€‚å½“ä¸»èŠ‚ç‚¹æŒ‚äº†ï¼Œè¿™æ—¶å¤‡ç”¨èŠ‚ç‚¹æ”¶ä¸åˆ°å›å¤äº†ï¼Œå¤‡ç”¨èŠ‚ç‚¹å°±æ¥æ›¿ä»–æˆä¸ºä¸»èŠ‚ç‚¹::: tip æç¤ºæ–¹å¼å°±æ˜¯æœ‰ä¸€ä¸ªéšæ‚£ï¼Œå°±æ˜¯ç½‘ç»œé—®é¢˜ã€‚ä¸»èŠ‚ç‚¹å¹¶æ²¡æœ‰æŒ‚ï¼Œåªæ˜¯åœ¨å›å¤çš„æ—¶å€™ç½‘ç»œå‘ç”Ÿæ•…éšœï¼Œè¿™æ ·æˆ‘ä»¬çš„å¤‡ç”¨èŠ‚ç‚¹åŒæ ·æ”¶ä¸åˆ°å›å¤ï¼Œå°±ä¼šè®¤ä¸ºä¸»èŠ‚ç‚¹æŒ‚äº†ï¼Œç„¶åå¤‡ç”¨èŠ‚ç‚¹å°†ä»–çš„Masterå®ä¾‹å¯åŠ¨èµ·æ¥ï¼Œè¿™æ ·æˆ‘ä»¬çš„åˆ†å¸ƒå¼ç³»ç»Ÿå½“ä¸­å°±æœ‰äº†ä¸¤ä¸ªä¸»èŠ‚ç‚¹ä¹Ÿå°±æ˜¯â€”åŒMasterï¼Œ å‡ºç°Masterä»¥åæˆ‘ä»¬çš„ä»èŠ‚ç‚¹å°±ä¼šå°†å®ƒæ‰€åšçš„äº‹ä¸€éƒ¨åˆ†æ±‡æŠ¥ç»™äº†ä¸»èŠ‚ç‚¹ï¼Œä¸€éƒ¨åˆ†æ±‡æŠ¥ç»™äº†ä»èŠ‚ç‚¹ï¼Œè¿™æ ·æœåŠ¡å°±å…¨ä¹±äº†ã€‚ä¸ºäº†é˜²æ­¢å‡ºç°è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å¼•å…¥äº† Zookeeperï¼Œå®ƒè™½ç„¶ä¸èƒ½é¿å…ç½‘ç»œæ•…éšœï¼Œä½†å®ƒèƒ½å¤Ÿä¿è¯æ¯æ—¶æ¯åˆ»åªæœ‰ä¸€ä¸ª Masterã€‚:::  Zookeeper è§£å†³æ–¹æ¡ˆåœ¨å¼•å…¥äº† Zookeeper ä»¥åæˆ‘ä»¬å¯åŠ¨äº†ä¸¤ä¸ªä¸»èŠ‚ç‚¹ï¼Œâ€ä¸»èŠ‚ç‚¹-Aâ€å’Œâ€ä¸»èŠ‚ç‚¹-Bâ€ä»–ä»¬å¯åŠ¨ä»¥åï¼Œéƒ½å‘ Zookeeper å»æ³¨å†Œä¸€ä¸ªèŠ‚ç‚¹ã€‚æˆ‘ä»¬ å‡è®¾â€ä¸»èŠ‚ç‚¹-Aâ€é”æ³¨å†Œçš„èŠ‚ç‚¹æ˜¯â€master-00001â€ï¼Œâ€ä¸»èŠ‚ç‚¹-Bâ€æ³¨å†Œçš„èŠ‚ç‚¹æ˜¯â€master-00002â€ï¼Œæ³¨å†Œå®Œä»¥åè¿›è¡Œé€‰ä¸¾ï¼Œç¼–å·æœ€å°çš„èŠ‚ç‚¹å°†åœ¨é€‰ä¸¾ä¸­è·èƒœè·å¾—é”æˆä¸ºä¸»èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„â€ä¸»èŠ‚ç‚¹-Aâ€å°†ä¼šè·å¾—é”æˆä¸ºä¸»èŠ‚ç‚¹ï¼Œç„¶åâ€ä¸»èŠ‚ç‚¹-Bâ€å°†è¢«é˜»å¡æˆä¸ºä¸€ä¸ªå¤‡ç”¨èŠ‚ç‚¹ã€‚é‚£ä¹ˆï¼Œé€šè¿‡è¿™ç§æ–¹å¼å°±å®Œæˆäº†å¯¹ä¸¤ä¸ª Master è¿›ç¨‹çš„è°ƒåº¦ã€‚å¦‚æœâ€ä¸»èŠ‚ç‚¹-Aâ€æŒ‚äº†ï¼Œè¿™æ—¶å€™ä»–æ‰€æ³¨å†Œçš„èŠ‚ç‚¹å°†è¢«è‡ªåŠ¨åˆ é™¤ï¼ŒZookeeper ä¼šè‡ªåŠ¨æ„ŸçŸ¥èŠ‚ç‚¹çš„å˜åŒ–ï¼Œç„¶åå†æ¬¡å‘å‡ºé€‰ä¸¾ï¼Œè¿™æ—¶å€™â€ä¸»èŠ‚ç‚¹-Bâ€å°†åœ¨é€‰ä¸¾ä¸­è·èƒœï¼Œæ›¿ä»£â€ä¸»èŠ‚ç‚¹-Aâ€æˆä¸ºä¸»èŠ‚ç‚¹ã€‚å¦‚æœä¸»èŠ‚ç‚¹æ¢å¤äº†ï¼Œä»–ä¼šå†æ¬¡å‘ Zookeeper æ³¨å†Œä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¿™æ—¶å€™ä»–æ³¨å†Œçš„èŠ‚ç‚¹å°†ä¼šæ˜¯â€master-00003â€ï¼ŒZookeeper ä¼šæ„ŸçŸ¥èŠ‚ç‚¹çš„å˜åŒ–å†æ¬¡å‘åŠ¨é€‰ä¸¾ï¼Œè¿™æ—¶å€™â€ä¸»èŠ‚ç‚¹-Bâ€åœ¨é€‰ä¸¾ä¸­ä¼šå†æ¬¡è·èƒœç»§ç»­æ‹…ä»»â€ä¸»èŠ‚ç‚¹â€ï¼Œâ€ä¸»èŠ‚ç‚¹-Aâ€ä¼šæ‹…ä»»å¤‡ç”¨èŠ‚ç‚¹ã€‚  æ•°æ®å‘å¸ƒ/è®¢é˜…  è´Ÿè½½å‡è¡¡  å‘½åæœåŠ¡  åˆ†å¸ƒå¼åè°ƒ/é€šçŸ¥  é›†ç¾¤ç®¡ç†  é€‰ä¸¾  åˆ†å¸ƒå¼é”  åˆ†å¸ƒå¼é˜Ÿåˆ—    å››ç§ç±»å‹çš„æ•°æ®èŠ‚ç‚¹ Znode    PERSISTENT-æŒä¹…èŠ‚ç‚¹  EPHEMERAL-ä¸´æ—¶èŠ‚ç‚¹  PERSISTENT_SEQUENTIAL-æŒä¹…é¡ºåºèŠ‚ç‚¹  EPHEMERAL_SEQUENTIAL-ä¸´æ—¶é¡ºåºèŠ‚ç‚¹zookeeper å¸¸ç”¨çš„å‘½ä»¤  å¸¸ç”¨å‘½ä»¤ï¼šls get set create delete ç­‰ã€‚"
},

{
"title": "åˆ†å¸ƒå¼ç³»ç»ŸæœåŠ¡è·¯ç”±",
"url": "/posts/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1%E8%B7%AF%E7%94%B1/",
"categories": "åˆ†å¸ƒå¼ç³»ç»Ÿ",
"tags": "åˆ†å¸ƒå¼ç³»ç»Ÿ, æœåŠ¡è·¯ç”±, Zuul, Spring Cloud Gateway",
"date": "2020-03-18 10:39:06 +0800",







"snippet": "Spring Cloud GatewaySpring Cloud GatewayåŠŸèƒ½ï¼š      åŸºäºSpring Framework 5ï¼ŒProject Reactorå’ŒSpring Boot 2.0æ„å»º        èƒ½å¤ŸåŒ¹é…ä»»ä½•è¯·æ±‚å±æ€§ä¸Šçš„è·¯ç”±ã€‚        è°“è¯å’Œè¿‡æ»¤å™¨ç‰¹å®šäºè·¯ç”±ã€‚        Hystrixæ–­è·¯å™¨é›†æˆã€‚        Spring Cloud Discovery...",
"content": "Spring Cloud GatewaySpring Cloud GatewayåŠŸèƒ½ï¼š      åŸºäºSpring Framework 5ï¼ŒProject Reactorå’ŒSpring Boot 2.0æ„å»º        èƒ½å¤ŸåŒ¹é…ä»»ä½•è¯·æ±‚å±æ€§ä¸Šçš„è·¯ç”±ã€‚        è°“è¯å’Œè¿‡æ»¤å™¨ç‰¹å®šäºè·¯ç”±ã€‚        Hystrixæ–­è·¯å™¨é›†æˆã€‚        Spring Cloud DiscoveryClienté›†æˆ        æ˜“äºç¼–å†™çš„è°“è¯å’Œè¿‡æ»¤å™¨        è¯·æ±‚é€Ÿç‡é™åˆ¶        è·¯å¾„æ”¹å†™  maven ä¾èµ–  pomæ–°å¢ä¾èµ–``` xml    org.springframework.cloud    spring-cloud-starter-gateway- yamlç›¸å…³é…ç½®``` yamlspring:  application:    # åº”ç”¨åç§°    name: gateway  main:      allow-bean-definition-overriding: true  cloud: # è·¯ç”±ç½‘å…³é…ç½®    gateway:      # è®¾ç½®ä¸æœåŠ¡æ³¨å†Œå‘ç°ç»„ä»¶ç»“åˆï¼Œè¿™æ ·å¯ä»¥é‡‡ç”¨æœåŠ¡åçš„è·¯ç”±ç­–ç•¥      discovery:        locator:          enabled: true      # é…ç½®è·¯ç”±è§„åˆ™      routes:        # é‡‡ç”¨è‡ªå®šä¹‰è·¯ç”± IDï¼ˆæœ‰å›ºå®šç”¨æ³•ï¼Œä¸åŒçš„ id æœ‰ä¸åŒçš„åŠŸèƒ½ï¼Œè¯¦è§ï¼šhttps://cloud.spring.io/spring-cloud-gateway/2.0.x/single/spring-cloud-gateway.html#gateway-route-filtersï¼‰        - id: CONSUMER-OAUTH2          # é‡‡ç”¨ LoadBalanceClient æ–¹å¼è¯·æ±‚ï¼Œä»¥ lb:// å¼€å¤´ï¼Œåé¢çš„æ˜¯æ³¨å†Œåœ¨ Nacos ä¸Šçš„æœåŠ¡å          uri: lb://consumer-oauth2          # Predicate ç¿»è¯‘è¿‡æ¥æ˜¯â€œè°“è¯â€çš„æ„æ€ï¼Œå¿…é¡»ï¼Œä¸»è¦ä½œç”¨æ˜¯åŒ¹é…ç”¨æˆ·çš„è¯·æ±‚ï¼Œæœ‰å¾ˆå¤šç§ç”¨æ³•          predicates:            # Method æ–¹æ³•è°“è¯ï¼Œè¿™é‡Œæ˜¯åŒ¹é… GET å’Œ POST è¯·æ±‚            #- Method=GET,POST            # è·¯å¾„åŒ¹é…ï¼Œä»¥ api å¼€å¤´ï¼Œç›´æ¥é…ç½®æ˜¯ä¸ç”Ÿæ•ˆçš„ï¼Œçœ‹ filters é…ç½®            - Path=/api/user/**          filters:            # å‰ç¼€è¿‡æ»¤ï¼Œé»˜è®¤é…ç½®ä¸‹ï¼Œæˆ‘ä»¬çš„è¯·æ±‚è·¯å¾„æ˜¯ http://localhost:9000/consumer-oauth2/** è¿™æ—¶ä¼šè·¯ç”±åˆ°æŒ‡å®šçš„æœåŠ¡            # æ­¤å¤„é…ç½®å»æ‰ 1 ä¸ªè·¯å¾„å‰ç¼€ï¼Œå†é…ç½®ä¸Šé¢çš„ Path=/api/**ï¼Œå°±èƒ½æŒ‰ç…§ http://localhost:9000/api/** çš„æ–¹å¼è®¿é—®äº†            - StripPrefix=1Zuulmaven ä¾èµ–&lt;dependency&gt;    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;    &lt;artifactId&gt;spring-cloud-starter-netflix-zuul&lt;/artifactId&gt;&lt;/dependency&gt;å¯åŠ¨ç±»æ ‡æ³¨æ³¨è§£@EnableZuulProxyyamlç›¸å…³é…ç½®# æ„å»ºè·¯ç”±åœ°å€zuul:  routes:    # è¿™é‡Œå¯ä»¥è‡ªå®šä¹‰    demo2:      # åŒ¹é…çš„è·¯ç”±è§„åˆ™      path: /demo/**      # è·¯ç”±çš„ç›®æ ‡æœåŠ¡å      serviceId: demo"
},

{
"title": "åˆ†å¸ƒå¼æ•°æ®åº“",
"url": "/posts/%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93/",
"categories": "åˆ†å¸ƒå¼ç³»ç»Ÿ",
"tags": "ShardingSphere, æ•°æ®åº“, åˆ†å¸ƒå¼ç³»ç»Ÿ",
"date": "2020-03-16 10:39:06 +0800",







"snippet": "ShardingSphereæ¦‚è¿°  å®šä½ä¸ºè½»é‡çº§Javaæ¡†æ¶ï¼Œåœ¨Javaçš„JDBCå±‚æä¾›çš„é¢å¤–æœåŠ¡ã€‚ å®ƒä½¿ç”¨å®¢æˆ·ç«¯ç›´è¿æ•°æ®åº“ï¼Œä»¥jaråŒ…å½¢å¼æä¾›æœåŠ¡ï¼Œæ— éœ€é¢å¤–éƒ¨ç½²å’Œä¾èµ–ï¼Œå¯ç†è§£ä¸ºå¢å¼ºç‰ˆçš„JDBCé©±åŠ¨ï¼Œå®Œå…¨å…¼å®¹JDBCå’Œå„ç§ORMæ¡†æ¶ã€‚  é€‚ç”¨äºä»»ä½•åŸºäºJavaçš„ORMæ¡†æ¶ï¼Œå¦‚ï¼šJPA, Hibernate, Mybatis, Spring JDBC Templateæˆ–ç›´æ¥ä½¿ç”¨JDBCã€‚  åŸº...",
"content": "ShardingSphereæ¦‚è¿°  å®šä½ä¸ºè½»é‡çº§Javaæ¡†æ¶ï¼Œåœ¨Javaçš„JDBCå±‚æä¾›çš„é¢å¤–æœåŠ¡ã€‚ å®ƒä½¿ç”¨å®¢æˆ·ç«¯ç›´è¿æ•°æ®åº“ï¼Œä»¥jaråŒ…å½¢å¼æä¾›æœåŠ¡ï¼Œæ— éœ€é¢å¤–éƒ¨ç½²å’Œä¾èµ–ï¼Œå¯ç†è§£ä¸ºå¢å¼ºç‰ˆçš„JDBCé©±åŠ¨ï¼Œå®Œå…¨å…¼å®¹JDBCå’Œå„ç§ORMæ¡†æ¶ã€‚  é€‚ç”¨äºä»»ä½•åŸºäºJavaçš„ORMæ¡†æ¶ï¼Œå¦‚ï¼šJPA, Hibernate, Mybatis, Spring JDBC Templateæˆ–ç›´æ¥ä½¿ç”¨JDBCã€‚  åŸºäºä»»ä½•ç¬¬ä¸‰æ–¹çš„æ•°æ®åº“è¿æ¥æ± ï¼Œå¦‚ï¼šDBCP, C3P0, BoneCP, Druid, HikariCPç­‰ã€‚  æ”¯æŒä»»æ„å®ç°JDBCè§„èŒƒçš„æ•°æ®åº“ã€‚ç›®å‰æ”¯æŒMySQLï¼ŒOracleï¼ŒSQLServerå’ŒPostgreSQLã€‚ShardingSphereå®˜ç½‘åŠŸèƒ½åˆ—è¡¨æ•°æ®åˆ†ç‰‡  åˆ†åº“ &amp; åˆ†è¡¨  è¯»å†™åˆ†ç¦»  åˆ†ç‰‡ç­–ç•¥å®šåˆ¶åŒ–  æ— ä¸­å¿ƒåŒ–åˆ†å¸ƒå¼ä¸»é”®åˆ†å¸ƒå¼äº‹åŠ¡  æ ‡å‡†åŒ–äº‹åŠ¡æ¥å£  XAå¼ºä¸€è‡´äº‹åŠ¡  æŸ”æ€§äº‹åŠ¡æ•°æ®åº“æ²»ç†  é…ç½®åŠ¨æ€åŒ–  ç¼–æ’ &amp; æ²»ç†  æ•°æ®è„±æ•  å¯è§†åŒ–é“¾è·¯è¿½è¸ª  å¼¹æ€§ä¼¸ç¼©(è§„åˆ’ä¸­)è¯»å†™åˆ†ç¦»  å¼•å…¥pomä¾èµ–``` xml    org.apache.shardingsphere    sharding-jdbc-spring-boot-starter    4.0.0-RC1- é…ç½®properties``` propertiesspring.shardingsphere.datasource.names=master,slave0,slave1spring.shardingsphere.datasource.master.type=com.zaxxer.hikari.HikariDataSourcespring.shardingsphere.datasource.master.driver-class-name=com.mysql.cj.jdbc.Driverspring.shardingsphere.datasource.master.url=jdbc:mysql://localhost:3306/masterspring.shardingsphere.datasource.master.username=rootspring.shardingsphere.datasource.master.password=spring.shardingsphere.datasource.slave0.type=com.zaxxer.hikari.HikariDataSourcespring.shardingsphere.datasource.slave0.driver-class-name=com.mysql.cj.jdbc.Driverspring.shardingsphere.datasource.slave0.url=jdbc:mysql://localhost:3306/slave0spring.shardingsphere.datasource.slave0.username=rootspring.shardingsphere.datasource.slave0.password=spring.shardingsphere.datasource.slave1.type=com.zaxxer.hikari.HikariDataSourcespring.shardingsphere.datasource.slave1.driver-class-name=com.mysql.cj.jdbc.Driverspring.shardingsphere.datasource.slave1.url=jdbc:mysql://localhost:3306/slave1spring.shardingsphere.datasource.slave1.username=rootspring.shardingsphere.datasource.slave1.password=spring.shardingsphere.masterslave.load-balance-algorithm-type=round_robinspring.shardingsphere.masterslave.name=msspring.shardingsphere.masterslave.master-data-source-name=masterspring.shardingsphere.masterslave.slave-data-source-names=slave0,slave1spring.shardingsphere.props.sql.show=true"
},

{
"title": "åˆ†å¸ƒå¼ç¼“å­˜",
"url": "/posts/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/",
"categories": "åˆ†å¸ƒå¼ç³»ç»Ÿ",
"tags": "Redis, åˆ†å¸ƒå¼ç³»ç»Ÿ",
"date": "2020-03-08 10:39:06 +0800",







"snippet": "Redis HADocker æ­å»º Redis é›†ç¾¤åŸºäº4.0.14ç‰ˆæœ¬æ­å»ºä¸€ä¸»ä¸¤ä»ç¯å¢ƒï¼Œdocker-compose.yml é…ç½®å¦‚ä¸‹ï¼šversion: '3.1'services:  master:    image: redis:4.0.14    container_name: redis-master    ports:      - 6379:6379  slave1:    i...",
"content": "Redis HADocker æ­å»º Redis é›†ç¾¤åŸºäº4.0.14ç‰ˆæœ¬æ­å»ºä¸€ä¸»ä¸¤ä»ç¯å¢ƒï¼Œdocker-compose.yml é…ç½®å¦‚ä¸‹ï¼šversion: '3.1'services:  master:    image: redis:4.0.14    container_name: redis-master    ports:      - 6379:6379  slave1:    image: redis:4.0.14    container_name: redis-slave-1    ports:      - 6380:6379    command: redis-server --slaveof redis-master 6379  slave2:    image: redis:4.0.14    container_name: redis-slave-2    ports:      - 6381:6379    command: redis-server --slaveof redis-master 6379Docker æ­å»º Redis Sentinel é›†ç¾¤  éœ€è¦ä¸‰ä»½ sentinel.conf é…ç½®æ–‡ä»¶ï¼Œåˆ†åˆ«ä¸ºï¼šsentinel1.confï¼Œsentinel2.confï¼Œsentinel3.confï¼Œé…ç½®æ–‡ä»¶å†…å®¹ç›¸åŒ      port 26379  dir /tmp  # è‡ªå®šä¹‰é›†ç¾¤åï¼Œå…¶ä¸­ 127.0.0.1 ä¸º redis-master çš„ ipï¼Œ6379 ä¸º redis-master çš„ç«¯å£ï¼Œ2 ä¸ºæœ€å°æŠ•ç¥¨æ•°ï¼ˆå› ä¸ºæœ‰ 3 å° Sentinel æ‰€ä»¥å¯ä»¥è®¾ç½®æˆ 2ï¼‰  sentinel monitor mymaster 127.0.0.1 6379 2  sentinel down-after-milliseconds mymaster 30000  sentinel parallel-syncs mymaster 1  sentinel failover-timeout mymaster 180000  sentinel deny-scripts-reconfig yes            åŸºäº4.0.14ç‰ˆæœ¬ï¼Œéœ€è¦åˆ›å»ºä¸‰ä¸ªRedis Sentinel æœåŠ¡ï¼Œdocker-compose.yml é…ç½®å¦‚ä¸‹ï¼š      version: '3.1'  services:    sentinel1:      image: redis:4.0.14      container_name: redis-sentinel-1      ports:        - 26379:26379      command: redis-sentinel /usr/local/etc/redis/sentinel.conf      volumes:        - ./sentinel1.conf:/usr/local/etc/redis/sentinel.conf    sentinel2:      image: redis:4.0.14      container_name: redis-sentinel-2      ports:        - 26380:26379      command: redis-sentinel /usr/local/etc/redis/sentinel.conf      volumes:        - ./sentinel2.conf:/usr/local/etc/redis/sentinel.conf    sentinel3:      image: redis:4.0.14      container_name: redis-sentinel-3      ports:        - 26381:26379      command: redis-sentinel /usr/local/etc/redis/sentinel.conf      volumes:        - ./sentinel3.conf:/usr/local/etc/redis/sentinel.conf      æ£€æŸ¥é›†ç¾¤æŸ¥çœ‹é›†ç¾¤æ˜¯å¦ç”Ÿæ•ˆ,è¿›å…¥ Sentinel å®¹å™¨docker exec -it redis-sentinel-1 /bin/bashredis-cli -p 26379sentinel master mymastersentinel slaves mymaster"
},

{
"title": "åˆ†å¸ƒå¼session",
"url": "/posts/%E5%88%86%E5%B8%83%E5%BC%8Fsession/",
"categories": "åˆ†å¸ƒå¼ç³»ç»Ÿ",
"tags": "åˆ†å¸ƒå¼ç³»ç»Ÿ",
"date": "2020-03-06 10:39:06 +0800",







"snippet": "åˆ†å¸ƒå¼sessionåŸºäº nfs(net filesystem) çš„ Session å…±äº«  å°†å…±äº«æœåŠ¡å™¨ç›®å½• mount å„æœåŠ¡å™¨çš„æœ¬åœ° session ç›®å½•ï¼Œsession è¯»å†™å—å…±äº«æœåŠ¡å™¨ io é™åˆ¶ï¼Œä¸èƒ½æ»¡è¶³é«˜å¹¶å‘ã€‚åŸºäºå…³ç³»æ•°æ®åº“çš„ Session å…±äº«  è¿™ç§æ–¹æ¡ˆæ™®éä½¿ç”¨ã€‚ä½¿ç”¨å…³ç³»æ•°æ®åº“å­˜å‚¨ session æ•°æ®ï¼Œå¯¹äº mysql æ•°æ®åº“ï¼Œå»ºè®®ä½¿ç”¨ heap å¼•æ“ã€‚è¿™ç§æ–¹æ¡ˆæ€§èƒ½å–å†³...",
"content": "åˆ†å¸ƒå¼sessionåŸºäº nfs(net filesystem) çš„ Session å…±äº«  å°†å…±äº«æœåŠ¡å™¨ç›®å½• mount å„æœåŠ¡å™¨çš„æœ¬åœ° session ç›®å½•ï¼Œsession è¯»å†™å—å…±äº«æœåŠ¡å™¨ io é™åˆ¶ï¼Œä¸èƒ½æ»¡è¶³é«˜å¹¶å‘ã€‚åŸºäºå…³ç³»æ•°æ®åº“çš„ Session å…±äº«  è¿™ç§æ–¹æ¡ˆæ™®éä½¿ç”¨ã€‚ä½¿ç”¨å…³ç³»æ•°æ®åº“å­˜å‚¨ session æ•°æ®ï¼Œå¯¹äº mysql æ•°æ®åº“ï¼Œå»ºè®®ä½¿ç”¨ heap å¼•æ“ã€‚è¿™ç§æ–¹æ¡ˆæ€§èƒ½å–å†³äºæ•°æ®åº“çš„æ€§èƒ½ï¼Œåœ¨é«˜å¹¶å‘ä¸‹å®¹æ˜“é€ æˆè¡¨é”ï¼ˆè™½ç„¶å¯ä»¥é‡‡ç”¨è¡Œé”çš„å­˜å‚¨å¼•æ“ï¼Œæ€§èƒ½ä¼šä¸‹é™ï¼‰ï¼Œå¹¶ä¸”éœ€è¦è‡ªå·±å®ç° session è¿‡æœŸæ·˜æ±°æœºåˆ¶ã€‚åŸºäº Cookie çš„ Session å…±äº«  è¿™ç§æ–¹æ¡ˆä¹Ÿåœ¨å¤§å‹äº’è”ç½‘ä¸­æ™®éä½¿ç”¨ï¼Œå°†ç”¨æˆ·çš„ session åŠ å¯†åºåˆ—åŒ–åä»¥ cookie çš„æ–¹å¼ä¿å­˜åœ¨ç½‘ç«™æ ¹åŸŸåä¸‹ï¼ˆæ¯”å¦‚ taobao.comï¼‰ï¼Œå½“ç”¨æˆ·è®¿é—®æ‰€æœ‰äºŒçº§åŸŸåç«™ç‚¹å¼ï¼Œæµè§ˆå™¨ä¼šä¼ é€’æ‰€æœ‰åŒ¹é…çš„æ ¹åŸŸåçš„ cookie ä¿¡æ¯ï¼Œè¿™æ ·å®ç°äº†ç”¨æˆ· cookie åŒ– session çš„å¤šæœåŠ¡å…±äº«ã€‚æ­¤æ–¹æ¡ˆèƒ½å¤ŸèŠ‚çœå¤§é‡æœåŠ¡å™¨èµ„æºï¼Œç¼ºç‚¹æ˜¯å­˜å‚¨çš„ä¿¡æ¯é•¿åº¦å—åˆ° http åè®®é™åˆ¶ï¼›cookie çš„ä¿¡æ¯è¿˜éœ€è¦åšåŠ å¯†è§£å¯†ï¼›è¯·æ±‚ä»»ä½•èµ„æºæ—¶éƒ½ä¼šå°† cookie é™„åŠ åˆ° http å¤´ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œå ç”¨äº†ä¸€å®šå¸¦å®½ã€‚åŸºäº Web å®¹å™¨çš„ Session æœºåˆ¶  åˆ©ç”¨å®¹å™¨æœºåˆ¶ï¼Œé€šè¿‡é…ç½®å³å¯å®ç°ã€‚åŸºäº Redis/Memcached çš„ Session å…±äº«å­˜å‚¨  è¿™äº› key/value éå…³ç³»å­˜å‚¨æœ‰è¾ƒé«˜çš„æ€§èƒ½ï¼Œè½»æ¾è¾¾åˆ° 2000 å·¦å³çš„ qpsï¼Œå†…ç½®çš„è¿‡æœŸæœºåˆ¶æ­£å¥½æ»¡è¶³ session çš„è‡ªåŠ¨å®æ•ˆç‰¹æ€§ã€‚"
},

{
"title": "åˆ†å¸ƒå¼ç³»ç»Ÿç®€ä»‹",
"url": "/posts/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E7%AE%80%E4%BB%8B/",
"categories": "åˆ†å¸ƒå¼ç³»ç»Ÿ",
"tags": "åˆ†å¸ƒå¼ç³»ç»Ÿ",
"date": "2020-03-02 10:39:06 +0800",







"snippet": "åˆ†å¸ƒå¼ç³»ç»Ÿæ¦‚è¿°  åˆ†å¸ƒå¼ç³»ç»Ÿæ˜¯ç”±ä¸€ç»„é€šè¿‡ç½‘ç»œè¿›è¡Œé€šä¿¡ã€ä¸ºäº†å®Œæˆå…±åŒçš„ä»»åŠ¡è€Œåè°ƒå·¥ä½œçš„è®¡ç®—æœºèŠ‚ç‚¹ç»„æˆçš„ç³»ç»Ÿã€‚åˆ†å¸ƒå¼ç³»ç»Ÿçš„å‡ºç°æ˜¯ä¸ºäº†ç”¨å»‰ä»·çš„ã€æ™®é€šçš„æœºå™¨å®Œæˆå•ä¸ªè®¡ç®—æœºæ— æ³•å®Œæˆçš„è®¡ç®—ã€å­˜å‚¨ä»»åŠ¡ã€‚å…¶ç›®çš„æ˜¯åˆ©ç”¨æ›´å¤šçš„æœºå™¨ï¼Œå¤„ç†æ›´å¤šçš„æ•°æ®ã€‚åˆ†å¸ƒå¼ç³»ç»Ÿçš„ç‰¹æ€§é«˜ååã€é«˜å¹¶å‘ã€ä½å»¶è¿Ÿå’Œè´Ÿè½½å‡è¡¡ã€‚  é«˜åå          é«˜ååæŒ‡çš„æ˜¯ä¸šåŠ¡ç³»ç»Ÿå¯ä»¥åŒæ—¶æ‰¿è½½å¤§é‡çš„ç”¨æˆ·ï¼Œå…³æ³¨çš„æ˜¯æ•´ä¸ªç³»ç»Ÿèƒ½åŒæ—¶æœåŠ¡çš„ç”¨æˆ·æ•°ï¼Œå®ƒä»¬ç”±...",
"content": "åˆ†å¸ƒå¼ç³»ç»Ÿæ¦‚è¿°  åˆ†å¸ƒå¼ç³»ç»Ÿæ˜¯ç”±ä¸€ç»„é€šè¿‡ç½‘ç»œè¿›è¡Œé€šä¿¡ã€ä¸ºäº†å®Œæˆå…±åŒçš„ä»»åŠ¡è€Œåè°ƒå·¥ä½œçš„è®¡ç®—æœºèŠ‚ç‚¹ç»„æˆçš„ç³»ç»Ÿã€‚åˆ†å¸ƒå¼ç³»ç»Ÿçš„å‡ºç°æ˜¯ä¸ºäº†ç”¨å»‰ä»·çš„ã€æ™®é€šçš„æœºå™¨å®Œæˆå•ä¸ªè®¡ç®—æœºæ— æ³•å®Œæˆçš„è®¡ç®—ã€å­˜å‚¨ä»»åŠ¡ã€‚å…¶ç›®çš„æ˜¯åˆ©ç”¨æ›´å¤šçš„æœºå™¨ï¼Œå¤„ç†æ›´å¤šçš„æ•°æ®ã€‚åˆ†å¸ƒå¼ç³»ç»Ÿçš„ç‰¹æ€§é«˜ååã€é«˜å¹¶å‘ã€ä½å»¶è¿Ÿå’Œè´Ÿè½½å‡è¡¡ã€‚  é«˜åå          é«˜ååæŒ‡çš„æ˜¯ä¸šåŠ¡ç³»ç»Ÿå¯ä»¥åŒæ—¶æ‰¿è½½å¤§é‡çš„ç”¨æˆ·ï¼Œå…³æ³¨çš„æ˜¯æ•´ä¸ªç³»ç»Ÿèƒ½åŒæ—¶æœåŠ¡çš„ç”¨æˆ·æ•°ï¼Œå®ƒä»¬ç”±å¤šå°æœåŠ¡å™¨åä½œä¸€èµ·å®Œæˆã€‚        é«˜å¹¶å‘          é«˜å¹¶å‘æŒ‡çš„æ˜¯ä¸šåŠ¡ç³»ç»Ÿåœ¨æ‰¿è½½æµ·é‡ç”¨æˆ·çš„æ—¶å€™ï¼Œæ¯å°æœåŠ¡å™¨ç¨‹åºéƒ½èƒ½å¤Ÿå°½é‡å¤šçš„åŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡ã€‚        ä½å»¶è¿Ÿ          ä½å»¶è¿ŸæŒ‡çš„æ˜¯ä¸šåŠ¡ç³»ç»Ÿåœ¨é¢å¯¹æµ·é‡ç”¨æˆ·æ—¶ä»èƒ½å¤Ÿå¾ˆå¿«çš„è¿”å›è®¡ç®—ç»“æœã€‚å¦‚æœä¸šåŠ¡ç³»ç»Ÿæ¶æ„ä¸åˆç†ï¼Œå½“æœ‰å¤§é‡ç”¨æˆ·åŒæ—¶è®¿é—®ç³»ç»Ÿæ—¶å¾ˆå¯èƒ½é€ æˆè¯·æ±‚æ’é˜Ÿï¼Œå½“æ’é˜Ÿé•¿åº¦è¿‡é•¿ï¼Œè¿˜ä¼šå¯¼è‡´ç³»ç»Ÿå†…å­˜è€—å°½ã€å¸¦å®½è¢«å æ»¡ç­‰é—®é¢˜ã€‚å¦‚æœå› ä¸ºæ’é˜Ÿå¤±è´¥åœ¨é‡‡å–é‡è¯•çš„ç­–ç•¥ï¼Œåˆ™ä¼šè¿›ä¸€æ­¥å¢åŠ å»¶è¿Ÿã€‚ä¸€ä¸ªåˆç†çš„åˆ†å¸ƒå¼ç³»ç»Ÿä¼šé‡‡ç”¨å°†ç”¨æˆ·è¯·æ±‚è¿›è¡Œåˆ†æ‹£å’Œåˆ†å‘çš„åšæ³•ï¼Œå°½å¿«çš„è®©æ›´å¤šçš„æœåŠ¡å™¨æ¥å¤„ç†ç”¨æˆ·çš„è¯·æ±‚ï¼Œä½†å¦‚æœåˆ†å‘çš„å±‚æ¬¡è¿‡å¤šåˆä¼šå¢åŠ ç³»ç»Ÿçš„å»¶è¿Ÿã€‚        è´Ÿè½½å‡è¡¡          äº’è”ç½‘ä¸šåŠ¡é¢å‘æ•´ä¸ªäº’è”ç½‘çš„ç”¨æˆ·ï¼Œä»–ä»¬ä½äºä¸åŒæ—¶åŒºï¼Œä¸åŒåœ°ç†ä½ç½®ï¼Œæ‰€ä½¿ç”¨çš„ç½‘ç»œçº¿è·¯ä¹Ÿä¸ä¸€æ ·ï¼Œè€ƒè™‘åˆ°è¿™ç§æƒ…å†µï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿå°±éœ€è¦åœ¨ä¸åŒçš„åœ°ç†ä½ç½®å’Œç½‘ç»œçº¿è·¯ä¸­éƒ¨ç½²æœåŠ¡å™¨ã€‚è¿™äº›ä¸åŒä½ç½®çš„æœåŠ¡å™¨ä¾ç„¶å±äºä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œä»–ä»¬åŒæ—¶å¤„ç†ä¸åŒç”¨æˆ·ç›¸åŒçš„ä¸šåŠ¡è¯·æ±‚ï¼Œè¿™å³å®ç°äº†è´Ÿè½½å‡è¡¡ã€‚      "
},

{
"title": "å¾®æœåŠ¡æ¶æ„ç®€ä»‹",
"url": "/posts/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84%E7%AE%80%E4%BB%8B/",
"categories": "å¾®æœåŠ¡æ¶æ„",
"tags": "å¾®æœåŠ¡æ¶æ„ç®€ä»‹, å¾®æœåŠ¡",
"date": "2019-11-11 10:39:06 +0800",







"snippet": "å¾®æœåŠ¡æ¶æ„ä»€ä¹ˆæ˜¯å¾®æœåŠ¡ï¼ˆwhatï¼‰æ¦‚è¿°  å¾®æœåŠ¡ - ä¹Ÿç§°ä¸ºå¾®æœåŠ¡æ¶æ„ - æ˜¯ä¸€ç§æ¶æ„é£æ ¼ï¼Œå®ƒå°†åº”ç”¨ç¨‹åºæ„å»ºä¸ºä¸€ç»„æœåŠ¡      æ ¹æ®ä¸šåŠ¡æ¨¡å—åˆ’åˆ†æœåŠ¡ç±»åˆ«    å¯ä»¥ç‹¬ç«‹éƒ¨ç½²ä¸”äº’ç›¸éš”ç¦»    å¯ä»¥é€šè¿‡è½»é‡çº§APIè°ƒç”¨    é«˜åº¦å¯ç»´æŠ¤å’Œå¯æµ‹è¯•  å¾®æœåŠ¡éœ€è¦è§£å†³çš„é—®é¢˜  å¤šä¸ªæœåŠ¡å¦‚ä½•è®¿é—®  å¤šä¸ªæœåŠ¡å¦‚ä½•æ²»ç†  æœåŠ¡æŒ‚äº†é—®é¢˜  å¤šä¸ªæœåŠ¡é—´é€šä¿¡ä»€ä¹ˆæƒ…å†µä¸‹åº”è¯¥ä½¿ç”¨å¾®æœåŠ¡ï¼ˆwhyï¼‰ä¼˜ç‚¹  æ”¯æŒå¤§å‹å¤æ‚...",
"content": "å¾®æœåŠ¡æ¶æ„ä»€ä¹ˆæ˜¯å¾®æœåŠ¡ï¼ˆwhatï¼‰æ¦‚è¿°  å¾®æœåŠ¡ - ä¹Ÿç§°ä¸ºå¾®æœåŠ¡æ¶æ„ - æ˜¯ä¸€ç§æ¶æ„é£æ ¼ï¼Œå®ƒå°†åº”ç”¨ç¨‹åºæ„å»ºä¸ºä¸€ç»„æœåŠ¡      æ ¹æ®ä¸šåŠ¡æ¨¡å—åˆ’åˆ†æœåŠ¡ç±»åˆ«    å¯ä»¥ç‹¬ç«‹éƒ¨ç½²ä¸”äº’ç›¸éš”ç¦»    å¯ä»¥é€šè¿‡è½»é‡çº§APIè°ƒç”¨    é«˜åº¦å¯ç»´æŠ¤å’Œå¯æµ‹è¯•  å¾®æœåŠ¡éœ€è¦è§£å†³çš„é—®é¢˜  å¤šä¸ªæœåŠ¡å¦‚ä½•è®¿é—®  å¤šä¸ªæœåŠ¡å¦‚ä½•æ²»ç†  æœåŠ¡æŒ‚äº†é—®é¢˜  å¤šä¸ªæœåŠ¡é—´é€šä¿¡ä»€ä¹ˆæƒ…å†µä¸‹åº”è¯¥ä½¿ç”¨å¾®æœåŠ¡ï¼ˆwhyï¼‰ä¼˜ç‚¹  æ”¯æŒå¤§å‹å¤æ‚åº”ç”¨ç¨‹åºçš„æŒç»­äº¤ä»˜å’Œéƒ¨ç½²ã€‚          æ”¹è¿›çš„å¯ç»´æŠ¤æ€§ - æ¯é¡¹æœåŠ¡éƒ½ç›¸å¯¹è¾ƒå°ï¼Œå› æ­¤æ›´æ˜“äºç†è§£å’Œæ›´æ”¹      æ›´å¥½çš„å¯æµ‹è¯•æ€§ - æµ‹è¯•æœåŠ¡æ›´å°ï¼Œé€Ÿåº¦æ›´å¿«      æ›´å¥½çš„å¯éƒ¨ç½²æ€§ - å¯ä»¥ç‹¬ç«‹éƒ¨ç½²æœåŠ¡      å®ƒä½¿æ‚¨èƒ½å¤Ÿå›´ç»•å¤šä¸ªè‡ªæ²»å›¢é˜Ÿç»„ç»‡å¼€å‘å·¥ä½œã€‚æ¯ä¸ªï¼ˆæ‰€è°“çš„ä¸¤ä¸ªæŠ«è¨ï¼‰å›¢é˜Ÿæ‹¥æœ‰å¹¶è´Ÿè´£ä¸€é¡¹æˆ–å¤šé¡¹æœåŠ¡ã€‚æ¯ä¸ªå›¢é˜Ÿéƒ½å¯ä»¥ç‹¬ç«‹äºæ‰€æœ‰å…¶ä»–å›¢é˜Ÿå¼€å‘ï¼Œæµ‹è¯•ï¼Œéƒ¨ç½²å’Œæ‰©å±•ä»–ä»¬çš„æœåŠ¡ã€‚        æ¯ä¸ªå¾®æœåŠ¡éƒ½ç›¸å¯¹è¾ƒå°ï¼š          å¼€å‘äººå‘˜æ›´å®¹æ˜“ç†è§£      IDEå¯ä»¥æ›´å¿«åœ°æé«˜å¼€å‘äººå‘˜çš„å·¥ä½œæ•ˆç‡      åº”ç”¨ç¨‹åºå¯åŠ¨é€Ÿåº¦æ›´å¿«ï¼Œè¿™ä½¿å¼€å‘äººå‘˜çš„å·¥ä½œæ•ˆç‡æ›´é«˜ï¼Œå¹¶åŠ å¿«äº†éƒ¨ç½²é€Ÿåº¦        æ”¹å–„äº†æ•…éšœéš”ç¦»ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªæœåŠ¡ä¸­å­˜åœ¨å†…å­˜æ³„æ¼ï¼Œåˆ™åªä¼šå½±å“è¯¥æœåŠ¡ã€‚å…¶ä»–æœåŠ¡å°†ç»§ç»­å¤„ç†è¯·æ±‚ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œå•ç‰‡æ¶æ„ä¸­çš„ä¸€ä¸ªè¡Œä¸ºä¸å½“çš„ç»„ä»¶å¯èƒ½ä¼šå¯¼è‡´æ•´ä¸ªç³»ç»Ÿå´©æºƒã€‚  æ¶ˆé™¤å¯¹æŠ€æœ¯å †æ ˆçš„ä»»ä½•é•¿æœŸæ‰¿è¯ºã€‚åœ¨å¼€å‘æ–°æœåŠ¡æ—¶ï¼Œæ‚¨å¯ä»¥é€‰æ‹©æ–°çš„æŠ€æœ¯å †æ ˆã€‚åŒæ ·ï¼Œåœ¨å¯¹ç°æœ‰æœåŠ¡è¿›è¡Œé‡å¤§æ›´æ”¹æ—¶ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æ–°æŠ€æœ¯å †æ ˆé‡å†™å®ƒã€‚    ç¼ºç‚¹    å¼€å‘äººå‘˜å¿…é¡»å¤„ç†åˆ›å»ºåˆ†å¸ƒå¼ç³»ç»Ÿçš„é¢å¤–å¤æ‚æ€§ï¼š          å¼€å‘äººå‘˜å¿…é¡»å®ç°è·¨æœåŠ¡é€šä¿¡æœºåˆ¶å¹¶å¤„ç†éƒ¨åˆ†å¤±è´¥      å®ç°è·¨å¤šä¸ªæœåŠ¡çš„è¯·æ±‚æ›´åŠ å›°éš¾      æµ‹è¯•æœåŠ¡ä¹‹é—´çš„äº¤äº’æ›´åŠ å›°éš¾      å®ç°è·¨å¤šä¸ªæœåŠ¡çš„è¯·æ±‚éœ€è¦å›¢é˜Ÿä¹‹é—´çš„ä»”ç»†åè°ƒ      å¼€å‘äººå‘˜å·¥å…·/ IDEé¢å‘æ„å»ºå•ä¸€åº”ç”¨ç¨‹åºï¼Œå¹¶ä¸ä¸ºå¼€å‘åˆ†å¸ƒå¼åº”ç”¨ç¨‹åºæä¾›æ˜ç¡®æ”¯æŒã€‚        éƒ¨ç½²å¤æ‚æ€§ã€‚åœ¨ç”Ÿäº§ä¸­ï¼Œè¿˜å­˜åœ¨éƒ¨ç½²å’Œç®¡ç†ç”±è®¸å¤šä¸åŒæœåŠ¡ç»„æˆçš„ç³»ç»Ÿçš„æ“ä½œå¤æ‚æ€§ã€‚  å¢åŠ å†…å­˜æ¶ˆè€—ã€‚å¾®æœåŠ¡æ¶æ„ç”¨NxMæœåŠ¡å®ä¾‹æ›¿æ¢Nä¸ªå•ç‰‡åº”ç”¨ç¨‹åºå®ä¾‹ã€‚å¦‚æœæ¯ä¸ªæœåŠ¡éƒ½åœ¨è‡ªå·±çš„JVMï¼ˆæˆ–ç­‰æ•ˆæœåŠ¡å™¨ï¼‰ä¸­è¿è¡Œï¼Œè¿™é€šå¸¸æ˜¯éš”ç¦»å®ä¾‹æ‰€å¿…éœ€çš„ï¼Œé‚£ä¹ˆå°±ä¼šäº§ç”ŸMå€è¿è¡Œæ—¶Mæ¬¡çš„å¼€é”€ã€‚æ­¤å¤–ï¼Œå¦‚æœæ¯ä¸ªæœåŠ¡éƒ½åœ¨è‡ªå·±çš„VMä¸Šè¿è¡Œï¼ˆä¾‹å¦‚EC2å®ä¾‹ï¼‰ï¼Œå°±åƒNetflixä¸€æ ·ï¼Œå¼€é”€ç”šè‡³æ›´é«˜ã€‚    ä½•æ—¶ä½¿ç”¨å¾®æœåŠ¡æ¶æ„    ä½¿ç”¨è¿™ç§æ–¹æ³•çš„ä¸€ä¸ªæŒ‘æˆ˜æ˜¯å†³å®šä½•æ—¶ä½¿ç”¨å®ƒã€‚åœ¨å¼€å‘åº”ç”¨ç¨‹åºçš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬æ—¶ï¼Œæ‚¨é€šå¸¸ä¸ä¼šé‡åˆ°æ­¤æ–¹æ³•æ‰€è§£å†³çš„é—®é¢˜ã€‚æ­¤å¤–ï¼Œä½¿ç”¨ç²¾å¿ƒè®¾è®¡çš„åˆ†å¸ƒå¼æ¶æ„å°†å‡ç¼“å¼€å‘é€Ÿåº¦ã€‚å¯¹äºåˆåˆ›å…¬å¸è€Œè¨€ï¼Œè¿™å¯èƒ½æ˜¯ä¸€ä¸ªä¸»è¦é—®é¢˜ï¼Œå…¶æœ€å¤§çš„æŒ‘æˆ˜é€šå¸¸æ˜¯å¦‚ä½•å¿«é€Ÿå‘å±•ä¸šåŠ¡æ¨¡å‹å’Œéšé™„çš„åº”ç”¨ç¨‹åºã€‚ä½¿ç”¨Yè½´æ‹†åˆ†å¯èƒ½ä¼šä½¿å¿«é€Ÿè¿­ä»£å˜å¾—æ›´åŠ å›°éš¾ã€‚ç„¶è€Œï¼Œç¨åï¼Œå½“æŒ‘æˆ˜æ˜¯å¦‚ä½•æ‰©å±•å¹¶ä¸”æ‚¨éœ€è¦ä½¿ç”¨åŠŸèƒ½åˆ†è§£æ—¶ï¼Œçº ç»“çš„ä¾èµ–å…³ç³»å¯èƒ½ä½¿æ‚¨éš¾ä»¥å°†æ•´ä½“åº”ç”¨ç¨‹åºåˆ†è§£ä¸ºä¸€ç»„æœåŠ¡ã€‚    å¦‚ä½•å°†å•ä½“é‡æ„ä¸ºå¾®æœåŠ¡æ¶æ„ï¼ˆhowï¼‰    å°†å•ä½“æ¶æ„é‡æ„ä¸ºå¾®æœåŠ¡æ¶æ„å¿…é¡»è§£å†³çš„ä¸€äº›é—®é¢˜:    æŒ‰ä¸šåŠ¡èƒ½åŠ›åˆ†è§£å¹¶å®šä¹‰ä¸ä¸šåŠ¡åŠŸèƒ½æ‹†åˆ†ç›¸å¯¹åº”çš„æœåŠ¡ã€‚  é€šè¿‡åŸŸé©±åŠ¨è®¾è®¡å­åŸŸè¿›è¡Œåˆ†è§£ã€‚  é€šè¿‡åŠ¨è¯æˆ–ç”¨ä¾‹åˆ†è§£å¹¶å®šä¹‰è´Ÿè´£ç‰¹å®šæ“ä½œçš„æœåŠ¡ã€‚ä¾‹å¦‚Shipping Serviceï¼Œè´Ÿè´£è¿é€å®Œæ•´è®¢å•ã€‚RESTFULé£æ ¼  é€šè¿‡å®šä¹‰ä¸€ä¸ªæœåŠ¡æ¥åˆ†è§£åè¯æˆ–èµ„æºï¼Œè¯¥æœåŠ¡è´Ÿè´£å¯¹ç»™å®šç±»å‹çš„å®ä½“/èµ„æºçš„æ‰€æœ‰æ“ä½œã€‚ä¾‹å¦‚ Account Serviceï¼Œè´Ÿè´£ç®¡ç†ç”¨æˆ·å¸æˆ·çš„äººã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œæ¯é¡¹æœåŠ¡åº”è¯¥åªæœ‰ä¸€å°éƒ¨åˆ†èŒè´£ã€‚ï¼ˆè®¾è®¡æ¨¡å¼ä¸­çš„å•ä¸€è´£ä»»åŸåˆ™ï¼‰"
},

{
"title": "ç®¡ç†æ€ç»´",
"url": "/posts/%E7%AE%A1%E7%90%86%E6%80%9D%E7%BB%B4/",
"categories": "ç®¡ç†æ€ç»´",
"tags": "é¢†å¯¼æ¢¯é˜Ÿ, ç®¡ç†æ€ç»´, å·¥ä½œæ¨¡å¼, è¡Œä¸ºæ¨¡å¼, å»ºè®¾å±‚æ¬¡, ä¸ªäººå‘å±•é˜¶æ®µ",
"date": "2019-10-13 10:39:06 +0800",







"snippet": "ç®¡ç†æ€ç»´  å½¼å¾—åŸç†ï¼šåœ¨ä¸€ä¸ªç­‰çº§åˆ¶åº¦ä¸­ï¼Œæ¯ä¸ªå‘˜å·¥è¶‹å‘äºä¸Šå‡åˆ°ä»–æ‰€ä¸èƒ½èƒœä»»çš„åœ°ä½ã€‚å·¥ä½œæ¨¡å¼  æ±‡æŠ¥å·¥ä½œ,è¯´ç»“æœ;  è¯·ç¤ºå·¥ä½œ,è¯´æ–¹æ¡ˆ;  æ€»ç»“å·¥ä½œ,è¯´æµç¨‹;  å¸ƒç½®å·¥ä½œ,è¯´æ ‡å‡†;è¡Œä¸ºæ¨¡å¼  è°¨è¨€æ…è¡Œï¼Œæ‰¬é•¿é¿çŸ­;  å…¢å…¢ä¸šä¸š, ä¸´å±ä¸æƒ§;å‰è¨€ä»–å±±ä¹‹çŸ³å¯ä»¥æ”»ç‰  7æˆå²—ä½é”»ç‚¼ï¼Œ2æˆäººé™…å­¦ä¹ ï¼Œ1æˆè¯¾å ‚åŸ¹è®­ã€‚  å»ºè®¾å±‚æ¬¡      ä½“ç³»æ¨¡å¼              äººæ‰ç†å¿µ        æˆ˜ç•¥   ...",
"content": "ç®¡ç†æ€ç»´  å½¼å¾—åŸç†ï¼šåœ¨ä¸€ä¸ªç­‰çº§åˆ¶åº¦ä¸­ï¼Œæ¯ä¸ªå‘˜å·¥è¶‹å‘äºä¸Šå‡åˆ°ä»–æ‰€ä¸èƒ½èƒœä»»çš„åœ°ä½ã€‚å·¥ä½œæ¨¡å¼  æ±‡æŠ¥å·¥ä½œ,è¯´ç»“æœ;  è¯·ç¤ºå·¥ä½œ,è¯´æ–¹æ¡ˆ;  æ€»ç»“å·¥ä½œ,è¯´æµç¨‹;  å¸ƒç½®å·¥ä½œ,è¯´æ ‡å‡†;è¡Œä¸ºæ¨¡å¼  è°¨è¨€æ…è¡Œï¼Œæ‰¬é•¿é¿çŸ­;  å…¢å…¢ä¸šä¸š, ä¸´å±ä¸æƒ§;å‰è¨€ä»–å±±ä¹‹çŸ³å¯ä»¥æ”»ç‰  7æˆå²—ä½é”»ç‚¼ï¼Œ2æˆäººé™…å­¦ä¹ ï¼Œ1æˆè¯¾å ‚åŸ¹è®­ã€‚  å»ºè®¾å±‚æ¬¡      ä½“ç³»æ¨¡å¼              äººæ‰ç†å¿µ        æˆ˜ç•¥        ç»“æ„        æ”¿ç­–        åˆ¶åº¦        æµç¨‹              ç³»ç»Ÿæ–¹æ³•ï¼ˆæ“ä½œæ‰‹å†Œï¼‰              è½®å²—åŸ¹å…»                    ä»å¹²ä¸­å­¦        å¿«é€Ÿæˆé•¿      - å²—ä½é”»ç‚¼      - é¢†å¯¼åé¦ˆ      - è‡ªæˆ‘ä¿®æ­£      - é‡å¤å®è·µ              å®æˆ˜å·¥å…·              æ•™ç»ƒè¾…å¯¼        è¡ŒåŠ¨å­¦ä¹ æœ‰æ•ˆçš„æé—®ï¼Œè€Œéå‘Šè¯‰ç­”æ¡ˆ          å‘å±•é˜¶æ®µ          ç¬¬ä¸€é˜¶æ®µ                      ä»ç®¡ç†è‡ªæˆ‘åˆ°ç®¡ç†ä»–äººï¼Œé‡ç‚¹æ˜¯ä»è‡ªå·±åšäº‹è½¬å˜ä¸ºå¸¦é˜Ÿä¼åšäº‹è¿™ä¸ªå·¥ä½œç†å¿µçš„è½¬å˜ã€‚              å·¥ä½œè®¡åˆ’        çŸ¥äººå–„ä»»        åˆ†é…å·¥ä½œ        æ¿€åŠ±å‘˜å·¥        æ•™ç»ƒè¾…å¯¼        ç»©æ•ˆè¯„ä¼°ä»è‡ªå·±åšäº‹==&gt;å¸¦å›¢é˜Ÿåšäº‹                        ä¸ªäººè´¡çŒ®è€…      ä¸€çº¿ç»ç†                  å·¥ä½œæŠ€èƒ½ï¼š1.æŠ€æœ¯æˆ–ä¸šåŠ¡èƒ½åŠ› 2.å›¢é˜Ÿåä½œèƒ½åŠ› 3.ä¸ºäº†ä¸ªäººåˆ©ç›Šå’Œä¸ªäººæˆæœå»ºç«‹äººé™…å…³ç³» 4.åˆç†è¿ç”¨å…¬å¸çš„å·¥å…·ã€æµç¨‹å’Œè§„åˆ™      é¢†å¯¼æŠ€èƒ½ï¼š1.æŒ‡å®šè®¡åˆ’-é¡¹ç›®è®¡åˆ’ã€é¢„ç®—è®¡åˆ’å’Œäººå‘˜è®¡åˆ’ 2.å·¥ä½œè®¾è®¡ 3.äººå‘˜é€‰æ‹” 4.æˆæƒ 5.ç»©æ•ˆç›‘ç£ 6.æ•™ç»ƒè¾…å¯¼ä¸åé¦ˆ 7.ç»©æ•ˆè¯„ä¼° 8.å¥–åŠ±ä¸æ¿€åŠ± 9.æ²Ÿé€šä¸è¥é€ å·¥ä½œæ°›å›´ 10.ä¸ºéƒ¨é—¨å‘å±•å»ºç«‹ä¸Šä¸‹å·¦å³çš„è‰¯å¥½å…³ç³» 11.è·å–èµ„æº              æ—¶é—´ç®¡ç†ï¼š1.éµå®ˆè€ƒå‹¤â€”â€”æŒ‰æ—¶ä¸Šä¸‹ç­ 2.æŒ‰æ—¶å®Œæˆä»»åŠ¡-é€šå¸¸æ˜¯çŸ­æœŸçš„æ—¶é—´å®‰æ’      æ—¶é—´ç®¡ç†ï¼š1.å¹´åº¦æ—¶é—´è®¡åˆ’â€”â€”æ—¶é—´å®‰æ’ã€é¡¹ç›®è¿›åº¦ 2.ä¸ä¸‹å±æ²Ÿé€šçš„ä¸“é—¨æ—¶é—´-ä¸€æ˜¯è‡ªå·±çš„éœ€è¦ï¼ŒäºŒæ˜¯ä¸‹å±çš„éœ€è¦ 3.ä¸ºéƒ¨é—¨å’Œå›¢é˜Ÿå·¥ä½œè®¾å®šæ—¶é—´æ–¹é¢çš„ä¼˜å…ˆæ¬¡åº 4.ä¸å…¶ä»–éƒ¨é—¨å’Œå›¢é˜Ÿå·¥ä½œè®¾å®šæ—¶é—´æ–¹é¢çš„ä¼˜å…ˆæ¬¡åº 5.ä¸å…¶ä»–éƒ¨é—¨ã€å®¢æˆ·å’Œä¾›åº”å•†æ²Ÿé€šçš„æ—¶é—´              å·¥ä½œç†å¿µï¼š1.é€šè¿‡ä¸ªäººèƒ½åŠ›å®Œæˆä»»åŠ¡ 2.é«˜è´¨é‡çš„æŠ€æœ¯æˆ–ä¸“ä¸šåŒ–å·¥ä½œ 3.éµå¾ªå…¬å¸çš„ä»·å€¼è§‚      å·¥ä½œç†å¿µï¼š1.é€šè¿‡ä»–äººå®Œæˆä»»åŠ¡ 2.ä¸‹å±å‘˜å·¥çš„æˆåŠŸ 3.ç®¡ç†æ€§å·¥ä½œå’Œä¿®å…» 4.éƒ¨é—¨çš„æˆåŠŸ 5.åƒä¸€ä½çœŸæ­£çš„ç®¡ç†è€… 6.æ­£ç›´è¯šå®            ç•Œå®šå’Œå¸ƒç½®å·¥ä½œï¼ŒåŒ…æ‹¬ä¸ä¸Šå¸ã€å‘˜å·¥æ²Ÿé€šï¼Œéœ€è¦ä»–ä»¬åšä»€ä¹ˆï¼Œä»¥åŠå·¥ä½œè®¡åˆ’ã€ç»„ç»‡ç»“æ„ã€äººå‘˜é€‰æ‹”å’Œæˆæƒå·¥ä½œ    é€šè¿‡ç›‘ç£ã€æŒ‡å¯¼ã€åé¦ˆã€è·å–èµ„æºã€è§£å†³é—®é¢˜å’Œäº¤æµæ²Ÿé€šï¼Œæé«˜ä¸‹å±çš„èƒœä»»èƒ½åŠ›ï¼Œä»è€Œé«˜æ•ˆå¼€å±•å·¥ä½œ    å»ºç«‹ä¸ä¸‹å±ã€ä¸Šå¸å’Œç›¸å…³éƒ¨é—¨å¦ç‡äº¤æµä¸ç›¸äº’ä¿¡ä»»çš„åˆä½œå…³ç³»  ç¬¬äºŒé˜¶æ®µ  ä»ç®¡ç†ä»–äººåˆ°ç®¡ç†ç»ç†äººå‘˜ï¼Œå…³é”®çš„é¢†å¯¼æŠ€èƒ½æ˜¯æ•™ç»ƒé€‰æ‹”äººæ‰æ‹…ä»»ä¸€çº¿ç»ç†ã€‚          é€‰æ‹”äººæ‰æ‹…ä»»ä¸€çº¿ç»ç†      åˆ†é…ç®¡ç†å·¥ä½œ      è¯„ä¼°ä¸‹å±ç»ç†åŠæ•™ç»ƒè¾…å¯¼      è€ƒè™‘å…¨å±€æ€§æˆ˜ç•¥é—®é¢˜ï¼Œç§¯æç»™äºˆæ”¯æŒ        ç¬¬ä¸‰é˜¶æ®µ              ä»ç®¡ç†ç»ç†äººå‘˜åˆ°ç®¡ç†èŒèƒ½éƒ¨é—¨ï¼Œéœ€è¦å­¦ä¼šæ–°çš„æ²Ÿé€šæŠ€å·§ä»¥è·¨è¶Šä¸¤ä¸ªå±‚çº§ä¸å‘˜å·¥è¿›è¡Œæ²Ÿé€š          ç®¡ç†è‡ªèº«ä¸“ä¸šä»¥å¤–çš„å…¶ä»–å·¥ä½œ      ä¸€æ–¹é¢ä¸å…¶ä»–éƒ¨é—¨å›¢ç»“åä½œï¼Œå¦ä¸€æ–¹é¢åŸºäºå·¥ä½œéœ€è¦ä¸å…¶ä»–éƒ¨é—¨äº‰å¤ºèµ„æº      æ“…é•¿åˆ¶å®šæˆ˜ç•¥ï¼Œä¸ä»…ä¸ºè‡ªå·±éƒ¨é—¨ï¼Œè€Œä¸”ç»Ÿç­¹æ•´ä¸ªä¸šåŠ¡éƒ¨é—¨çš„æˆ˜ç•¥è§„åˆ’      ä¼šè®®ç¹å¤šï¼Œé€‚å½“æˆæƒä¸‹å±ç»ç†      åˆ¶å®šèŒèƒ½æˆ˜ç•¥ï¼Œç¡®ä¿ä¸šåŠ¡é¢†å…ˆå¯¹æ‰‹ï¼Œå¼€å‘åˆ›æ–°æ€§äº§å“æˆ–å¼€æ‹“æ–°æ¸ é“        ç¬¬å››é˜¶æ®µ              ä»ç®¡ç†èŒèƒ½éƒ¨é—¨åˆ°äº‹ä¸šéƒ¨æ€»ç»ç†ï¼Œé‡ç‚¹æ˜¯è½¬å˜æ€è€ƒæ–¹å¼ï¼Œä»èµ¢åˆ©å’Œé•¿è¿œå‘å±•çš„è§’åº¦è¯„ä¼°è®¡åˆ’å’Œæ–¹æ¡ˆã€‚          ç®¡ç†ä¸åŒçš„éƒ¨é—¨ã€å„æ–¹é¢äººå‘˜ååŒåˆä½œã€é«˜æ•ˆåœ°ä¸å„æ–¹é¢äººå‘˜æ²Ÿé€šã€æ•é”åœ°æ„è¯†åˆ°å„éƒ¨é—¨åˆ©ç›Š      å¹³è¡¡è¿‘æœŸä¸é•¿è¿œç›®æ ‡ï¼Œå­£åº¦åˆ©æ¶¦ã€å¸‚åœºç›®æ ‡ã€äº§å“è®¡åˆ’å’Œäººå‘˜ç®¡ç†ç›®æ ‡      æŒ‡å¯¼å’Œæ¿€åŠ±è´¢åŠ¡éƒ¨ã€äººåŠ›èµ„æºéƒ¨ã€æ³•åŠ¡éƒ¨å’Œå…¶ä»–æ”¯æŒæ€§éƒ¨é—¨      è·å¾—å„éƒ¨é—¨ç»ç†çš„ä¿¡ä»»ã€å»ºè®®å’Œåé¦ˆ        ç¬¬äº”é˜¶æ®µ              ä»äº‹ä¸šéƒ¨æ€»ç»ç†åˆ°é›†å›¢é«˜ç®¡ï¼Œå¿…é¡»æ“…é•¿è¯„ä¼°èµ„é‡‘è°ƒæ‹¨å’Œäººå‘˜é…ç½®çš„æˆ˜ç•¥è§„åˆ’ã€‚          æ“…é•¿è¯„ä¼°èµ„é‡‘è°ƒæ‹¨å’Œäººå‘˜é…ç½®çš„æˆ˜ç•¥è§„åˆ’              å­¦ä¼šæ­£ç¡®çš„æé—®      æœ‰æ•ˆçš„åˆ†ææ•°æ®      ä»å…¬å¸è§’åº¦åˆ†ææˆ˜ç•¥å¯è¡Œæ€§      - åŸ¹å…»äº‹ä¸šéƒ¨æ€»ç»ç†      - è¯„ä¼°ä¸šåŠ¡çš„æŠ•èµ„ç»„åˆç­–ç•¥      æœ‰åˆé€‚çš„ä¸šåŠ¡ç¾¤ï¼Ÿ      ç¡®ä¿ç›ˆåˆ©éœ€å¢åŠ ä»€ä¹ˆä¸šåŠ¡ï¼Ÿ      å‰Šå‡ä¸šåŠ¡å“ªé¡¹ï¼Ÿ      è°ƒæ•´å“ªé¡¹ä¸šåŠ¡ï¼Ÿ      - ç²¾äºè¯„ä¼°è‡ªå·±çš„æ ¸å¿ƒèƒ½åŠ›ï¼Œé‡‡å–å†·é™å®¢è§‚çš„æ€åº¦ï¼Œè¯„ä¼°æ‰‹ä¸­çš„èµ„æºï¼ŒåŸºäºåˆ†æå’Œç»éªŒåšå‡ºåˆ¤æ–­      - é¡»æœ‰å¼€æ”¾ã€å–„äºå­¦ä¹ çš„æ€ç»´ï¼Œåšå¥½åœ¨è¿™ä¸ªå²—ä½é•¿æœŸå·¥ä½œçš„å‡†å¤‡        ç¬¬å…­é˜¶æ®µ              ä»é›†å›¢é«˜ç®¡åˆ°é¦–å¸­æ‰§è¡Œå®˜ï¼Œå¿…é¡»å…·æœ‰é‡è§†å¤–éƒ¨å…³ç³»çš„è§†è§’ã€‚          æ›´å¤šçš„é›†ä¸­åœ¨ç»è¥ç†å¿µæ–¹é¢      æ˜¯è¿œå¤§æŠ±è´Ÿçš„æ€æƒ³è€…ï¼Œå–„äºå»ºç«‹å…¬å¸è¿è¡Œæœºåˆ¶ï¼Œæ¨åŠ¨å…¬å¸å®ç°å„å­£åº¦ä¸šç»©ç›®æ ‡ï¼Œç¡®ä¿é•¿æœŸæˆ˜ç•¥ç›®æ ‡çš„å®ç°      é€‚åº”å’ŒæŒæ¡æƒè¡¡å–èˆï¼Œå…·å¤‡é‡è§†å¤–éƒ¨å…³ç³»çš„è§†è§’      æŠ“å¤§æ”¾å°ï¼Œèšç„¦å…¬å¸å…¨å±€æ€§äº‹åŠ¡      å›¢ç»“é‡ç”¨ä¼˜ç§€äººæ‰ï¼Œæ¿€åŠ±å…¬å¸å…¨ä½“äººå‘˜      "
},

{
"title": "Spring Boot æ•´åˆ TkMyBatis",
"url": "/posts/Spring-Boot-%E6%95%B4%E5%90%88-TkMyBatis/",
"categories": "Spring Boot",
"tags": "Spring Boot, Spring Bootæ•´åˆ TkMyBatis, MyBatis",
"date": "2019-10-11 10:39:06 +0800",







"snippet": "Spring Boot æ•´åˆ TkMyBatisä»€ä¹ˆæ˜¯ TkMyBatis  tk.mybatis æ˜¯åœ¨ MyBatis æ¡†æ¶çš„åŸºç¡€ä¸Šæä¾›äº†å¾ˆå¤šå·¥å…·ï¼Œè®©å¼€å‘æ›´åŠ é«˜æ•ˆPOMåœ¨pom.xmlæ–‡ä»¶ä¸­å¼•å…¥mapper-spring-boot-starterä¾èµ–ï¼Œè¯¥ä¾èµ–ä¼šè‡ªåŠ¨å¼•å…¥MyBaitsç›¸å…³ä¾èµ–&lt;dependency&gt;    &lt;groupId&gt;tk.mybatis&lt;...",
"content": "Spring Boot æ•´åˆ TkMyBatisä»€ä¹ˆæ˜¯ TkMyBatis  tk.mybatis æ˜¯åœ¨ MyBatis æ¡†æ¶çš„åŸºç¡€ä¸Šæä¾›äº†å¾ˆå¤šå·¥å…·ï¼Œè®©å¼€å‘æ›´åŠ é«˜æ•ˆPOMåœ¨pom.xmlæ–‡ä»¶ä¸­å¼•å…¥mapper-spring-boot-starterä¾èµ–ï¼Œè¯¥ä¾èµ–ä¼šè‡ªåŠ¨å¼•å…¥MyBaitsç›¸å…³ä¾èµ–&lt;dependency&gt;    &lt;groupId&gt;tk.mybatis&lt;/groupId&gt;    &lt;artifactId&gt;mapper-spring-boot-starter&lt;/artifactId&gt;    &lt;version&gt;2.1.5&lt;/version&gt;&lt;/dependency&gt;application.ymlmybatis:    # å®ä½“ç±»çš„å­˜æ”¾è·¯å¾„    type-aliases-package: com.funtl.hello.spring.boot.domain    mapper-locations: classpath:mapper/*.xmlåˆ›å»ºé€šç”¨çˆ¶çº§æ¥å£ä¸»è¦ä½œç”¨æ˜¯è®©DAOå±‚çš„æ¥å£ç»§æ‰¿è¯¥æ¥å£ï¼Œä»¥è¾¾åˆ°ä½¿ç”¨tk.mybatisçš„ç›®çš„package tk.mybatis.mapper;import tk.mybatis.mapper.common.Mapper;import tk.mybatis.mapper.common.MySqlMapper;/** * è‡ªå·±çš„ Mapper * ç‰¹åˆ«æ³¨æ„ï¼Œè¯¥æ¥å£ä¸èƒ½è¢«æ‰«æåˆ°ï¼Œå¦åˆ™ä¼šå‡ºé”™ * &lt;p&gt;Title: MyMapper&lt;/p&gt; * &lt;p&gt;Description: &lt;/p&gt; * * @author Lusifer * @version 1.0.0 * @date 2018/5/29 0:57 */public interface MyMapper&lt;T&gt; extends Mapper&lt;T&gt;, MySqlMapper&lt;T&gt; {}ä»€ä¹ˆæ˜¯ PageHelper  PageHelper æ˜¯ Mybatis çš„åˆ†é¡µæ’ä»¶ï¼Œæ”¯æŒå¤šæ•°æ®åº“ã€å¤šæ•°æ®æºã€‚å¯ä»¥ç®€åŒ–æ•°æ®åº“çš„åˆ†é¡µæŸ¥è¯¢æ“ä½œï¼Œæ•´åˆè¿‡ç¨‹ä¹Ÿæå…¶ç®€å•ï¼Œåªéœ€å¼•å…¥ä¾èµ–å³å¯ã€‚POM&lt;dependency&gt;    &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt;    &lt;artifactId&gt;pagehelper-spring-boot-starter&lt;/artifactId&gt;    &lt;version&gt;1.2.12&lt;/version&gt;&lt;/dependency&gt;ä»£ç ç”Ÿæˆæ’ä»¶åœ¨ pom.xml æ–‡ä»¶ä¸­å¢åŠ  mybatis-generator-maven-plugin æ’ä»¶&lt;build&gt;    &lt;plugins&gt;        &lt;plugin&gt;            &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;            &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt;            &lt;version&gt;1.3.7&lt;/version&gt;            &lt;configuration&gt;                &lt;configurationFile&gt;${basedir}/src/main/resources/generator/generatorConfig.xml&lt;/configurationFile&gt;                &lt;overwrite&gt;true&lt;/overwrite&gt;                &lt;verbose&gt;true&lt;/verbose&gt;            &lt;/configuration&gt;            &lt;dependencies&gt;                &lt;dependency&gt;                    &lt;groupId&gt;mysql&lt;/groupId&gt;                    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;                    &lt;version&gt;${mysql.version}&lt;/version&gt;                &lt;/dependency&gt;                &lt;dependency&gt;                    &lt;groupId&gt;tk.mybatis&lt;/groupId&gt;                    &lt;artifactId&gt;mapper&lt;/artifactId&gt;                    &lt;version&gt;4.1.5&lt;/version&gt;                &lt;/dependency&gt;            &lt;/dependencies&gt;        &lt;/plugin&gt;    &lt;/plugins&gt;&lt;/build&gt;  æ³¨æ„ï¼š configurationFile è‡ªåŠ¨ç”Ÿæˆæ‰€éœ€çš„é…ç½®æ–‡ä»¶è·¯å¾„è‡ªåŠ¨ç”Ÿæˆçš„é…ç½®åœ¨ src/main/resources/generator/ ç›®å½•ä¸‹åˆ›å»º generatorConfig.xml é…ç½®æ–‡ä»¶ï¼š&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;!DOCTYPE generatorConfiguration        PUBLIC \"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN\"        \"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd\"&gt;&lt;generatorConfiguration&gt;    &lt;!-- å¼•å…¥æ•°æ®åº“è¿æ¥é…ç½® --&gt;    &lt;properties resource=\"jdbc.properties\"/&gt;    &lt;context id=\"Mysql\" targetRuntime=\"MyBatis3Simple\" defaultModelType=\"flat\"&gt;        &lt;property name=\"beginningDelimiter\" value=\"`\"/&gt;        &lt;property name=\"endingDelimiter\" value=\"`\"/&gt;        &lt;!-- é…ç½® tk.mybatis æ’ä»¶ --&gt;        &lt;plugin type=\"tk.mybatis.mapper.generator.MapperPlugin\"&gt;            &lt;property name=\"mappers\" value=\"com.funtl.utils.MyMapper\"/&gt;        &lt;/plugin&gt;        &lt;!-- é…ç½®æ•°æ®åº“è¿æ¥ --&gt;        &lt;jdbcConnection                driverClass=\"${jdbc.driverClass}\"                connectionURL=\"${jdbc.connectionURL}\"                userId=\"${jdbc.username}\"                password=\"${jdbc.password}\"&gt;        &lt;/jdbcConnection&gt;        &lt;!-- é…ç½®å®ä½“ç±»å­˜æ”¾è·¯å¾„ --&gt;        &lt;javaModelGenerator targetPackage=\"com.funtl.hello.spring.boot.domain\" targetProject=\"src/main/java\"/&gt;        &lt;!-- é…ç½® XML å­˜æ”¾è·¯å¾„ --&gt;        &lt;sqlMapGenerator targetPackage=\"mapper\" targetProject=\"src/main/resources\"/&gt;        &lt;!-- é…ç½® DAO å­˜æ”¾è·¯å¾„ --&gt;        &lt;javaClientGenerator                targetPackage=\"com.funtl.hello.spring.boot.mapper\"                targetProject=\"src/main/java\"                type=\"XMLMAPPER\"/&gt;        &lt;!-- é…ç½®éœ€è¦æŒ‡å®šç”Ÿæˆçš„æ•°æ®åº“å’Œè¡¨ï¼Œ% ä»£è¡¨æ‰€æœ‰è¡¨ --&gt;        &lt;table catalog=\"myshop\" tableName=\"%\"&gt;            &lt;!-- é»˜è®¤ä¸º falseï¼Œå¦‚æœè®¾ç½®ä¸º trueï¼Œåœ¨ç”Ÿæˆçš„ SQL ä¸­ï¼Œtable åå­—ä¸ä¼šåŠ ä¸Š catalog æˆ– schema --&gt;            &lt;property name=\"ignoreQualifiersAtRuntime\" value=\"true\"/&gt;            &lt;!-- mysql é…ç½® --&gt;            &lt;generatedKey column=\"id\" sqlStatement=\"Mysql\" identity=\"true\"/&gt;        &lt;/table&gt;    &lt;/context&gt;&lt;/generatorConfiguration&gt;é…ç½®æ•°æ®æºåœ¨ src/main/resources ç›®å½•ä¸‹åˆ›å»º jdbc.properties æ•°æ®æºé…ç½®ï¼šjdbc.driverClass=com.mysql.cj.jdbc.Driverjdbc.connectionURL=jdbc:mysql://192.168.141.130:3306/myshop?useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=falsejdbc.username=rootjdbc.password=123456æ’ä»¶è‡ªåŠ¨ç”Ÿæˆ```shell scriptmvn mybatis-generator:generate## é™„ï¼šæ‰©å±•é˜…è¯»### å®Œæ•´é…ç½®æ¡ˆä¾‹&lt;?xml version=â€1.0â€ encoding=â€UTF-8â€?&gt;&lt;!DOCTYPE generatorConfiguration  PUBLIC â€œ-//mybatis.org//DTD MyBatis Generator Configuration 1.0//ENâ€â€œhttp://mybatis.org/dtd/mybatis-generator-config_1_0.dtdâ€&gt;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               ```"
},

{
"title": "Spring Boot æ•´åˆ HikariCP",
"url": "/posts/Spring-Boot-%E6%95%B4%E5%90%88-HikariCP/",
"categories": "Spring Boot",
"tags": "Spring Boot, Spring Bootæ•´åˆ HikariCP",
"date": "2019-10-10 10:39:06 +0800",







"snippet": "Spring Boot æ•´åˆ HikariCPä»€ä¹ˆæ˜¯ HikariCP  HiKariCP æ˜¯æ•°æ®åº“è¿æ¥æ± çš„ä¸€ä¸ªåèµ·ä¹‹ç§€ï¼Œå·ç§°æ€§èƒ½æœ€å¥½ï¼Œå¯ä»¥å®Œç¾åœ° PK æ‰å…¶ä»–è¿æ¥æ± ã€‚æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ JDBC è¿æ¥æ± ï¼ŒåŸºäº BoneCP åšäº†ä¸å°‘çš„æ”¹è¿›å’Œä¼˜åŒ–ã€‚è¶…å¿«ï¼Œå¿«åˆ°è¿ Spring Boot 2 éƒ½å®£å¸ƒæ”¯æŒäº†ã€‚å®˜æ–¹ GitHub åœ°å€ä»€ä¹ˆæ˜¯ BoneCPä¼ è¯´ä¸­ BoneCP åœ¨å¿«é€Ÿè¿™ä¸ªç‰¹ç‚¹ä¸Šåšåˆ°äº†æè‡´ï¼Œ...",
"content": "Spring Boot æ•´åˆ HikariCPä»€ä¹ˆæ˜¯ HikariCP  HiKariCP æ˜¯æ•°æ®åº“è¿æ¥æ± çš„ä¸€ä¸ªåèµ·ä¹‹ç§€ï¼Œå·ç§°æ€§èƒ½æœ€å¥½ï¼Œå¯ä»¥å®Œç¾åœ° PK æ‰å…¶ä»–è¿æ¥æ± ã€‚æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ JDBC è¿æ¥æ± ï¼ŒåŸºäº BoneCP åšäº†ä¸å°‘çš„æ”¹è¿›å’Œä¼˜åŒ–ã€‚è¶…å¿«ï¼Œå¿«åˆ°è¿ Spring Boot 2 éƒ½å®£å¸ƒæ”¯æŒäº†ã€‚å®˜æ–¹ GitHub åœ°å€ä»€ä¹ˆæ˜¯ BoneCPä¼ è¯´ä¸­ BoneCP åœ¨å¿«é€Ÿè¿™ä¸ªç‰¹ç‚¹ä¸Šåšåˆ°äº†æè‡´ï¼Œå®˜æ–¹æ•°æ®æ˜¯ C3P0 ç­‰çš„ 25 å€å·¦å³ã€‚ä¸ºä»€ä¹ˆéœ€è¦ HikariCP  BoneCP ä½œè€…æ”¾å¼ƒç»´æŠ¤ï¼Œå¹¶åœ¨ Github é¡¹ç›®ä¸»é¡µæ¨èå¤§å®¶ä½¿ç”¨ HikariCPï¼ŒHikariï¼ˆã²ã‹ã‚Š[shi ga li]ï¼‰ æ¥è‡ªæ—¥æ–‡ï¼Œæ˜¯ å…‰ çš„æ„æ€ã€‚è¿™ä¸ªäº§å“çš„å£å·æ˜¯ å¿«é€Ÿã€ç®€å•ã€å¯é ä¼˜åŒ–  å­—èŠ‚ç ç²¾ç®€ ï¼š ä¼˜åŒ–ä»£ç ï¼Œç›´åˆ°ç¼–è¯‘åçš„å­—èŠ‚ç æœ€å°‘ï¼Œè¿™æ ·ï¼ŒCPU ç¼“å­˜å¯ä»¥åŠ è½½æ›´å¤šçš„ç¨‹åºä»£ç   ä¼˜åŒ–ä»£ç†å’Œæ‹¦æˆªå™¨ ï¼š å‡å°‘ä»£ç ï¼Œä¾‹å¦‚ HikariCP çš„ Statement proxy åªæœ‰ 100 è¡Œä»£ç ï¼Œåªæœ‰ BoneCP çš„ååˆ†ä¹‹ä¸€  è‡ªå®šä¹‰æ•°ç»„ç±»å‹ï¼ˆFastStatementListï¼‰ä»£æ›¿ ArrayList ï¼š é¿å…æ¯æ¬¡ get() è°ƒç”¨éƒ½è¦è¿›è¡Œ range checkï¼Œé¿å…è°ƒç”¨ remove() æ—¶çš„ä»å¤´åˆ°å°¾çš„æ‰«æ  è‡ªå®šä¹‰é›†åˆç±»å‹ï¼ˆConcurrentBagï¼‰ï¼š æé«˜å¹¶å‘è¯»å†™çš„æ•ˆç‡  å…¶ä»–é’ˆå¯¹ BoneCP ç¼ºé™·çš„ä¼˜åŒ–ï¼š æ¯”å¦‚å¯¹äºè€—æ—¶è¶…è¿‡ä¸€ä¸ª CPU æ—¶é—´ç‰‡çš„æ–¹æ³•è°ƒç”¨çš„ç ”ç©¶ï¼ˆä½†æ²¡è¯´å…·ä½“æ€ä¹ˆä¼˜åŒ–ï¼‰ä»£ç é‡å‡ ä¸ªè¿æ¥æ± çš„ä»£ç é‡å¯¹æ¯”ï¼ˆä»£ç é‡è¶Šå°‘ï¼Œä¸€èˆ¬æ„å‘³ç€æ‰§è¡Œæ•ˆç‡è¶Šé«˜ã€å‘ç”Ÿ BUG çš„å¯èƒ½æ€§è¶Šä½ï¼‰            Pool      Files      Code                  Vibur      34      1927              HikariCP      21      2228              Tomcat      31      6345              BoneCP      49      7293              C3P0      120      15550      å¯é æ€§å¦å¤–ï¼Œå…³äºå¯é æ€§æ–¹é¢ï¼Œä¹Ÿæ˜¯æœ‰å®éªŒå’Œæ•°æ®æ”¯æŒçš„ã€‚å¯¹äºæ•°æ®åº“è¿æ¥ä¸­æ–­çš„æƒ…å†µï¼Œé€šè¿‡æµ‹è¯• getConnection()ï¼Œå„ç§ CP çš„ä¸ç›¸åŒå¤„ç†æ–¹æ³•å¦‚ä¸‹ï¼ˆæ‰€æœ‰ CP éƒ½é…ç½®äº†è·Ÿ connectionTimeout ç±»ä¼¼çš„å‚æ•°ä¸º 5 ç§’é’Ÿï¼‰  HikariCP(A)ï¼š ç­‰å¾… 5 ç§’é’Ÿåï¼Œå¦‚æœè¿æ¥è¿˜æ˜¯æ²¡æœ‰æ¢å¤ï¼Œåˆ™æŠ›å‡ºä¸€ä¸ª SQLExceptions å¼‚å¸¸ï¼›åç»­çš„ getConnection() ä¹Ÿæ˜¯ä¸€æ ·å¤„ç†  C3P0(C-)ï¼š å®Œå…¨æ²¡æœ‰ååº”ï¼Œæ²¡æœ‰æç¤ºï¼Œä¹Ÿä¸ä¼šåœ¨ CheckoutTimeout é…ç½®çš„æ—¶é•¿è¶…æ—¶åæœ‰ä»»ä½•é€šçŸ¥ç»™è°ƒç”¨è€…ï¼›ç„¶åç­‰å¾… 2 åˆ†é’Ÿåç»ˆäºé†’æ¥äº†ï¼Œè¿”å›ä¸€ä¸ª error  Tomcat(F)ï¼š è¿”å›ä¸€ä¸ª connectionï¼Œç„¶åè°ƒç”¨è€…å¦‚æœåˆ©ç”¨è¿™ä¸ªæ— æ•ˆçš„ connection æ‰§è¡Œ SQL è¯­å¥ ç»“æœå¯æƒ³è€ŒçŸ¥ï¼›å¤§çº¦ 55 ç§’ä¹‹åç»ˆäºé†’æ¥äº†ï¼Œè¿™æ—¶å€™çš„ getConnection() ç»ˆäºå¯ä»¥è¿”å›ä¸€ä¸ª errorï¼Œä½†æ²¡æœ‰ç­‰å¾…å‚æ•°é…ç½®çš„ 5 ç§’é’Ÿï¼Œè€Œæ˜¯ç«‹å³è¿”å› error  BoneCP(C)ï¼š è·Ÿ Tomcat çš„å¤„ç†æ–¹æ³•ä¸€æ ·ï¼›ä¹Ÿæ˜¯å¤§çº¦ 55 ç§’ä¹‹åæ‰é†’æ¥ï¼Œæœ‰äº†æ­£å¸¸çš„ååº”ï¼Œå¹¶ä¸”ç»ˆäºä¼šç­‰å¾… 5 ç§’é’Ÿä¹‹åè¿”å› error äº†æ•´åˆ HikariCPpom&lt;!-- ä¸»è¦å¢åŠ  HikariCP ä¾èµ– --&gt;&lt;dependency&gt;    &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;    &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;    &lt;version&gt;${hikaricp.version}&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;    &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;    &lt;exclusions&gt;        &lt;!-- æ’é™¤ tomcat-jdbc ä»¥ä½¿ç”¨ HikariCP --&gt;        &lt;exclusion&gt;            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;            &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;        &lt;/exclusion&gt;    &lt;/exclusions&gt;&lt;/dependency&gt;&lt;!-- MySQL é©±åŠ¨ --&gt;&lt;dependency&gt;    &lt;groupId&gt;mysql&lt;/groupId&gt;    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;    &lt;version&gt;${mysql.version}&lt;/version&gt;&lt;/dependency&gt;application.ymlspring:  datasource:    type: com.zaxxer.hikari.HikariDataSource    driver-class-name: com.mysql.cj.jdbc.Driver    url: jdbc:mysql://192.168.141.130:3306/myshop?useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=false    username: root    password: 123456    hikari:      minimum-idle: 5      idle-timeout: 600000      maximum-pool-size: 10      auto-commit: true      pool-name: MyHikariCP      max-lifetime: 1800000      connection-timeout: 30000      connection-test-query: SELECT 1"
},

{
"title": "Spring Boot å•å…ƒæµ‹è¯•",
"url": "/posts/Spring-Boot-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/",
"categories": "Spring Boot",
"tags": "Spring Boot, Spring Bootå•å…ƒæµ‹è¯•",
"date": "2019-10-09 10:39:06 +0800",







"snippet": "Spring Boot å•å…ƒæµ‹è¯•æ¦‚è¿°  ä¸»è¦æ˜¯é€šè¿‡ @RunWith å’Œ @SpringBootTest æ³¨è§£æ¥å¼€å¯å•å…ƒæµ‹è¯•åŠŸèƒ½åˆ›å»ºæµ‹è¯•ç±»package com.tangyuewei.hello.spring.boot;import org.junit.Before;import org.junit.Test;import org.junit.runner.RunWith;import or...",
"content": "Spring Boot å•å…ƒæµ‹è¯•æ¦‚è¿°  ä¸»è¦æ˜¯é€šè¿‡ @RunWith å’Œ @SpringBootTest æ³¨è§£æ¥å¼€å¯å•å…ƒæµ‹è¯•åŠŸèƒ½åˆ›å»ºæµ‹è¯•ç±»package com.tangyuewei.hello.spring.boot;import org.junit.Before;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.boot.test.web.client.TestRestTemplate;import org.springframework.boot.web.server.LocalServerPort;import org.springframework.http.ResponseEntity;import org.springframework.test.context.junit4.SpringRunner;import java.net.URL;import static org.hamcrest.CoreMatchers.equalTo;import static org.junit.Assert.assertThat;@RunWith(SpringRunner.class)@SpringBootTest(classes = HelloSpringBootApplication.class, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)public class HelloSpringBootApplicationTests {    @LocalServerPort    private int port;    private URL base;    @Autowired    private TestRestTemplate template;    @Before    public void setUp() throws Exception {        this.base = new URL(\"http://localhost:\" + port + \"/\");    }    @Test    public void contextLoads() {        ResponseEntity&lt;String&gt; response = template.getForEntity(base.toString(), String.class);        assertThat(response.getBody(), equalTo(\"Hello Spring Boot\"));    }}  è¿è¡Œå®ƒä¼šå…ˆå¯åŠ¨ Spring Boot å·¥ç¨‹ï¼Œå†å¯åŠ¨å•å…ƒæµ‹è¯•"
},

{
"title": "Spring Boot å¸¸ç”¨é…ç½®",
"url": "/posts/Spring-Boot-%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE/",
"categories": "Spring Boot",
"tags": "Spring Boot, Spring Booté…ç½®",
"date": "2019-10-08 10:39:06 +0800",







"snippet": "Spring Boot ç®€ä»‹æ¦‚è¿°Spring Boot å¯ä»¥ç§°ä¹‹ä¸ºæ–°ä¸€ä»£ JavaEEå¼€å‘æ ‡å‡†ï¼›éšç€åŠ¨æ€è¯­è¨€çš„æµè¡Œ (Rubyã€Groovyã€Scalaã€Node.js)ï¼ŒJava çš„å¼€å‘æ˜¾å¾—æ ¼å¤–çš„ç¬¨é‡ï¼šç¹å¤šçš„é…ç½®ã€ä½ä¸‹çš„å¼€å‘æ•ˆç‡ã€å¤æ‚çš„éƒ¨ç½²æµç¨‹ä»¥åŠç¬¬ä¸‰æ–¹æŠ€æœ¯é›†æˆéš¾åº¦å¤§ã€‚åœ¨ä¸Šè¿°ç¯å¢ƒä¸‹ï¼ŒSpring Boot åº”è¿è€Œç”Ÿã€‚å®ƒä½¿ç”¨â€œä¹ æƒ¯ä¼˜äºé…ç½®â€ï¼ˆé¡¹ç›®ä¸­å­˜åœ¨å¤§é‡çš„é…ç½®ï¼Œæ­¤å¤–è¿˜å†…ç½®äº†ä¸€ä¸ªä¹ æƒ¯æ€§çš„é…ç½®...",
"content": "Spring Boot ç®€ä»‹æ¦‚è¿°Spring Boot å¯ä»¥ç§°ä¹‹ä¸ºæ–°ä¸€ä»£ JavaEEå¼€å‘æ ‡å‡†ï¼›éšç€åŠ¨æ€è¯­è¨€çš„æµè¡Œ (Rubyã€Groovyã€Scalaã€Node.js)ï¼ŒJava çš„å¼€å‘æ˜¾å¾—æ ¼å¤–çš„ç¬¨é‡ï¼šç¹å¤šçš„é…ç½®ã€ä½ä¸‹çš„å¼€å‘æ•ˆç‡ã€å¤æ‚çš„éƒ¨ç½²æµç¨‹ä»¥åŠç¬¬ä¸‰æ–¹æŠ€æœ¯é›†æˆéš¾åº¦å¤§ã€‚åœ¨ä¸Šè¿°ç¯å¢ƒä¸‹ï¼ŒSpring Boot åº”è¿è€Œç”Ÿã€‚å®ƒä½¿ç”¨â€œä¹ æƒ¯ä¼˜äºé…ç½®â€ï¼ˆé¡¹ç›®ä¸­å­˜åœ¨å¤§é‡çš„é…ç½®ï¼Œæ­¤å¤–è¿˜å†…ç½®äº†ä¸€ä¸ªä¹ æƒ¯æ€§çš„é…ç½®ï¼Œè®©ä½ æ— éœ€æ‰‹åŠ¨è¿›è¡Œé…ç½®ï¼‰çš„ç†å¿µè®©ä½ çš„é¡¹ç›®å¿«é€Ÿçš„è¿è¡Œèµ·æ¥ã€‚ä½¿ç”¨ Spring Boot å¾ˆå®¹æ˜“åˆ›å»ºä¸€ä¸ªç‹¬ç«‹è¿è¡Œï¼ˆè¿è¡Œ Jarï¼Œå†…åµŒ Servlet å®¹å™¨ï¼‰å‡†ç”Ÿäº§çº§åˆ«çš„åŸºäº Spring æ¡†æ¶çš„é¡¹ç›®ï¼Œä½¿ç”¨ Spring Boot ä½ å¯ä»¥ä¸ç”¨æˆ–è€…åªéœ€å¾ˆå°‘çš„ Spring é…ç½®ã€‚Spring ç®€å²Spring 1.x æ—¶ä»£åœ¨ Spring1.x æ—¶ä»£ï¼Œéƒ½æ˜¯é€šè¿‡ xml æ–‡ä»¶é…ç½® beanï¼Œéšç€é¡¹ç›®çš„ä¸æ–­æ‰©å¤§ï¼Œéœ€è¦å°† xml é…ç½®åˆ†æ”¾åˆ°ä¸åŒçš„é…ç½®æ–‡ä»¶ä¸­ï¼Œéœ€è¦é¢‘ç¹çš„åœ¨ java ç±»å’Œ xml é…ç½®æ–‡ä»¶ä¸­åˆ‡æ¢ã€‚Spring 2.x æ—¶ä»£éšç€ JDK 1.5 å¸¦æ¥çš„æ³¨è§£æ”¯æŒï¼ŒSpring2.x å¯ä»¥ä½¿ç”¨æ³¨è§£å¯¹ Bean è¿›è¡Œç”³æ˜å’Œæ³¨å…¥ï¼Œå¤§å¤§çš„å‡å°‘äº† xml é…ç½®æ–‡ä»¶ï¼ŒåŒæ—¶ä¹Ÿå¤§å¤§ç®€åŒ–äº†é¡¹ç›®çš„å¼€å‘ã€‚é‚£ä¹ˆï¼Œé—®é¢˜æ¥äº†ï¼Œç©¶ç«Ÿæ˜¯åº”è¯¥ä½¿ç”¨ xml è¿˜æ˜¯æ³¨è§£å‘¢ï¼Ÿæœ€ä½³å®è·µï¼š  åº”ç”¨çš„åŸºæœ¬é…ç½®ç”¨ xmlï¼Œæ¯”å¦‚ï¼šæ•°æ®æºã€èµ„æºæ–‡ä»¶ç­‰  ä¸šåŠ¡å¼€å‘ç”¨æ³¨è§£ï¼Œæ¯”å¦‚ï¼šService ä¸­æ³¨å…¥ bean ç­‰Spring 3.x æ—¶ä»£ä» Spring3.x å¼€å§‹æä¾›äº† Java é…ç½®æ–¹å¼ï¼Œä½¿ç”¨ Java é…ç½®æ–¹å¼å¯ä»¥æ›´å¥½çš„ç†è§£ä½ é…ç½®çš„ Beanï¼Œç°åœ¨æˆ‘ä»¬å°±å¤„äºè¿™ä¸ªæ—¶ä»£ï¼Œå¹¶ä¸” Spring4.x å’Œ Spring boot éƒ½æ¨èä½¿ç”¨ java é…ç½®çš„æ–¹å¼ã€‚Spring 5.x æ—¶ä»£Spring5.x æ˜¯ Java ç•Œé¦–ä¸ªæ”¯æŒå“åº”å¼çš„ Web æ¡†æ¶ï¼Œæ˜¯ Spring çš„ä¸€ä¸ªé‡è¦ç‰ˆæœ¬ï¼Œè·ç¦» Spring4.x å·®ä¸å¤šå››å¹´ã€‚åœ¨æ­¤æœŸé—´ï¼Œå¤§å¤šæ•°å¢å¼ºéƒ½æ˜¯åœ¨ Spring Boot é¡¹ç›®ä¸­å®Œæˆçš„ï¼Œå…¶æœ€å¤§çš„äº®ç‚¹å°±æ˜¯æä¾›äº†å®Œæ•´çš„ç«¯åˆ°ç«¯å“åº”å¼ç¼–ç¨‹çš„æ”¯æŒï¼ˆæ–°å¢ Spring WebFlux æ¨¡å—ï¼‰ã€‚Spring WebFlux åŒæ—¶æ”¯æŒä½¿ç”¨æ—§çš„ Spring MVC æ³¨è§£å£°æ˜Reactive Controllerã€‚å’Œä¼ ç»Ÿçš„MVC Controllerä¸åŒï¼ŒReactive Controller æ“ä½œçš„æ˜¯éé˜»å¡çš„ServerHttpRequestå’ŒServerHttpResponseï¼Œè€Œä¸å†æ˜¯Spring MVCé‡Œçš„HttpServletRequestå’ŒHttpServletResponseã€‚è‡³æ­¤ä¹Ÿä»£è¡¨ç€ Java æ­£å¼è¿æ¥äº†å“åº”å¼å¼‚æ­¥ç¼–ç¨‹çš„æ—¶ä»£ã€‚Spring Boot ä¼˜ç¼ºç‚¹ä¼˜ç‚¹  å¿«é€Ÿæ„å»ºé¡¹ç›®  å¯¹ä¸»æµå¼€å‘æ¡†æ¶çš„æ— é…ç½®é›†æˆ  é¡¹ç›®å¯ç‹¬ç«‹è¿è¡Œï¼Œæ— éœ€å¤–éƒ¨ä¾èµ– Servlet å®¹å™¨  æä¾›è¿è¡Œæ—¶çš„åº”ç”¨ç›‘æ§  æå¤§åœ°æé«˜äº†å¼€å‘ã€éƒ¨ç½²æ•ˆç‡  ä¸äº‘è®¡ç®—çš„å¤©ç„¶é›†æˆç¼ºç‚¹  ç‰ˆæœ¬è¿­ä»£é€Ÿåº¦å¾ˆå¿«ï¼Œä¸€äº›æ¨¡å—æ”¹åŠ¨å¾ˆå¤§  ç”±äºä¸ç”¨è‡ªå·±åšé…ç½®ï¼ŒæŠ¥é”™æ—¶å¾ˆéš¾å®šä½Spring Boot å¸¸ç”¨é…ç½®æ¦‚è¿°  æœ¬ç« èŠ‚ä¸»è¦ä»‹ç»ä¸€ä¸‹ Spring Boot ä¸­çš„ä¸€äº›å¸¸ç”¨é…ç½®ï¼Œæ¯”å¦‚ï¼šè‡ªå®šä¹‰ Bannerã€é…ç½®æ—¥å¿—ã€å…³é—­ç‰¹å®šçš„è‡ªåŠ¨é…ç½®ç­‰ã€‚è‡ªå®šä¹‰ Banneråœ¨ Spring Boot å¯åŠ¨çš„æ—¶å€™ä¼šæœ‰ä¸€ä¸ªé»˜è®¤çš„å¯åŠ¨å›¾æ¡ˆ  .   ____          _            __ _ _ /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\ \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )  '  |____| .__|_| |_|_| |_\\__, | / / / / =========|_|==============|___/=/_/_/_/ :: Spring Boot ::        (v2.1.6.RELEASE)æˆ‘ä»¬åœ¨ src/main/resources ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª banner.txté€šè¿‡ http://patorjk.com/software/taag ç½‘ç«™ç”Ÿæˆå­—ç¬¦ä¸²ï¼Œå°†ç½‘ç«™ç”Ÿæˆçš„å­—ç¬¦å¤åˆ¶åˆ° banner.txt ä¸­å†æ¬¡è¿è¡Œè¿™ä¸ªç¨‹åºå¸¸ç”¨å±æ€§è®¾ç½®ï¼š  ${AnsiColor.BRIGHT_RED}ï¼šè®¾ç½®æ§åˆ¶å°ä¸­è¾“å‡ºå†…å®¹çš„é¢œè‰²  ${application.version}ï¼šç”¨æ¥è·å– MANIFEST.MF æ–‡ä»¶ä¸­çš„ç‰ˆæœ¬å·  ${application.formatted-version}ï¼šæ ¼å¼åŒ–åçš„ ${application.version} ç‰ˆæœ¬ä¿¡æ¯  ${spring-boot.version}ï¼šSpring Boot çš„ç‰ˆæœ¬å·  ${spring-boot.formatted-version}ï¼šæ ¼å¼åŒ–åçš„ ${spring-boot.version} ç‰ˆæœ¬ä¿¡æ¯é…ç½®æ–‡ä»¶Spring Boot é¡¹ç›®ä½¿ç”¨ä¸€ä¸ªå…¨å±€çš„é…ç½®æ–‡ä»¶ application.properties æˆ–è€…æ˜¯ application.ymlï¼Œåœ¨ resources ç›®å½•ä¸‹æˆ–è€…ç±»è·¯å¾„ä¸‹çš„ /config ä¸‹ï¼Œä¸€èˆ¬æˆ‘ä»¬æ”¾åˆ° resources ä¸‹ã€‚ä¿®æ”¹ Tomcat çš„ç«¯å£ä¸º 9090ï¼Œå¹¶å°†é»˜è®¤çš„è®¿é—®è·¯å¾„ â€œ/â€ ä¿®æ”¹ä¸º â€œbootâ€ï¼Œå¯ä»¥åœ¨ application.properties ä¸­æ·»åŠ ï¼šserver.port=9090server.context-path=/bootæˆ–åœ¨ application.yml ä¸­æ·»åŠ ï¼šserver:  port: 9090  context-path: /bootæ›´å¤šé…ç½®Starter POM  Spring Boot ä¸ºæˆ‘ä»¬æä¾›äº†ç®€åŒ–ä¼ä¸šçº§å¼€å‘ç»å¤§å¤šæ•°åœºæ™¯çš„ starter pom ï¼Œåªè¦ä½¿ç”¨äº†åº”ç”¨åœºæ™¯æ‰€éœ€è¦çš„ starter pom ï¼Œç›¸å…³çš„æŠ€æœ¯é…ç½®å°†ä¼šæ¶ˆé™¤ï¼Œå°±å¯ä»¥å¾—åˆ° Spring Boot ä¸ºæˆ‘ä»¬æä¾›çš„è‡ªåŠ¨é…ç½®çš„ Beanã€‚æ›´å¤š Starter POMæ—¥å¿—é…ç½®Spring Boot å¯¹å„ç§æ—¥å¿—æ¡†æ¶éƒ½åšäº†æ”¯æŒï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½®æ¥ä¿®æ”¹é»˜è®¤çš„æ—¥å¿—çš„é…ç½®é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring Boot ä½¿ç”¨ Logback ä½œä¸ºæ—¥å¿—æ¡†æ¶logging:  file: ../logs/spring-boot-hello.log  level.org.springframework.web: DEBUGå…³é—­ç‰¹å®šçš„è‡ªåŠ¨é…ç½®å…³é—­ç‰¹å®šçš„è‡ªåŠ¨é…ç½®ä½¿ç”¨ @SpringBootApplication æ³¨è§£çš„ exclude å‚æ•°å³å¯ï¼Œè¿™é‡Œä»¥å…³é—­æ•°æ®æºçš„è‡ªåŠ¨é…ç½®ä¸ºä¾‹@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})"
},

{
"title": "é€‚é…å™¨è®¾è®¡æ¨¡å¼",
"url": "/posts/%E9%80%82%E9%85%8D%E5%99%A8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/",
"categories": "è®¾è®¡æ¨¡å¼",
"tags": "é€‚é…å™¨æ¨¡å¼, è®¾è®¡æ¨¡å¼",
"date": "2019-08-12 10:39:06 +0800",







"snippet": "é€‚é…å™¨æ¨¡å¼æ¦‚å¿µ  å°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦å¤–ä¸€ä¸ªæ¥å£ã€‚é€‚é…å™¨æ¨¡å¼ä½¿å¾—åŸæœ¬ç”±äºæ¥å£ä¸å…¼å®¹è€Œä¸èƒ½ä¸€èµ·å·¥ä½œçš„é‚£äº›ç±»å¯ä»¥ä¸€èµ·å·¥ä½œã€‚  åº”ç”¨åœºæ™¯      ç”µæºé€‚é…å™¨å°† 220V è½¬åŒ–ä¸º 5V    åœ¨ LINUX ä¸Šè¿è¡Œ WINDOWS ç¨‹åº    è®©æ’­æ”¾å™¨æ”¯æŒæ›´å¤šçš„åª’ä½“æ ¼å¼æ’­æ”¾      å®ç°æ¡ˆä¾‹              ä¸ºåª’ä½“æ’­æ”¾å™¨å’Œæ›´é«˜çº§çš„åª’ä½“æ’­æ”¾å™¨åˆ›å»ºæ¥å£          pub...",
"content": "é€‚é…å™¨æ¨¡å¼æ¦‚å¿µ  å°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦å¤–ä¸€ä¸ªæ¥å£ã€‚é€‚é…å™¨æ¨¡å¼ä½¿å¾—åŸæœ¬ç”±äºæ¥å£ä¸å…¼å®¹è€Œä¸èƒ½ä¸€èµ·å·¥ä½œçš„é‚£äº›ç±»å¯ä»¥ä¸€èµ·å·¥ä½œã€‚  åº”ç”¨åœºæ™¯      ç”µæºé€‚é…å™¨å°† 220V è½¬åŒ–ä¸º 5V    åœ¨ LINUX ä¸Šè¿è¡Œ WINDOWS ç¨‹åº    è®©æ’­æ”¾å™¨æ”¯æŒæ›´å¤šçš„åª’ä½“æ ¼å¼æ’­æ”¾      å®ç°æ¡ˆä¾‹              ä¸ºåª’ä½“æ’­æ”¾å™¨å’Œæ›´é«˜çº§çš„åª’ä½“æ’­æ”¾å™¨åˆ›å»ºæ¥å£          public interface MediaPlayer {public void play(String audioType, String fileName);}                          AdvancedMediaPlayeræ¥å£ï¼š          public interface AdvancedMediaPlayer {public void playVlc(String fileName);public void playMp4(String fileName);}                          åˆ›å»ºå®ç°äº† AdvancedMediaPlayer æ¥å£çš„å®ç°ç±»ã€‚```javapublic class VlcPlayer implements AdvancedMediaPlayer{@Overridepublic void playVlc(String fileName) { System.out.println(â€œPlaying vlc file. Name: â€œ+ fileName);}            @Override   public void playMp4(String fileName) {      //ä»€ä¹ˆä¹Ÿä¸åš   }}- Mp4Playerç±»ï¼š``` javapublic class Mp4Player implements AdvancedMediaPlayer{   @Override   public void playVlc(String fileName) {      //ä»€ä¹ˆä¹Ÿä¸åš   }   @Override   public void playMp4(String fileName) {      System.out.println(\"Playing mp4 file. Name: \"+ fileName);   }}  åˆ›å»ºå®ç°äº† MediaPlayer æ¥å£çš„é€‚é…å™¨ç±»ã€‚    public class MediaAdapter implements MediaPlayer { AdvancedMediaPlayer advancedMusicPlayer; public MediaAdapter(String audioType){    if(audioType.equalsIgnoreCase(\"vlc\") ){       advancedMusicPlayer = new VlcPlayer();    } else if (audioType.equalsIgnoreCase(\"mp4\")){       advancedMusicPlayer = new Mp4Player();    } } @Override public void play(String audioType, String fileName) {    if(audioType.equalsIgnoreCase(\"vlc\")){       advancedMusicPlayer.playVlc(fileName);    }else if(audioType.equalsIgnoreCase(\"mp4\")){       advancedMusicPlayer.playMp4(fileName);    } }}        åˆ›å»ºå®ç°äº† MediaPlayer æ¥å£çš„å®ä½“ç±»ã€‚    public class AudioPlayer implements MediaPlayer { MediaAdapter mediaAdapter; @Override public void play(String audioType, String fileName) {    //æ’­æ”¾ mp3 éŸ³ä¹æ–‡ä»¶çš„å†…ç½®æ”¯æŒ    if(audioType.equalsIgnoreCase(\"mp3\")){       System.out.println(\"Playing mp3 file. Name: \"+ fileName);    }    //mediaAdapter æä¾›äº†æ’­æ”¾å…¶ä»–æ–‡ä»¶æ ¼å¼çš„æ”¯æŒ    else if(audioType.equalsIgnoreCase(\"vlc\")       || audioType.equalsIgnoreCase(\"mp4\")){       mediaAdapter = new MediaAdapter(audioType);       mediaAdapter.play(audioType, fileName);    }    else{       System.out.println(\"Invalid media. \"+          audioType + \" format not supported\");    } }}        ä½¿ç”¨ AudioPlayer æ¥æ’­æ”¾ä¸åŒç±»å‹çš„éŸ³é¢‘æ ¼å¼ã€‚    public class AdapterPatternDemo { public static void main(String[] args) {    AudioPlayer audioPlayer = new AudioPlayer();    audioPlayer.play(\"mp3\", \"beyond the horizon.mp3\");    audioPlayer.play(\"mp4\", \"alone.mp4\");    audioPlayer.play(\"vlc\", \"far far away.vlc\");    audioPlayer.play(\"avi\", \"mind me.avi\"); }}      "
},

{
"title": "è´£ä»»é“¾è®¾è®¡æ¨¡å¼",
"url": "/posts/%E8%B4%A3%E4%BB%BB%E9%93%BE%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/",
"categories": "è®¾è®¡æ¨¡å¼",
"tags": "è´£ä»»é“¾æ¨¡å¼, è®¾è®¡æ¨¡å¼",
"date": "2019-08-08 10:39:06 +0800",







"snippet": "è´£ä»»é“¾æ¨¡å¼æ¦‚å¿µ  é¿å…è¯·æ±‚å‘é€è€…ä¸æ¥æ”¶è€…è€¦åˆåœ¨ä¸€èµ·ï¼Œè®©å¤šä¸ªå¯¹è±¡éƒ½æœ‰å¯èƒ½æ¥æ”¶è¯·æ±‚ï¼Œå°†è¿™äº›å¯¹è±¡è¿æ¥æˆä¸€æ¡é“¾ï¼Œå¹¶ä¸”æ²¿ç€è¿™æ¡é“¾ä¼ é€’è¯·æ±‚ï¼Œç›´åˆ°æœ‰å¯¹è±¡å¤„ç†å®ƒä¸ºæ­¢ã€‚  åº”ç”¨åœºæ™¯      æœ‰å¤šä¸ªå¯¹è±¡å¯ä»¥å¤„ç†åŒä¸€ä¸ªè¯·æ±‚ï¼Œå…·ä½“å“ªä¸ªå¯¹è±¡å¤„ç†è¯¥è¯·æ±‚ç”±è¿è¡Œæ—¶åˆ»è‡ªåŠ¨ç¡®å®š    åœ¨ä¸æ˜ç¡®æŒ‡å®šæ¥æ”¶è€…çš„æƒ…å†µä¸‹ï¼Œå‘å¤šä¸ªå¯¹è±¡ä¸­çš„ä¸€ä¸ªæäº¤ä¸€ä¸ªè¯·æ±‚    å¯åŠ¨æ€æŒ‡å®šä¸€ç»„å¯¹è±¡å¤„ç†è¯·æ±‚      å®ç°æ¡ˆä¾‹              åˆ›...",
"content": "è´£ä»»é“¾æ¨¡å¼æ¦‚å¿µ  é¿å…è¯·æ±‚å‘é€è€…ä¸æ¥æ”¶è€…è€¦åˆåœ¨ä¸€èµ·ï¼Œè®©å¤šä¸ªå¯¹è±¡éƒ½æœ‰å¯èƒ½æ¥æ”¶è¯·æ±‚ï¼Œå°†è¿™äº›å¯¹è±¡è¿æ¥æˆä¸€æ¡é“¾ï¼Œå¹¶ä¸”æ²¿ç€è¿™æ¡é“¾ä¼ é€’è¯·æ±‚ï¼Œç›´åˆ°æœ‰å¯¹è±¡å¤„ç†å®ƒä¸ºæ­¢ã€‚  åº”ç”¨åœºæ™¯      æœ‰å¤šä¸ªå¯¹è±¡å¯ä»¥å¤„ç†åŒä¸€ä¸ªè¯·æ±‚ï¼Œå…·ä½“å“ªä¸ªå¯¹è±¡å¤„ç†è¯¥è¯·æ±‚ç”±è¿è¡Œæ—¶åˆ»è‡ªåŠ¨ç¡®å®š    åœ¨ä¸æ˜ç¡®æŒ‡å®šæ¥æ”¶è€…çš„æƒ…å†µä¸‹ï¼Œå‘å¤šä¸ªå¯¹è±¡ä¸­çš„ä¸€ä¸ªæäº¤ä¸€ä¸ªè¯·æ±‚    å¯åŠ¨æ€æŒ‡å®šä¸€ç»„å¯¹è±¡å¤„ç†è¯·æ±‚      å®ç°æ¡ˆä¾‹              åˆ›å»ºæŠ½è±¡çš„è®°å½•å™¨ç±»ã€‚``` javapublic abstract class AbstractLogger {public static int INFO = 1;public static int DEBUG = 2;public static int ERROR = 3;            protected int level;//è´£ä»»é“¾ä¸­çš„ä¸‹ä¸€ä¸ªå…ƒç´    protected AbstractLogger nextLogger;public void setNextLogger(AbstractLogger nextLogger){      this.nextLogger = nextLogger;   }public void logMessage(int level, String message){      if(this.level &lt;= level){         write(message);      }      if(nextLogger !=null){         nextLogger.logMessage(level, message);      }   }abstract protected void write(String message);}- åˆ›å»ºæ‰©å±•äº†è¯¥è®°å½•å™¨ç±»çš„å®ä½“ç±»ã€‚``` javapublic class ConsoleLogger extends AbstractLogger {   public ConsoleLogger(int level){      this.level = level;   }   @Override   protected void write(String message) {      System.out.println(\"Standard Console::Logger: \" + message);   }}  ErrorLoggerç±»ï¼š    public class ErrorLogger extends AbstractLogger { public ErrorLogger(int level){    this.level = level; } @Override protected void write(String message) {    System.out.println(\"Error Console::Logger: \" + message); }}        FileLoggerç±»ï¼š    public class FileLogger extends AbstractLogger { public FileLogger(int level){    this.level = level; } @Override protected void write(String message) {    System.out.println(\"File::Logger: \" + message); }}        åˆ›å»ºä¸åŒç±»å‹çš„è®°å½•å™¨ã€‚    public class ChainPatternDemo { private static AbstractLogger getChainOfLoggers(){    AbstractLogger errorLogger = new ErrorLogger(AbstractLogger.ERROR);    AbstractLogger fileLogger = new FileLogger(AbstractLogger.DEBUG);    AbstractLogger consoleLogger = new ConsoleLogger(AbstractLogger.INFO);    errorLogger.setNextLogger(fileLogger);    fileLogger.setNextLogger(consoleLogger);    return errorLogger; } public static void main(String[] args) {    AbstractLogger loggerChain = getChainOfLoggers();    loggerChain.logMessage(AbstractLogger.INFO, \"This is an information.\");    loggerChain.logMessage(AbstractLogger.DEBUG,       \"This is a debug level information.\");    loggerChain.logMessage(AbstractLogger.ERROR,       \"This is an error information.\"); }}      "
},

{
"title": "è§‚å¯Ÿè€…è®¾è®¡æ¨¡å¼",
"url": "/posts/%E8%A7%82%E5%AF%9F%E8%80%85%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/",
"categories": "è®¾è®¡æ¨¡å¼",
"tags": "è§‚å¯Ÿè€…æ¨¡å¼, è®¾è®¡æ¨¡å¼",
"date": "2019-08-02 10:39:06 +0800",







"snippet": "è§‚å¯Ÿè€…æ¨¡å¼æ¦‚å¿µ  å®šä¹‰å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å¾—åˆ°é€šçŸ¥å¹¶è¢«è‡ªåŠ¨æ›´æ–°ã€‚  åº”ç”¨åœºæ™¯      æ—¥å¿—è®°å½•å™¨:ç”¨æˆ·å¯ä»¥é€‰æ‹©æ—¥å¿—å­˜å‚¨åˆ°ä»€ä¹ˆåœ°æ–¹    æ•°æ®åº“è®¿é—®:ç”¨æˆ·å¯ä»¥é€‰æ‹©æ•°æ®åº“    è®¾è®¡ä¸€ä¸ªè¿æ¥æœåŠ¡å™¨çš„æ¡†æ¶      å®ç°æ¡ˆä¾‹              åˆ›å»º Subject ç±»ã€‚``` javapublic class Subject { ...",
"content": "è§‚å¯Ÿè€…æ¨¡å¼æ¦‚å¿µ  å®šä¹‰å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å¾—åˆ°é€šçŸ¥å¹¶è¢«è‡ªåŠ¨æ›´æ–°ã€‚  åº”ç”¨åœºæ™¯      æ—¥å¿—è®°å½•å™¨:ç”¨æˆ·å¯ä»¥é€‰æ‹©æ—¥å¿—å­˜å‚¨åˆ°ä»€ä¹ˆåœ°æ–¹    æ•°æ®åº“è®¿é—®:ç”¨æˆ·å¯ä»¥é€‰æ‹©æ•°æ®åº“    è®¾è®¡ä¸€ä¸ªè¿æ¥æœåŠ¡å™¨çš„æ¡†æ¶      å®ç°æ¡ˆä¾‹              åˆ›å»º Subject ç±»ã€‚``` javapublic class Subject {            private List observers      = new ArrayList();   private int state;public int getState() {      return state;   }public void setState(int state) {      this.state = state;      notifyAllObservers();   }public void attach(Observer observer){      observers.add(observer);   }public void notifyAllObservers(){      for (Observer observer : observers) {         observer.update();      }   }}- åˆ›å»º Observer ç±»ã€‚``` javapublic abstract class Observer {   protected Subject subject;   public abstract void update();}  åˆ›å»ºå®ä½“è§‚å¯Ÿè€…ç±»ã€‚    public class BinaryObserver extends Observer{ public BinaryObserver(Subject subject){    this.subject = subject;    this.subject.attach(this); } @Override public void update() {    System.out.println( \"Binary String: \"    + Integer.toBinaryString( subject.getState() ) ); }}        OctalObserverç±»ï¼š    public class OctalObserver extends Observer{ public OctalObserver(Subject subject){    this.subject = subject;    this.subject.attach(this); } @Override public void update() {   System.out.println( \"Octal String: \"   + Integer.toOctalString( subject.getState() ) ); }}        HexaObserverç±»ï¼š    public class HexaObserver extends Observer{ public HexaObserver(Subject subject){    this.subject = subject;    this.subject.attach(this); } @Override public void update() {    System.out.println( \"Hex String: \"    + Integer.toHexString( subject.getState() ).toUpperCase() ); }}        ä½¿ç”¨ Subject å’Œå®ä½“è§‚å¯Ÿè€…å¯¹è±¡ã€‚    public class ObserverPatternDemo { public static void main(String[] args) {    Subject subject = new Subject();    new HexaObserver(subject);    new OctalObserver(subject);    new BinaryObserver(subject);    System.out.println(\"First state change: 15\");    subject.setState(15);    System.out.println(\"Second state change: 10\");    subject.setState(10); }}      "
},

{
"title": "å·¥å‚è®¾è®¡æ¨¡å¼",
"url": "/posts/%E5%B7%A5%E5%8E%82%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/",
"categories": "è®¾è®¡æ¨¡å¼",
"tags": "å·¥å‚æ¨¡å¼, è®¾è®¡æ¨¡å¼",
"date": "2019-07-12 10:39:06 +0800",







"snippet": "å·¥å‚æ¨¡å¼æ¦‚å¿µ  å®šä¹‰ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œè®©å…¶å­ç±»è‡ªå·±å†³å®šå®ä¾‹åŒ–å“ªä¸€ä¸ªå·¥å‚ç±»ï¼Œå·¥å‚æ¨¡å¼ä½¿å…¶åˆ›å»ºè¿‡ç¨‹å»¶è¿Ÿåˆ°å­ç±»è¿›è¡Œã€‚  åº”ç”¨åœºæ™¯      æ—¥å¿—è®°å½•å™¨:ç”¨æˆ·å¯ä»¥é€‰æ‹©æ—¥å¿—å­˜å‚¨åˆ°ä»€ä¹ˆåœ°æ–¹    æ•°æ®åº“è®¿é—®:ç”¨æˆ·å¯ä»¥é€‰æ‹©æ•°æ®åº“    è®¾è®¡ä¸€ä¸ªè¿æ¥æœåŠ¡å™¨çš„æ¡†æ¶      å®ç°æ¡ˆä¾‹        åˆ›å»ºä¸€ä¸ªæ¥å£:    public interface Shape { void draw();}      ...",
"content": "å·¥å‚æ¨¡å¼æ¦‚å¿µ  å®šä¹‰ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œè®©å…¶å­ç±»è‡ªå·±å†³å®šå®ä¾‹åŒ–å“ªä¸€ä¸ªå·¥å‚ç±»ï¼Œå·¥å‚æ¨¡å¼ä½¿å…¶åˆ›å»ºè¿‡ç¨‹å»¶è¿Ÿåˆ°å­ç±»è¿›è¡Œã€‚  åº”ç”¨åœºæ™¯      æ—¥å¿—è®°å½•å™¨:ç”¨æˆ·å¯ä»¥é€‰æ‹©æ—¥å¿—å­˜å‚¨åˆ°ä»€ä¹ˆåœ°æ–¹    æ•°æ®åº“è®¿é—®:ç”¨æˆ·å¯ä»¥é€‰æ‹©æ•°æ®åº“    è®¾è®¡ä¸€ä¸ªè¿æ¥æœåŠ¡å™¨çš„æ¡†æ¶      å®ç°æ¡ˆä¾‹        åˆ›å»ºä¸€ä¸ªæ¥å£:    public interface Shape { void draw();}        åˆ›å»ºæ¥å£çš„å®ç°    public class Rectangle implements Shape { @Override public void draw() {    System.out.println(\"Rectangle method.\"); }}        public class Square implements Shape { @Override public void draw() {    System.out.println(\"Square method.\"); }}        public class Circle implements Shape { @Override public void draw() {    System.out.println(\"Circle method.\"); }}        åˆ›å»ºä¸€ä¸ªå·¥å‚ï¼Œç”ŸæˆåŸºäºç»™å®šä¿¡æ¯çš„å®ä½“ç±»çš„å¯¹è±¡    public class ShapeFactory { //ä½¿ç”¨ getShape æ–¹æ³•è·å–å½¢çŠ¶ç±»å‹çš„å¯¹è±¡ public Shape getShape(String shapeType){    if(shapeType == null){       return null;    }    if(shapeType.equalsIgnoreCase(\"CIRCLE\")){       return new Circle();    } else if(shapeType.equalsIgnoreCase(\"RECTANGLE\")){       return new Rectangle();    } else if(shapeType.equalsIgnoreCase(\"SQUARE\")){       return new Square();    }    return null; }}        è°ƒç”¨è¯¥å·¥å‚ï¼Œé€šè¿‡ä¼ é€’ç±»å‹ä¿¡æ¯æ¥è·å–å®ç°ã€‚    public class FactoryDemo { public static void main(String[] args) {    ShapeFactory shapeFactory = new ShapeFactory();    //è·å– Circle çš„å¯¹è±¡ï¼Œå¹¶è°ƒç”¨å®ƒçš„ draw æ–¹æ³•    Shape shape1 = shapeFactory.getShape(\"CIRCLE\");    //è°ƒç”¨ Circle çš„ draw æ–¹æ³•    shape1.draw();    //è·å– Rectangle çš„å¯¹è±¡ï¼Œå¹¶è°ƒç”¨å®ƒçš„ draw æ–¹æ³•    Shape shape2 = shapeFactory.getShape(\"RECTANGLE\");    //è°ƒç”¨ Rectangle çš„ draw æ–¹æ³•    shape2.draw();    //è·å– Square çš„å¯¹è±¡ï¼Œå¹¶è°ƒç”¨å®ƒçš„ draw æ–¹æ³•    Shape shape3 = shapeFactory.getShape(\"SQUARE\");    //è°ƒç”¨ Square çš„ draw æ–¹æ³•    shape3.draw(); }}      "
},

{
"title": "å•ä¾‹è®¾è®¡æ¨¡å¼",
"url": "/posts/%E5%8D%95%E4%BE%8B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/",
"categories": "è®¾è®¡æ¨¡å¼",
"tags": "å•ä¾‹æ¨¡å¼, è®¾è®¡æ¨¡å¼",
"date": "2019-06-05 10:39:06 +0800",







"snippet": "å•ä¾‹æ¨¡å¼æ¦‚å¿µ  ä¸€ä¸ªç±»åªèƒ½æœ‰ä¸€ä¸ªå®ä¾‹  ç”±è‡ªå·±åˆ›å»ºçš„å”¯ä¸€å®ä¾‹  ç»™å…¶ä»–å¯¹è±¡æä¾›è¿™ä¸€å®ä¾‹    åº”ç”¨åœºæ™¯          å»ºç«‹æ•°æ®åº“è¿æ¥      è®¡æ•°å™¨      å”¯ä¸€åºåˆ—å·        å®ç°æ¡ˆä¾‹              ç±»åŠ è½½æ—¶åˆå§‹åŒ–,å¤šçº¿ç¨‹å®‰å…¨     public class Singleton {   private static Singleton instance = ne...",
"content": "å•ä¾‹æ¨¡å¼æ¦‚å¿µ  ä¸€ä¸ªç±»åªèƒ½æœ‰ä¸€ä¸ªå®ä¾‹  ç”±è‡ªå·±åˆ›å»ºçš„å”¯ä¸€å®ä¾‹  ç»™å…¶ä»–å¯¹è±¡æä¾›è¿™ä¸€å®ä¾‹    åº”ç”¨åœºæ™¯          å»ºç«‹æ•°æ®åº“è¿æ¥      è®¡æ•°å™¨      å”¯ä¸€åºåˆ—å·        å®ç°æ¡ˆä¾‹              ç±»åŠ è½½æ—¶åˆå§‹åŒ–,å¤šçº¿ç¨‹å®‰å…¨     public class Singleton {   private static Singleton instance = new Singleton();   private Singleton (){}   public static Singleton getInstance() {   return instance;   } }        åˆå§‹åŒ–æ‡’åŠ è½½æ¨¡å¼ï¼Œå¤šçº¿ç¨‹å®‰å…¨    public class Singleton {  private static class SingletonHolder {  private static final Singleton INSTANCE = new Singleton();  }  private Singleton (){}  public static final Singleton getInstance() {  return SingletonHolder.INSTANCE;  }}        é˜²æ­¢ååºåˆ—åŒ–é‡æ–°åˆ›å»ºçš„æšä¸¾ç±»å‹,å¤šçº¿ç¨‹å®‰å…¨    public enum Singleton {  INSTANCE;  public void method() {  }}        åˆå§‹åŒ–æ‡’åŠ è½½ï¼ŒåŒé”æœºåˆ¶ï¼Œå¤šçº¿ç¨‹æƒ…å†µä¸‹èƒ½ä¿æŒé«˜æ€§èƒ½    public class Singleton {  private volatile static Singleton singleton;  private Singleton (){}  public static Singleton getSingleton() {  if (singleton == null) {      synchronized (Singleton.class) {      if (singleton == null) {          singleton = new Singleton();      }      }  }  return singleton;  }}      "
},

{
"title": "ä»£ç†è®¾è®¡æ¨¡å¼",
"url": "/posts/%E4%BB%A3%E7%90%86%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/",
"categories": "è®¾è®¡æ¨¡å¼",
"tags": "è®¾è®¡æ¨¡å¼",
"date": "2019-05-13 10:39:06 +0800",







"snippet": "ä»£ç†æ¨¡å¼æ¦‚å¿µ  ä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ã€‚  åº”ç”¨åœºæ™¯      Windows çš„å¿«æ·æ–¹å¼    ç½‘ä¸Šè´­ä¹°ç”µå½±ç¥¨    spring aop      å®ç°æ¡ˆä¾‹              åˆ›å»ºä¸€ä¸ªæ¥å£ã€‚          public interface Image {void display();}                          åˆ›å»ºå®ç°æ¥å£çš„ç±»ã€‚...",
"content": "ä»£ç†æ¨¡å¼æ¦‚å¿µ  ä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ã€‚  åº”ç”¨åœºæ™¯      Windows çš„å¿«æ·æ–¹å¼    ç½‘ä¸Šè´­ä¹°ç”µå½±ç¥¨    spring aop      å®ç°æ¡ˆä¾‹              åˆ›å»ºä¸€ä¸ªæ¥å£ã€‚          public interface Image {void display();}                          åˆ›å»ºå®ç°æ¥å£çš„ç±»ã€‚```javapublic class RealImage implements Image {            private String fileName;public RealImage(String fileName){      this.fileName = fileName;      loadFromDisk(fileName);   }@Override   public void display() {      System.out.println(â€œDisplaying â€œ + fileName);   }private void loadFromDisk(String fileName){      System.out.println(â€œLoading â€œ + fileName);   }}åˆ›å»ºå®ç°äº† Image æ¥å£çš„ä»£ç†ç±»ã€‚``` javapublic class ProxyImage implements Image{   private RealImage realImage;   private String fileName;   public ProxyImage(String fileName){      this.fileName = fileName;   }   @Override   public void display() {      if(realImage == null){         realImage = new RealImage(fileName);      }      realImage.display();   }}  å½“è¢«è¯·æ±‚æ—¶ï¼Œä½¿ç”¨ ProxyImage æ¥è·å– RealImage ç±»çš„å¯¹è±¡ã€‚    public class ProxyPatternDemo { public static void main(String[] args) {    Image image = new ProxyImage(\"test_10mb.jpg\");    // å›¾åƒå°†ä»ç£ç›˜åŠ è½½    image.display();    System.out.println(\"\");    // å›¾åƒä¸éœ€è¦ä»ç£ç›˜åŠ è½½    image.display(); }}      "
},

{
"title": "Vueå­¦ä¹ ä¸ä½¿ç”¨",
"url": "/posts/Vue%E5%AD%A6%E4%B9%A0%E4%B8%8E%E4%BD%BF%E7%94%A8/",
"categories": "è®¾è®¡æ¨¡å¼",
"tags": "è½¯ä»¶è®¾è®¡åŸåˆ™",
"date": "2019-05-12 10:39:06 +0800",







"snippet": "Vue æ¸è¿›å¼ JavaScript æ¡†æ¶Node.jså®‰è£…Node.jså®˜ç½‘linuxå®‰è£…nodejsyum install -y nodejsnpm ç¼“å­˜æ¸…ç†npm cache clean --forceå®‰è£… Node.js æ·˜å®é•œåƒåŠ é€Ÿå™¨ï¼ˆcnpmï¼‰npm install cnpm -g# æˆ–ä½¿ç”¨å¦‚ä¸‹è¯­å¥è§£å†³ npm é€Ÿåº¦æ…¢çš„é—®é¢˜npm install --registry=https...",
"content": "Vue æ¸è¿›å¼ JavaScript æ¡†æ¶Node.jså®‰è£…Node.jså®˜ç½‘linuxå®‰è£…nodejsyum install -y nodejsnpm ç¼“å­˜æ¸…ç†npm cache clean --forceå®‰è£… Node.js æ·˜å®é•œåƒåŠ é€Ÿå™¨ï¼ˆcnpmï¼‰npm install cnpm -g# æˆ–ä½¿ç”¨å¦‚ä¸‹è¯­å¥è§£å†³ npm é€Ÿåº¦æ…¢çš„é—®é¢˜npm install --registry=https://registry.npm.taobao.org::: tip æç¤ºå°½å¯èƒ½ä½¿ç”¨npm installå®‰è£…æ’ä»¶ï¼Œä½¿ç”¨cnpm installæœ‰å¯èƒ½ä¸‹è½½çš„æ’ä»¶å‡ºç°é—®é¢˜:::nodejsç‰ˆæœ¬å‡çº§  é¦–å…ˆï¼Œä½ å¾—ç”¨npmå…¨å±€å®‰è£…ä¸€ä¸ªç®¡ç†nodeç‰ˆæœ¬çš„ç®¡ç†æ¨¡æ¿nï¼Œå…³äºnã€‚å®‰è£…å‘½ä»¤npm i -g n::: tip  æç¤ºå¦‚æœä¸Šè¿°å‘½ä»¤æŠ¥é”™ï¼Œåˆ™æ‰§è¡Œnpm i -g n --force:::  å‡çº§åˆ°æŒ‡å®šçš„ç‰ˆæœ¬n ç‰ˆæœ¬å· å¦‚ n 10.0.0  å®‰è£…æœ€æ–°çš„ç‰ˆæœ¬n latest  å®‰è£…æœ€è¿‘çš„ç¨³å®šç‰ˆæœ¬n stable  næ¨¡å—æ˜¯ä¸æ”¯æŒwindowç³»ç»Ÿçš„ï¼Œwindowç³»ç»Ÿå‡çº§nodeå°±åªæœ‰åˆ°nodeå®˜ç½‘ä¸‹è½½windowå®‰è£…åŒ…æ¥è¦†ç›–ä¹‹å‰çš„nodeã€‚Vueæ¦‚è¿°  Vue æ˜¯ä¸€å¥—ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„æ¸è¿›å¼æ¡†æ¶ï¼Œå‘å¸ƒäº 2014 å¹´ 2 æœˆã€‚ä¸å…¶å®ƒå¤§å‹æ¡†æ¶ä¸åŒçš„æ˜¯ï¼ŒVue è¢«è®¾è®¡ä¸ºå¯ä»¥è‡ªåº•å‘ä¸Šé€å±‚åº”ç”¨ã€‚Vue çš„æ ¸å¿ƒåº“åªå…³æ³¨è§†å›¾å±‚ï¼Œä¸ä»…æ˜“äºä¸Šæ‰‹ï¼Œè¿˜ä¾¿äºä¸ç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚ï¼švue-routerï¼Œvue-resourceï¼Œvuexï¼‰æˆ–æ—¢æœ‰é¡¹ç›®æ•´åˆã€‚MVVM æ¨¡å¼çš„å®ç°è€…  Modelï¼šæ¨¡å‹å±‚ï¼Œåœ¨è¿™é‡Œè¡¨ç¤º JavaScript å¯¹è±¡  Viewï¼šè§†å›¾å±‚ï¼Œåœ¨è¿™é‡Œè¡¨ç¤º DOMï¼ˆHTML æ“ä½œçš„å…ƒç´ ï¼‰  ViewModelï¼šè¿æ¥è§†å›¾å’Œæ•°æ®çš„ä¸­é—´ä»¶ï¼ŒVue.js å°±æ˜¯ MVVM ä¸­çš„ ViewModel å±‚çš„å®ç°è€…Vue.jsä¼˜ç‚¹ä¸æ ¸å¿ƒè¦ç´ ä¼˜ç‚¹ï¼š  è½»é‡çº§ï¼Œä½“ç§¯å°æ˜¯ä¸€ä¸ªé‡è¦æŒ‡æ ‡ã€‚Vue.js å‹ç¼©åæœ‰åªæœ‰ 20å¤škb ï¼ˆAngular å‹ç¼©å 56kb+ï¼ŒReact å‹ç¼©å 44kb+ï¼‰  ç§»åŠ¨ä¼˜å…ˆã€‚æ›´é€‚åˆç§»åŠ¨ç«¯ï¼Œæ¯”å¦‚ç§»åŠ¨ç«¯çš„ Touch äº‹ä»¶  æ˜“ä¸Šæ‰‹ï¼Œå­¦ä¹ æ›²çº¿å¹³ç¨³ï¼Œæ–‡æ¡£é½å…¨  å¸å–äº† Angularï¼ˆæ¨¡å—åŒ–ï¼‰å’Œ Reactï¼ˆè™šæ‹Ÿ DOMï¼‰çš„é•¿å¤„ï¼Œå¹¶æ‹¥æœ‰è‡ªå·±ç‹¬ç‰¹çš„åŠŸèƒ½ï¼Œå¦‚ï¼šè®¡ç®—å±æ€§  å¼€æºï¼Œç¤¾åŒºæ´»è·ƒåº¦é«˜æ ¸å¿ƒè¦ç´   æ•°æ®é©±åŠ¨  æ¯ä¸ªç»„ä»¶å®ä¾‹éƒ½æœ‰ç›¸åº”çš„ watcher å®ä¾‹å¯¹è±¡ï¼Œå®ƒä¼šåœ¨ç»„ä»¶æ¸²æŸ“çš„è¿‡ç¨‹ä¸­æŠŠå±æ€§è®°å½•ä¸ºä¾èµ–ï¼Œä¹‹åå½“ä¾èµ–é¡¹çš„ setter è¢«è°ƒç”¨æ—¶ï¼Œä¼šé€šçŸ¥ watcher é‡æ–°è®¡ç®—ï¼Œä»è€Œè‡´ä½¿å®ƒå…³è”çš„ç»„ä»¶å¾—ä»¥æ›´æ–°ã€‚  ç»„ä»¶åŒ–  é¡µé¢ä¸Šæ¯ä¸ªç‹¬ç«‹çš„å¯äº¤äº’çš„åŒºåŸŸè§†ä¸ºä¸€ä¸ªç»„ä»¶  æ¯ä¸ªç»„ä»¶å¯¹åº”ä¸€ä¸ªå·¥ç¨‹ç›®å½•ï¼Œç»„ä»¶æ‰€éœ€çš„å„ç§èµ„æºåœ¨è¿™ä¸ªç›®å½•ä¸‹å°±è¿‘ç»´æŠ¤  é¡µé¢ä¸è¿‡æ˜¯ç»„ä»¶çš„å®¹å™¨ï¼Œç»„ä»¶å¯ä»¥åµŒå¥—è‡ªç”±ç»„åˆï¼ˆå¤ç”¨ï¼‰å½¢æˆå®Œæ•´çš„é¡µé¢Vue è¯­æ³•v-if,v-else-if,v-else&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;    &lt;meta charset=\"UTF-8\"&gt;    &lt;title&gt;v-if&lt;/title&gt;    &lt;script src=\"https://cdn.jsdelivr.net/npm/vue@2.5.21/dist/vue.js\"&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div id=\"app\"&gt;    &lt;h1 v-if=\"ok === 'a'\"&gt;if&lt;/h1&gt;    &lt;h1 v-else-if=\"ok === 'b'\"&gt;else-if&lt;/h1&gt;    &lt;h1 v-else&gt;else&lt;/h1&gt;&lt;/div&gt;&lt;script type=\"text/javascript\"&gt;    let vm = new Vue({        el: '#app',        data: {            ok: 'a'        }    });&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;v-for&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;    &lt;meta charset=\"UTF-8\"&gt;    &lt;title&gt;v-for&lt;/title&gt;    &lt;script src=\"https://cdn.jsdelivr.net/npm/vue@2.5.21/dist/vue.js\"&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div id=\"app\"&gt;    &lt;li v-for=\"item in items\"&gt;            &lt;/li&gt;&lt;/div&gt;&lt;script type=\"text/javascript\"&gt;    let vm = new Vue({        el: '#app',        data: {            items: [                {message: 'hello'},                {message: 'world'}            ]        }    });&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;Vue äº‹ä»¶v-on&lt;!DOCTYPE html&gt;&lt;html xmlns:v-on=\"\"&gt;&lt;head&gt;    &lt;meta charset=\"UTF-8\"&gt;    &lt;title&gt;äº‹ä»¶ v-on&lt;/title&gt;    &lt;script src=\"https://cdn.jsdelivr.net/npm/vue@2.5.21/dist/vue.js\"&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div id=\"app\"&gt;    &lt;button v-on:click=\"say\"&gt;ç‚¹å‡»äº‹ä»¶&lt;/button&gt;&lt;/div&gt;&lt;script type=\"text/javascript\"&gt;    let vm = new Vue({        el: '#app',        data: {            message: 'Hello World'        },        // åœ¨ `methods` å¯¹è±¡ä¸­å®šä¹‰æ–¹æ³•        methods: {            say: function (event) {                // `this` åœ¨æ–¹æ³•é‡ŒæŒ‡å‘å½“å‰ Vue å®ä¾‹                alert(this.message);            }        }    });&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;Vue ç½‘ç»œ  ä½¿ç”¨ Axios å®ç°å¼‚æ­¥é€šä¿¡Axios ä¼˜ç‚¹:  ä»æµè§ˆå™¨ä¸­åˆ›å»º XMLHttpRequests  ä» node.js åˆ›å»º http è¯·æ±‚  æ”¯æŒ Promise API  æ‹¦æˆªè¯·æ±‚å’Œå“åº”  è½¬æ¢è¯·æ±‚æ•°æ®å’Œå“åº”æ•°æ®  å–æ¶ˆè¯·æ±‚  è‡ªåŠ¨è½¬æ¢ JSON æ•°æ®  å®¢æˆ·ç«¯æ”¯æŒé˜²å¾¡ XSRFï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰  åˆ›å»ºä¸€ä¸ªåä¸º data.json çš„æ–‡ä»¶å¹¶å¡«å…¥å†…å®¹{  \"name\": \"å”æ‚¦ç®\",  \"url\": \"https://www.18xm.cn\",  \"address\": {    \"street\": \"åå¼ºåŒ—\",    \"city\": \"å¹¿ä¸œæ·±åœ³\",    \"country\": \"ä¸­å›½\"  },  \"links\": [    {      \"name\": \"Google\",      \"url\": \"http://www.google.com\"    },    {      \"name\": \"Baidu\",      \"url\": \"http://www.baidu.com\"    }  ]}  åˆ›å»º HTML&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;    &lt;meta charset=\"UTF-8\"&gt;    &lt;title&gt;ç½‘ç»œ Axios&lt;/title&gt;    &lt;script src=\"https://cdn.jsdelivr.net/npm/vue@2.5.21/dist/vue.js\"&gt;&lt;/script&gt;    &lt;script src=\"https://unpkg.com/axios/dist/axios.min.js\"&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div id=\"app\"&gt;    &lt;div&gt;åç§°ï¼š&lt;/div&gt;    &lt;div&gt;åœ°å€ï¼š--&lt;/div&gt;    &lt;div&gt;é“¾æ¥ï¼š&lt;a v-bind:href=\"info.url\" target=\"_blank\"&gt;&lt;/a&gt; &lt;/div&gt;&lt;/div&gt;&lt;script type=\"text/javascript\"&gt;    let vm = new Vue({        el: '#app',        data() {            return {                info: {                    name: null,                    address: {                        country: null,                        city: null,                        street: null                    },                    url: null                }            }        },        mounted() {            axios                .get('data.json')                .then(response =&gt; (this.info = response.data));        }    });&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;Vue å¸ƒå±€è¡¨å•è¡¨å•ä¸­ä½¿ç”¨åŒå‘æ•°æ®ç»‘å®š:  ç”¨ v-model æŒ‡ä»¤åœ¨è¡¨å• &lt;input&gt;ã€&lt;textarea&gt; åŠ &lt;select&gt; å…ƒç´ ä¸Šåˆ›å»ºåŒå‘æ•°æ®ç»‘å®šã€‚::: tip æç¤ºv-model ä¼šå¿½ç•¥æ‰€æœ‰è¡¨å•å…ƒç´ çš„ valueã€checkedã€selected ç‰¹æ€§çš„åˆå§‹å€¼è€Œæ€»æ˜¯å°† Vue å®ä¾‹çš„æ•°æ®ä½œä¸ºæ•°æ®æ¥æºã€‚ä½ åº”è¯¥é€šè¿‡ JavaScript åœ¨ç»„ä»¶çš„ data é€‰é¡¹ä¸­å£°æ˜åˆå§‹å€¼ã€‚:::  å•è¡Œæ–‡æœ¬``` html&lt;!DOCTYPE html&gt;        å•è¡Œæ–‡æœ¬         å•è¡Œæ–‡æœ¬ï¼š&nbsp;&nbsp;å•è¡Œæ–‡æœ¬æ˜¯ï¼š+ å¤šè¡Œæ–‡æœ¬``` html&lt;div id=\"app\"&gt;    å¤šè¡Œæ–‡æœ¬ï¼š&lt;textarea v-model=\"message\"&gt;&lt;/textarea&gt;&amp;nbsp;&amp;nbsp;å¤šè¡Œæ–‡æœ¬æ˜¯ï¼š&lt;/div&gt;  å•å¤é€‰æ¡†&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;    &lt;meta charset=\"UTF-8\"&gt;    &lt;title&gt;å•å¤é€‰æ¡†&lt;/title&gt;    &lt;script src=\"https://cdn.jsdelivr.net/npm/vue@2.5.21/dist/vue.js\"&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div id=\"app\"&gt;    å•å¤é€‰æ¡†ï¼š&lt;input type=\"checkbox\" id=\"checkbox\" v-model=\"checked\"&gt;&amp;nbsp;&amp;nbsp;&lt;label for=\"checkbox\"&gt;&lt;/label&gt;&lt;/div&gt;&lt;script type=\"text/javascript\"&gt;    let vm = new Vue({        el: '#app',        data: {            checked: false        }    });&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;  å¤šå¤é€‰æ¡†&lt;div id=\"app\"&gt;    å¤šå¤é€‰æ¡†ï¼š    &lt;input type=\"checkbox\" id=\"jack\" value=\"Jack\" v-model=\"checkedNames\"&gt;    &lt;label for=\"jack\"&gt;Jack&lt;/label&gt;    &lt;input type=\"checkbox\" id=\"john\" value=\"John\" v-model=\"checkedNames\"&gt;    &lt;label for=\"john\"&gt;John&lt;/label&gt;    &lt;input type=\"checkbox\" id=\"mike\" value=\"Mike\" v-model=\"checkedNames\"&gt;    &lt;label for=\"mike\"&gt;Mike&lt;/label&gt;    &lt;span&gt;é€‰ä¸­çš„å€¼: &lt;/span&gt;&lt;/div&gt;&lt;script type=\"text/javascript\"&gt;    let vm = new Vue({        el: '#app',        data: {            checkedNames: []        }    });&lt;/script&gt;  å•é€‰æŒ‰é’®&lt;div id=\"app\"&gt;    å•é€‰æŒ‰é’®ï¼š    &lt;input type=\"radio\" id=\"one\" value=\"One\" v-model=\"picked\"&gt;    &lt;label for=\"one\"&gt;One&lt;/label&gt;    &lt;input type=\"radio\" id=\"two\" value=\"Two\" v-model=\"picked\"&gt;    &lt;label for=\"two\"&gt;Two&lt;/label&gt;    &lt;span&gt;é€‰ä¸­çš„å€¼: &lt;/span&gt;&lt;/div&gt;&lt;script type=\"text/javascript\"&gt;    let vm = new Vue({        el: '#app',        data: {            picked: ''        }    });&lt;/script&gt;  ä¸‹æ‹‰æ¡†&lt;div id=\"app\"&gt;    ä¸‹æ‹‰æ¡†ï¼š    &lt;select v-model=\"selected\"&gt;        &lt;option disabled value=\"\"&gt;è¯·é€‰æ‹©&lt;/option&gt;        &lt;option&gt;A&lt;/option&gt;        &lt;option&gt;B&lt;/option&gt;        &lt;option&gt;C&lt;/option&gt;    &lt;/select&gt;    &lt;span&gt;é€‰ä¸­çš„å€¼: &lt;/span&gt;&lt;/div&gt;&lt;script type=\"text/javascript\"&gt;    var vm = new Vue({        el: '#app',        data: {            selected: ''        }    });&lt;/script&gt;::: warning æç¤ºå¦‚æœ v-model è¡¨è¾¾å¼çš„åˆå§‹å€¼æœªèƒ½åŒ¹é…ä»»ä½•é€‰é¡¹ï¼Œ&lt;select&gt; å…ƒç´ å°†è¢«æ¸²æŸ“ä¸ºâ€œæœªé€‰ä¸­â€çŠ¶æ€ã€‚åœ¨ iOS ä¸­ï¼Œè¿™ä¼šä½¿ç”¨æˆ·æ— æ³•é€‰æ‹©ç¬¬ä¸€ä¸ªé€‰é¡¹ã€‚å› ä¸ºè¿™æ ·çš„æƒ…å†µä¸‹ï¼ŒiOS ä¸ä¼šè§¦å‘ change äº‹ä»¶ã€‚å› æ­¤ï¼Œæ¨èåƒä¸Šé¢æä¾›ä¸€ä¸ªå€¼ä¸ºç©ºçš„ç¦ç”¨é€‰é¡¹ã€‚:::ç»„ä»¶  ç»„ä»¶æ˜¯å¯å¤ç”¨çš„ Vue å®ä¾‹ï¼Œå°±æ˜¯ä¸€ç»„å¯ä»¥é‡å¤ä½¿ç”¨çš„æ¨¡æ¿å®é™…å¼€å‘ä¸­é‡‡ç”¨ vue-cli åˆ›å»º .vue æ¨¡æ¿æ–‡ä»¶çš„æ–¹å¼å¼€å‘  ä½¿ç”¨ Vue.component() æ–¹æ³•æ³¨å†Œç»„ä»¶  ä½¿ç”¨ props å±æ€§ä¼ é€’å‚æ•°``` html                ## vue-cli### ä»€ä¹ˆæ˜¯ vue-cli&gt; `vue-cli` å®˜æ–¹æä¾›çš„ä¸€ä¸ªè„šæ‰‹æ¶ï¼ˆé¢„å…ˆå®šä¹‰å¥½çš„ç›®å½•ç»“æ„åŠåŸºç¡€ä»£ç ï¼Œå’±ä»¬åœ¨åˆ›å»º Maven é¡¹ç›®æ—¶å¯ä»¥é€‰æ‹©åˆ›å»ºä¸€ä¸ªéª¨æ¶é¡¹ç›®ï¼Œè¿™ä¸ªéª¨æ¶é¡¹ç›®å°±æ˜¯è„šæ‰‹æ¶ï¼›å¯ä»¥å‚è€ƒæˆ‘ä»¥å‰å†™çš„ LeeSite é¡¹ç›®éª¨æ¶ç”Ÿæˆå·¥å…·ï¼‰ï¼Œç”¨äºå¿«é€Ÿç”Ÿæˆä¸€ä¸ª vue çš„é¡¹ç›®æ¨¡æ¿+ å®‰è£… vue-cliã€‚`npm install vue-cli -g`+ æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸã€‚`vue list`### vue-cliä¸»è¦åŠŸèƒ½+ ç»Ÿä¸€çš„ç›®å½•ç»“æ„+ æœ¬åœ°è°ƒè¯•+ çƒ­éƒ¨ç½²+ å•å…ƒæµ‹è¯•+ é›†æˆæ‰“åŒ…ä¸Šçº¿### vue-cliåˆå§‹åŒ–åº”ç”¨ç¨‹åº1. åˆ›å»ºä¸€ä¸ªåŸºäº webpack æ¨¡æ¿çš„ vue åº”ç”¨ç¨‹åºï¼šmyvue æ˜¯é¡¹ç›®åç§°ï¼Œå¯è‡ªå®šä¹‰åç§°vue init webpack myvue2. åˆå§‹åŒ–è¯´æ˜ï¼š  + `project name`ï¼šé¡¹ç›®åç§°ï¼Œé»˜è®¤ å›è½¦ å³å¯  + `project description`ï¼šé¡¹ç›®æè¿°ï¼Œé»˜è®¤ å›è½¦ å³å¯  + `author`ï¼šé¡¹ç›®ä½œè€…ï¼Œé»˜è®¤ å›è½¦ å³å¯  + `install vue-router`ï¼šæ˜¯å¦å®‰è£… vue-routerï¼Œé€‰æ‹© n ä¸å®‰è£…ï¼ˆåæœŸéœ€è¦å†æ‰‹åŠ¨æ·»åŠ ï¼‰  + `use eslint to lint your code`ï¼šæ˜¯å¦ä½¿ç”¨ `eslint` åšä»£ç æ£€æŸ¥ï¼Œé€‰æ‹© n ä¸å®‰è£…ï¼ˆåæœŸéœ€è¦å†æ‰‹åŠ¨æ·»åŠ ï¼‰  + `set up unit tests`ï¼šå•å…ƒæµ‹è¯•ç›¸å…³ï¼Œé€‰æ‹© n ä¸å®‰è£…ï¼ˆåæœŸéœ€è¦å†æ‰‹åŠ¨æ·»åŠ ï¼‰  + `setup e2e tests with nightwatch`ï¼šå•å…ƒæµ‹è¯•ç›¸å…³ï¼Œé€‰æ‹© n ä¸å®‰è£…ï¼ˆåæœŸéœ€è¦å†æ‰‹åŠ¨æ·»åŠ ï¼‰  + `should we run npm install for you after the project has been created`ï¼šåˆ›å»ºå®Œæˆåç›´æ¥åˆå§‹åŒ–ï¼Œé€‰æ‹© nï¼Œæˆ‘ä»¬æ‰‹åŠ¨æ‰§è¡Œ3. è¿è¡Œç¨‹åºcd myvuenpm installnpm run dev4. å®‰è£…å¹¶è¿è¡ŒæˆåŠŸååœ¨æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:8080## Webpack### Webpack ç®€ä»‹&gt; Webpack æ˜¯å½“ä¸‹æœ€çƒ­é—¨çš„å‰ç«¯èµ„æºæ¨¡å—åŒ–ç®¡ç†å’Œæ‰“åŒ…å·¥å…·ï¼Œå®ƒå¯ä»¥å°†è®¸å¤šæ¾æ•£è€¦åˆçš„æ¨¡å—æŒ‰ç…§ä¾èµ–å’Œè§„åˆ™æ‰“åŒ…æˆç¬¦åˆç”Ÿäº§ç¯å¢ƒéƒ¨ç½²çš„å‰ç«¯èµ„æºã€‚è¿˜å¯ä»¥å°†æŒ‰éœ€åŠ è½½çš„æ¨¡å—è¿›è¡Œä»£ç åˆ†ç¦»ï¼Œç­‰åˆ°å®é™…éœ€è¦æ—¶å†å¼‚æ­¥åŠ è½½ã€‚é€šè¿‡ loader è½¬æ¢ï¼Œä»»ä½•å½¢å¼çš„èµ„æºéƒ½å¯ä»¥å½“åšæ¨¡å—ï¼Œæ¯”å¦‚ CommonsJSã€AMDã€ES6ã€CSSã€JSONã€CoffeeScriptã€LESS ç­‰ï¼›### Webpack å®‰è£…- å®‰è£…npm install webpack -gnpm install webpack-cli -g- é…ç½®  åˆ›å»º webpack.config.js é…ç½®æ–‡ä»¶  + `entry`ï¼šå…¥å£æ–‡ä»¶ï¼ŒæŒ‡å®š WebPack ç”¨å“ªä¸ªæ–‡ä»¶ä½œä¸ºé¡¹ç›®çš„å…¥å£  + `output`ï¼šè¾“å‡ºï¼ŒæŒ‡å®š WebPack æŠŠå¤„ç†å®Œæˆçš„æ–‡ä»¶æ”¾ç½®åˆ°æŒ‡å®šè·¯å¾„  + `module`ï¼šæ¨¡å—ï¼Œç”¨äºå¤„ç†å„ç§ç±»å‹çš„æ–‡ä»¶  + `plugins`ï¼šæ’ä»¶ï¼Œå¦‚ï¼šçƒ­æ›´æ–°ã€ä»£ç é‡ç”¨ç­‰  + `resolve`ï¼šè®¾ç½®è·¯å¾„æŒ‡å‘  + `watch`ï¼šç›‘å¬ï¼Œç”¨äºè®¾ç½®æ–‡ä»¶æ”¹åŠ¨åç›´æ¥æ‰“åŒ…```javascriptmodule.exports = {    entry: \"\",    output: {        path: \"\",        filename: \"\"    },    module: {        loaders: [            {test: /\\.js$/, loader: \"\"}        ]    },    plugins: {},    resolve: {},    watch: true}  è¿è¡Œç›´æ¥è¿è¡Œ webpack å‘½ä»¤æ‰“åŒ…vue-router è·¯ç”±vue-router æ¦‚è¿°Vue Router æ˜¯ Vue.js å®˜æ–¹çš„è·¯ç”±ç®¡ç†å™¨ã€‚å®ƒå’Œ Vue.js çš„æ ¸å¿ƒæ·±åº¦é›†æˆï¼Œè®©æ„å»ºå•é¡µé¢åº”ç”¨å˜å¾—æ˜“å¦‚åæŒã€‚åŒ…å«çš„åŠŸèƒ½æœ‰ï¼š  åµŒå¥—çš„è·¯ç”±/è§†å›¾è¡¨  æ¨¡å—åŒ–çš„ã€åŸºäºç»„ä»¶çš„è·¯ç”±é…ç½®  è·¯ç”±å‚æ•°ã€æŸ¥è¯¢ã€é€šé…ç¬¦  åŸºäº Vue.js è¿‡æ¸¡ç³»ç»Ÿçš„è§†å›¾è¿‡æ¸¡æ•ˆæœ  ç»†ç²’åº¦çš„å¯¼èˆªæ§åˆ¶  å¸¦æœ‰è‡ªåŠ¨æ¿€æ´»çš„ CSS class çš„é“¾æ¥  HTML5 å†å²æ¨¡å¼æˆ– hash æ¨¡å¼ï¼Œåœ¨ IE9 ä¸­è‡ªåŠ¨é™çº§  è‡ªå®šä¹‰çš„æ»šåŠ¨æ¡è¡Œä¸º    vue-router å®‰è£…    æ‰“å¼€å‘½ä»¤è¡Œå·¥å…·ï¼Œè¿›å…¥ä½ çš„é¡¹ç›®ç›®å½•ï¼Œè¾“å…¥ä¸‹é¢å‘½ä»¤ã€‚npm install vue-router --save-dev  "
},

{
"title": "è½¯ä»¶è®¾è®¡åŸåˆ™",
"url": "/posts/%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/",
"categories": "è®¾è®¡æ¨¡å¼",
"tags": "è½¯ä»¶è®¾è®¡åŸåˆ™",
"date": "2019-05-12 10:39:06 +0800",







"snippet": "ä¸ƒå¤§åŸåˆ™å¼€ã€å£ã€åˆã€é‡Œã€æœ€ã€å•ã€ä¾å•ä¸€èŒè´£åŸåˆ™ï¼ˆSingle Responsibility Principleï¼‰æ¯ä¸€ä¸ªç±»åº”è¯¥ä¸“æ³¨äºåšä¸€ä»¶äº‹æƒ…ã€‚é‡Œæ°æ›¿æ¢åŸåˆ™ï¼ˆLiskov Substitution Principleï¼‰è¶…ç±»å­˜åœ¨çš„åœ°æ–¹ï¼Œå­ç±»æ˜¯å¯ä»¥æ›¿æ¢çš„ã€‚ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDependence Inversion Principleï¼‰å®ç°å°½é‡ä¾èµ–æŠ½è±¡ï¼Œä¸ä¾èµ–å…·ä½“å®ç°ã€‚æ¥å£éš”ç¦»åŸåˆ™ï¼ˆInterface ...",
"content": "ä¸ƒå¤§åŸåˆ™å¼€ã€å£ã€åˆã€é‡Œã€æœ€ã€å•ã€ä¾å•ä¸€èŒè´£åŸåˆ™ï¼ˆSingle Responsibility Principleï¼‰æ¯ä¸€ä¸ªç±»åº”è¯¥ä¸“æ³¨äºåšä¸€ä»¶äº‹æƒ…ã€‚é‡Œæ°æ›¿æ¢åŸåˆ™ï¼ˆLiskov Substitution Principleï¼‰è¶…ç±»å­˜åœ¨çš„åœ°æ–¹ï¼Œå­ç±»æ˜¯å¯ä»¥æ›¿æ¢çš„ã€‚ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDependence Inversion Principleï¼‰å®ç°å°½é‡ä¾èµ–æŠ½è±¡ï¼Œä¸ä¾èµ–å…·ä½“å®ç°ã€‚æ¥å£éš”ç¦»åŸåˆ™ï¼ˆInterface Segregation Principleï¼‰åº”å½“ä¸ºå®¢æˆ·ç«¯æä¾›å°½å¯èƒ½å°çš„å•ç‹¬çš„æ¥å£ï¼Œè€Œä¸æ˜¯æä¾›å¤§çš„æ€»çš„æ¥å£ã€‚è¿ªç±³ç‰¹æ³•åˆ™ï¼ˆLaw Of Demeterï¼‰åˆå«æœ€å°‘çŸ¥è¯†åŸåˆ™ï¼Œä¸€ä¸ªè½¯ä»¶å®ä½“åº”å½“å°½å¯èƒ½å°‘çš„ä¸å…¶ä»–å®ä½“å‘ç”Ÿç›¸äº’ä½œç”¨ã€‚å¼€é—­åŸåˆ™ï¼ˆOpen Close Principleï¼‰é¢å‘æ‰©å±•å¼€æ”¾ï¼Œé¢å‘ä¿®æ”¹å…³é—­ã€‚ç»„åˆ/èšåˆå¤ç”¨åŸåˆ™ï¼ˆComposite/Aggregate Reuse Principle CARPï¼‰å°½é‡ä½¿ç”¨åˆæˆ/èšåˆè¾¾åˆ°å¤ç”¨ï¼Œå°½é‡å°‘ç”¨ç»§æ‰¿ã€‚åŸåˆ™ï¼š ä¸€ä¸ªç±»ä¸­æœ‰å¦ä¸€ä¸ªç±»çš„å¯¹è±¡ã€‚"
},

{
"title": "Javaç±»çš„åŠ è½½æœºåˆ¶ä¸åƒåœ¾å›æ”¶",
"url": "/posts/Java%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/",
"categories": "java",
"tags": "java, Javaåƒåœ¾å›æ”¶",
"date": "2019-03-02 10:39:06 +0800",







"snippet": "ç±»çš„åŠ è½½æœºåˆ¶  åŠ è½½-&gt;éªŒè¯-&gt;å‡†å¤‡-&gt;è§£æ-&gt;åˆå§‹åŒ–-&gt;ä½¿ç”¨-&gt;å¸è½½ï¼Œ7ä¸ªé˜¶æ®µã€‚å…¶ä¸­éªŒè¯ã€å‡†å¤‡ã€è§£æ3ä¸ªéƒ¨åˆ†ç»Ÿç§°ä¸ºè¿æ¥ã€‚åŠ è½½  é€šè¿‡ä¸€ä¸ªç±»çš„å…¨é™å®šåæ¥è·å–ç±»çš„äºŒè¿›åˆ¶å­—èŠ‚æµã€‚  å°†è¿™ä¸ªå­—èŠ‚æµæ‰€ä»£è¡¨çš„é™æ€å‚¨å­˜ç»“æ„è½¬åŒ–ä¸ºæ–¹æ³•åŒºçš„è¿è¡Œæ—¶æ•°æ®ç»“æ„ã€‚  å†…å­˜ä¸­ç”Ÿæˆjava.lang.Classå¯¹è±¡ï¼ˆHotSpotä¸­å­˜äºæ–¹æ³•åŒºï¼‰ï¼Œä½œä¸ºæ–¹æ³•åŒºè¿™ä¸ªç±»çš„å„ç§æ•°æ®çš„è®¿é—®å…¥å£ã€‚...",
"content": "ç±»çš„åŠ è½½æœºåˆ¶  åŠ è½½-&gt;éªŒè¯-&gt;å‡†å¤‡-&gt;è§£æ-&gt;åˆå§‹åŒ–-&gt;ä½¿ç”¨-&gt;å¸è½½ï¼Œ7ä¸ªé˜¶æ®µã€‚å…¶ä¸­éªŒè¯ã€å‡†å¤‡ã€è§£æ3ä¸ªéƒ¨åˆ†ç»Ÿç§°ä¸ºè¿æ¥ã€‚åŠ è½½  é€šè¿‡ä¸€ä¸ªç±»çš„å…¨é™å®šåæ¥è·å–ç±»çš„äºŒè¿›åˆ¶å­—èŠ‚æµã€‚  å°†è¿™ä¸ªå­—èŠ‚æµæ‰€ä»£è¡¨çš„é™æ€å‚¨å­˜ç»“æ„è½¬åŒ–ä¸ºæ–¹æ³•åŒºçš„è¿è¡Œæ—¶æ•°æ®ç»“æ„ã€‚  å†…å­˜ä¸­ç”Ÿæˆjava.lang.Classå¯¹è±¡ï¼ˆHotSpotä¸­å­˜äºæ–¹æ³•åŒºï¼‰ï¼Œä½œä¸ºæ–¹æ³•åŒºè¿™ä¸ªç±»çš„å„ç§æ•°æ®çš„è®¿é—®å…¥å£ã€‚éªŒè¯  è¿™ä¸€é˜¶æ®µçš„ç›®çš„æ˜¯ä¸ºäº†ç¡®ä¿Classæ–‡ä»¶çš„å­—èŠ‚æµä¸­åŒ…å«çš„ä¿¡æ¯ç¬¦åˆå½“å‰è™šæ‹Ÿæœºçš„è¦æ±‚ï¼Œå¹¶ä¸”ä¸ä¼šå±å®³è™šæ‹Ÿæœºè‡ªèº«çš„å®‰å…¨å‡†å¤‡  ä¸ºç±»çš„é™æ€å˜é‡åˆ†é…å†…å­˜ï¼Œå¹¶å°†å…¶åˆå§‹åŒ–ä¸ºé»˜è®¤å€¼ã€‚åŸºæœ¬æ•°æ®ç±»å‹åˆå§‹å€¼ä¸º0,å¼•ç”¨æ•°æ®ç±»å‹åˆå§‹å€¼ä¸ºnullè§£æ  å°†ç±»çš„äºŒè¿›åˆ¶æ•°æ®ä¸­çš„ç¬¦å·å¼•ç”¨å…¨éƒ¨æ›¿æ¢ä¸ºç›´æ¥å¼•ç”¨ã€‚åˆå§‹åŒ–  ä¸ºç±»çš„é™æ€å˜é‡èµ‹äºˆæ­£ç¡®çš„åˆå§‹å€¼ï¼ŒJVMè´Ÿè´£å¯¹ç±»è¿›è¡Œåˆå§‹åŒ–ï¼Œä¸»è¦å¯¹ç±»å˜é‡è¿›è¡Œåˆå§‹åŒ–      å£°æ˜ç±»å˜é‡æ˜¯æŒ‡å®šåˆå§‹å€¼    ä½¿ç”¨é™æ€ä»£ç å—ä¸ºç±»å˜é‡æŒ‡å®šåˆå§‹å€¼  GCï¼ˆåƒåœ¾å›æ”¶ï¼‰å›æ”¶ç®—æ³•æ ‡è®°æ¸…é™¤ç®—æ³•  æ ‡è®°-æ¸…é™¤ç®—æ³•ï¼ˆMark-Sweepï¼‰æ˜¯ä¸€ç§å¸¸è§çš„åŸºç¡€åƒåœ¾æ”¶é›†ç®—æ³•,å®ƒå°†åƒåœ¾æ”¶é›†åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µ:1.æ ‡è®°é˜¶æ®µ 2.æ¸…é™¤é˜¶æ®µæ•ˆç‡ä½ã€å›æ”¶çš„é¢‘ç‡é«˜å¤åˆ¶ç®—æ³•  å®ƒæŠŠå†…å­˜ç©ºé—´åˆ’ä¸ºä¸¤ä¸ªç›¸ç­‰çš„åŒºåŸŸï¼Œæ¯æ¬¡åªä½¿ç”¨å…¶ä¸­ä¸€ä¸ªåŒºåŸŸã€‚åƒåœ¾æ”¶é›†æ—¶ï¼Œéå†å½“å‰ä½¿ç”¨çš„åŒºåŸŸï¼ŒæŠŠå­˜æ´»å¯¹è±¡å¤åˆ¶åˆ°å¦å¤–ä¸€ä¸ªåŒºåŸŸä¸­ï¼Œæœ€åå°†å½“å‰ä½¿ç”¨çš„åŒºåŸŸçš„å¯å›æ”¶çš„å¯¹è±¡è¿›è¡Œå›æ”¶è¿è¡Œé«˜æ•ˆä½†å¯ç”¨çš„å†…å­˜å¤§å°ç¼©å°äº†ä¸€åŠæ ‡è®°æ•´ç†ç®—æ³•  æ ‡è®°å¯å›æ”¶çš„å¯¹è±¡åå°†æ‰€æœ‰å­˜æ´»çš„å¯¹è±¡å‹ç¼©åˆ°å†…å­˜çš„ä¸€ç«¯ï¼Œä½¿ä»–ä»¬ç´§å‡‘çš„æ’åˆ—åœ¨ä¸€èµ·ï¼Œç„¶åå¯¹ç«¯è¾¹ç•Œä»¥å¤–çš„å†…å­˜è¿›è¡Œå›æ”¶ã€‚å›æ”¶åï¼Œå·²ç”¨å’Œæœªç”¨çš„å†…å­˜éƒ½å„è‡ªä¸€è¾¹æ¯”æ ‡è®°-æ¸…é™¤ç®—æ³•è¿è¡Œæ•ˆç‡é«˜åˆ†ä»£æ”¶é›†ç®—æ³•  æ ¹æ®å¯¹è±¡çš„å­˜æ´»å‘¨æœŸå°†å†…å­˜åˆ’åˆ†ä¸º:å¹´è½»ä»£ã€è€å¹´ä»£ å’Œ æ°¸ä¹…ä»£  æ–°ç”Ÿä»£ï¼ˆYoung generationï¼‰          æ–°ç”Ÿä»£ä¸­å­˜åœ¨ä¸€ä¸ªEdenåŒºå’Œä¸¤ä¸ªSurvivoråŒºã€‚æ–°å¯¹è±¡ä¼šé¦–å…ˆåˆ†é…åœ¨Edenä¸­ï¼ˆå¦‚æœæ–°å¯¹è±¡è¿‡å¤§ï¼Œä¼šç›´æ¥åˆ†é…åœ¨è€å¹´ä»£ä¸­ï¼‰ã€‚åœ¨GCä¸­ï¼ŒEdenä¸­çš„å¯¹è±¡ä¼šè¢«ç§»åŠ¨åˆ°Survivorä¸­ï¼Œç›´è‡³å¯¹è±¡æ»¡è¶³ä¸€å®šçš„å¹´çºªï¼ˆå®šä¹‰ä¸ºç†¬è¿‡GCçš„æ¬¡æ•°ï¼‰ï¼Œä¼šè¢«ç§»åŠ¨åˆ°è€å¹´ä»£        è€å¹´ä»£ï¼ˆOld generationï¼‰          å ç”¨çš„ç©ºé—´è¦æ¯”æ–°ç”Ÿä»£å¤š,æ­£ç”±äºå…¶ç›¸å¯¹è¾ƒå¤§çš„ç©ºé—´ï¼Œå‘ç”Ÿåœ¨è€å¹´ä»£ä¸Šçš„GCè¦æ¯”æ–°ç”Ÿä»£è¦å°‘å¾—å¤šã€‚å¯¹è±¡ä»è€å¹´ä»£ä¸­æ¶ˆå¤±çš„è¿‡ç¨‹ï¼Œå¯ä»¥ç§°ä¹‹ä¸ºmajor GCï¼ˆæˆ–è€…full GCï¼‰ã€‚        æ°¸ä¹…ä»£ï¼ˆpermanent generationï¼‰          å‡ ä¹éƒ½æ˜¯é™æ€çš„å¹¶ä¸”å¾ˆå°‘è¢«å¸è½½å’Œå›æ”¶      åƒåœ¾å›æ”¶å™¨  åƒåœ¾æ”¶é›†å™¨å°±æ˜¯å†…å­˜å›æ”¶çš„å…·ä½“å®ç°  æ–°ç”Ÿä»£å›æ”¶å™¨ï¼šSerialã€ParNewã€Parallel Scavenge  è€å¹´ä»£å›æ”¶å™¨ï¼šSerial Oldã€Parallel Oldã€CMS  æ•´å †å›æ”¶å™¨ï¼šG1###å•çº¿ç¨‹åƒåœ¾å›æ”¶å™¨å•CPUçš„ç¯å¢ƒä¸‹ï¼Œå®ƒçš„åƒåœ¾æ¸…é™¤æ•ˆç‡æ¯”è¾ƒé«˜ã€‚  Serial          Serial å›æ”¶å™¨æ˜¯æœ€åŸºæœ¬çš„æ–°ç”Ÿä»£åƒåœ¾å›æ”¶å™¨ã€‚é‡‡ç”¨çš„æ˜¯-&gt;å¤åˆ¶ç®—æ³•        Serial Old          Serial Old å›æ”¶å™¨æ˜¯Serialå›æ”¶å™¨çš„è€ç”Ÿä»£ç‰ˆæœ¬ã€‚é‡‡ç”¨çš„æ˜¯-&gt;æ ‡è®°æ•´ç†ç®—æ³•      å¤šçº¿ç¨‹åƒåœ¾å›æ”¶å™¨  ParNew          å±äº Serial å›æ”¶å™¨çš„å¤šçº¿ç¨‹ç‰ˆæœ¬ï¼ŒåŒæ ·è¿è¡Œåœ¨æ–°ç”Ÿä»£åŒºåŸŸã€‚åœ¨ä¸åŒè¿è¡Œç¯å¢ƒä¸‹ï¼Œæ ¹æ®CPUæ ¸æ•°ï¼Œå¼€å¯ä¸åŒçš„çº¿ç¨‹æ•°ã€‚é‡‡ç”¨çš„æ˜¯-&gt;å¤åˆ¶ç®—æ³•        Parallel Scavenge          Parallel Scavenge å›æ”¶å™¨ä¹Ÿæ˜¯è¿è¡Œåœ¨æ–°ç”Ÿä»£åŒºåŸŸï¼Œå±äºå¤šçº¿ç¨‹çš„å›æ”¶å™¨ã€‚ParNew å›æ”¶å™¨æ˜¯é€šè¿‡æ§åˆ¶åƒåœ¾å›æ”¶çš„çº¿ç¨‹æ•°æ¥è¿›è¡Œå‚æ•°è°ƒæ•´ï¼Œæ›´å…³å¿ƒçš„æ˜¯ç¨‹åºè¿è¡Œçš„ååé‡ã€‚é‡‡ç”¨çš„æ˜¯-&gt;å¤åˆ¶ç®—æ³•        Parallel Old          Parallel Scavenge å›æ”¶å™¨çš„è€ç”Ÿä»£ç‰ˆæœ¬ï¼Œå±äºå¤šçº¿ç¨‹å›æ”¶å™¨ã€‚è€ƒè™‘äº† ååé‡ä¼˜å…ˆ è¿™ä¸€æŒ‡æ ‡ï¼Œéå¸¸é€‚åˆé‚£äº› æ³¨é‡ååé‡ å’Œ CPU èµ„æºæ•æ„Ÿ çš„åœºåˆã€‚é‡‡ç”¨çš„æ˜¯-&gt;æ ‡è®°æ•´ç†ç®—æ³•      çº¿ç¨‹æŸ¥çœ‹è¾…åŠ©å·¥å…·jstack  jstackæ˜¯javaè™šæ‹Ÿæœºè‡ªå¸¦çš„ä¸€ç§å †æ ˆè·Ÿè¸ªå·¥å…·ã€‚jstackç”¨äºæ‰“å°å‡ºç»™å®šçš„javaè¿›ç¨‹IDæˆ–core fileæˆ–è¿œç¨‹è°ƒè¯•æœåŠ¡çš„Javaå †æ ˆä¿¡æ¯ï¼Œå¦‚æœæ˜¯åœ¨64ä½æœºå™¨ä¸Šï¼Œéœ€è¦æŒ‡å®šé€‰é¡¹â€-J-d64â€ï¼ŒWindowsçš„jstackä½¿ç”¨æ–¹å¼åªæ”¯æŒä»¥ä¸‹çš„è¿™ç§æ–¹å¼ï¼šjstack -l pidçº¿ç¨‹çŠ¶æ€  NEW          çº¿ç¨‹åˆšåˆšè¢«åˆ›å»º,ä½†æ˜¯è¿˜æ²¡æœ‰è°ƒç”¨start()æ–¹æ³•ï¼Œjstackå‘½ä»¤ä¸ä¼šåˆ—å‡ºå¤„äºæ­¤çŠ¶æ€çš„çº¿ç¨‹ä¿¡æ¯        RUNNABLE          çº¿ç¨‹æ˜¯å¯è¿è¡Œçš„        BLOCKED          çº¿ç¨‹å¤„äºé˜»å¡çŠ¶æ€        WAITING          çº¿ç¨‹å¤„äºç­‰å¾…çŠ¶æ€        TIMED_WAITING          çº¿ç¨‹ç­‰å¾…æŒ‡å®šçš„æ—¶é—´        TERMINATED          çº¿ç¨‹ç»ˆæ­¢      jmapæŸ¥çœ‹Java å †ï¼ˆheapï¼‰ä½¿ç”¨æƒ…å†µjmap -heap pidå°†å†…å­˜ä½¿ç”¨çš„è¯¦ç»†æƒ…å†µè¾“å‡ºåˆ°æ–‡ä»¶ jmap - dump  pidjconsole  Jconsole ï¼ˆJava Monitoring and Management Consoleï¼‰ï¼Œä¸€ç§åŸºäºJMXçš„å¯è§†åŒ–ç›‘è§†ã€ç®¡ç†å·¥å…·  ç‚¹å‡»JDK/bin ç›®å½•ä¸‹é¢çš„jconsole.exe å³å¯å¯åŠ¨  ç„¶åä¼šè‡ªåŠ¨è‡ªåŠ¨æœç´¢æœ¬æœºè¿è¡Œçš„æ‰€æœ‰è™šæ‹Ÿæœºè¿›ç¨‹ã€‚  é€‰æ‹©å…¶ä¸­ä¸€ä¸ªè¿›ç¨‹å¯å¼€å§‹è¿›è¡Œç›‘æ§"
},

{
"title": "JVMé…ç½®",
"url": "/posts/JVM%E9%85%8D%E7%BD%AE/",
"categories": "java",
"tags": "java, jvm",
"date": "2019-03-01 10:39:06 +0800",







"snippet": "Javaå†…å­˜æ¨¡å‹æ¦‚å¿µ  Javaå†…å­˜æ¨¡å‹å³Java Memory Modelï¼Œç®€ç§°JMMã€‚JMMå®šä¹‰äº†Java è™šæ‹Ÿæœº(JVM)åœ¨è®¡ç®—æœºå†…å­˜(RAM)ä¸­çš„å·¥ä½œæ–¹å¼ã€‚JVMæ˜¯æ•´ä¸ªè®¡ç®—æœºè™šæ‹Ÿæ¨¡å‹ï¼Œæ‰€ä»¥JMMæ˜¯éš¶å±äºJVMçš„ã€‚Javaå†…å­˜æ¨¡å‹çš„å®ç°  åœ¨Javaä¸­æä¾›äº†ä¸€äº›å¹¶å‘å¤„ç†ç›¸å…³çš„å…³é”®å­—ï¼Œæ¯”å¦‚volatileã€synchronizedã€finalã€concurrenåŒ…ç­‰ã€‚å…¶å®è¿™äº›å°±æ˜¯Java...",
"content": "Javaå†…å­˜æ¨¡å‹æ¦‚å¿µ  Javaå†…å­˜æ¨¡å‹å³Java Memory Modelï¼Œç®€ç§°JMMã€‚JMMå®šä¹‰äº†Java è™šæ‹Ÿæœº(JVM)åœ¨è®¡ç®—æœºå†…å­˜(RAM)ä¸­çš„å·¥ä½œæ–¹å¼ã€‚JVMæ˜¯æ•´ä¸ªè®¡ç®—æœºè™šæ‹Ÿæ¨¡å‹ï¼Œæ‰€ä»¥JMMæ˜¯éš¶å±äºJVMçš„ã€‚Javaå†…å­˜æ¨¡å‹çš„å®ç°  åœ¨Javaä¸­æä¾›äº†ä¸€äº›å¹¶å‘å¤„ç†ç›¸å…³çš„å…³é”®å­—ï¼Œæ¯”å¦‚volatileã€synchronizedã€finalã€concurrenåŒ…ç­‰ã€‚å…¶å®è¿™äº›å°±æ˜¯Javaå†…å­˜æ¨¡å‹å°è£…äº†åº•å±‚çš„å®ç°åæä¾›ä½¿ç”¨çš„ä¸€äº›å…³é”®å­—ã€‚JVMé…ç½®java.lang.OutOfMemoryError: Java heap spaceåˆ†æï¼šè¿™æ˜¯æœ€å…¸å‹çš„å†…å­˜æ³„æ¼æ–¹å¼ï¼Œç®€å•è¯´å°±æ˜¯æ‰€æœ‰å †ç©ºé—´éƒ½è¢«æ— æ³•å›æ”¶çš„åƒåœ¾å¯¹è±¡å æ»¡ï¼Œè™šæ‹Ÿæœºæ— æ³•å†åœ¨åˆ†é…æ–°ç©ºé—´  è§£å†³ï¼šè¿™ç§æ–¹å¼è§£å†³èµ·æ¥ä¹Ÿæ¯”è¾ƒå®¹æ˜“ï¼Œä¸€èˆ¬å°±æ˜¯æ ¹æ®åƒåœ¾å›æ”¶å‰åæƒ…å†µå¯¹æ¯”ï¼ŒåŒæ—¶æ ¹æ®å¯¹è±¡å¼•ç”¨æƒ…å†µï¼ˆå¸¸è§çš„é›†åˆå¯¹è±¡å¼•ç”¨ï¼‰åˆ†æï¼ŒåŸºæœ¬éƒ½å¯ä»¥æ‰¾åˆ°æ³„æ¼ç‚¹ã€‚java.lang.OutOfMemoryError: PermGen space-XX:PermSize=N //æ–¹æ³•åŒº (æ°¸ä¹…ä»£) åˆå§‹å¤§å°-XX:MaxPermSize=N //æ–¹æ³•åŒº (æ°¸ä¹…ä»£) æœ€å¤§å¤§å°,è¶…è¿‡è¿™ä¸ªå€¼å°†ä¼šæŠ›å‡º OutOfMemoryError å¼‚å¸¸:java.lang.OutOfMemoryError: PermGenåˆ†æï¼šPermç©ºé—´è¢«å æ»¡ã€‚æ— æ³•ä¸ºæ–°çš„classåˆ†é…å­˜å‚¨ç©ºé—´è€Œå¼•å‘çš„å¼‚å¸¸ã€‚  è§£å†³ï¼š1. -XX:MaxPermSize=128m 2. æ¢ç”¨JDKã€‚æ¯”å¦‚JRocketã€‚java.lang.StackOverflowErroråˆ†æï¼šä¸€èˆ¬å°±æ˜¯é€’å½’æ²¡è¿”å›ï¼Œæˆ–è€…å¾ªç¯è°ƒç”¨é€ æˆçº¿ç¨‹å †æ ˆæ»¡  æ‰¾åˆ°ç›¸å…³ä»£ç å¤„ç†Fatal: Stack size too smallåˆ†æï¼šjavaä¸­ä¸€ä¸ªçº¿ç¨‹çš„ç©ºé—´å¤§å°æ˜¯æœ‰é™åˆ¶çš„ã€‚  è§£å†³ï¼šå¢åŠ çº¿ç¨‹æ ˆå¤§å°ã€‚-Xss2mã€‚ä½†è¿™ä¸ªé…ç½®æ— æ³•è§£å†³æ ¹æœ¬é—®é¢˜ï¼Œè¿˜è¦çœ‹ä»£ç éƒ¨åˆ†æ˜¯å¦æœ‰é€ æˆæ³„æ¼çš„éƒ¨åˆ†java.lang.OutOfMemoryError: unable to create new native threadåˆ†æï¼šç”±äºæ“ä½œç³»ç»Ÿæ²¡æœ‰è¶³å¤Ÿçš„èµ„æºæ¥äº§ç”Ÿè¿™ä¸ªçº¿ç¨‹é€ æˆçš„ã€‚  è§£å†³ï¼š1. é‡æ–°è®¾è®¡ç³»ç»Ÿå‡å°‘çº¿ç¨‹æ•°é‡ã€‚2. çº¿ç¨‹æ•°é‡ä¸èƒ½å‡å°‘çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡-Xsså‡å°å•ä¸ªçº¿ç¨‹å¤§å°ã€‚ä»¥ä¾¿èƒ½ç”Ÿäº§æ›´å¤šçš„çº¿ç¨‹ã€‚ä¸‰ç§ç±»å‹åƒåœ¾æ”¶é›†å™¨  ä¸²è¡Œæ”¶é›†å™¨Serialï¼šSerialã€Serial Oldã€‚å•çº¿ç¨‹ï¼Œé€‚ç”¨äºå†…å­˜å°çš„åµŒå…¥å¼è®¾å¤‡ã€‚    -XX:+UseSerialGC -XX:+UseSerialOldGC        å¹¶è¡Œæ”¶é›†å™¨Parallelï¼šParalel Scavengeã€Parallel Oldï¼Œååé‡ä¼˜å…ˆã€‚    -XX:+UseParallelGC  -XX:+UseParallelOldGC        å¹¶å‘æ”¶é›†å™¨Concurrentï¼šCMSã€G1ï¼Œåœé¡¿æ—¶é—´ä¼˜å…ˆã€‚    CMS: XX:+UseConcMarkSweepGC -XX:UseParNewGCG1: -XX:UseG1GC                      ä¼˜å…ˆè°ƒæ•´å †çš„å¤§å°ï¼Œè®©JVMè‡ªå·±æ¥é€‰æ‹©ï¼›        å¦‚æœå†…å­˜å°äº100Mï¼Œä½¿ç”¨ä¸²è¡Œæ”¶é›†å™¨ï¼›        å¦‚æœæ˜¯å•æ ¸ï¼Œå¹¶æ²¡æœ‰åœé¡¿æ—¶é—´çš„è¦æ±‚ï¼Œä¸²è¡Œæˆ–JVMè‡ªå·±é€‰ï¼›        å¦‚æœå…è®¸åœé¡¿æ—¶é—´è¶…è¿‡1ç§’ï¼Œé€‰æ‹©å¹¶è¡Œæˆ–JVMè‡ªå·±é€‰ï¼›        å¦‚æœå“åº”æ—¶é—´éå¸¸é‡è¦ï¼Œå¹¶ä¸”ä¸èƒ½è¶…è¿‡1ç§’ï¼Œä½¿ç”¨å¹¶å‘æ”¶é›†å™¨ï¼›            æ¨èçš„jvmæ¨¡ç‰ˆ-Xmx4g â€“Xms4g â€“Xmn1200m â€“Xss512k -XX:NewRatio=4 -XX:SurvivorRatio=8 -XX:PermSize=100m -XX:MaxTenuringThreshold=15 JAVA_OPTS=\"$JAVA_OPTS -server -Xms3G -Xmx3G -Xss256k -XX:PermSize=64m -XX:MaxPermSize=128m -XX:+UseParallelOldGC -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/usr/aaa/dump -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -Xloggc:/usr/aaa/dump/heap_trace.txt -XX:NewSize=512m -XX:MaxNewSize=1G\"jdk1.7 6V8G -server -Xms4g -Xmx4g -Xmn2g -Xss768k -XX:PermSize=512m -XX:MaxPermSize=512m -XX:+UseConcMarkSweepGC -XX:+UseParNewGC -XX:+CMSClassUnloadingEnabled -XX:+DisableExplicitGC -XX:+UseCMSInitiatingOccupancyOnly -XX:CMSInitiatingOccupancyFraction=68 -verbose:gc -XX:+PrintGCDetails -Xloggc:{CATALINA_BASE}/logs/gc.log -XX:+PrintGCDateStamps -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath={CATALINA_BASE}/logs å‰å°jdk1.7 8V8G -server -Xms4g -Xmx4g -Xmn2g -Xss768k -XX:PermSize=512m -XX:MaxPermSize=512m -XX:+UseConcMarkSweepGC -XX:+UseParNewGC -XX:+CMSClassUnloadingEnabled -XX:+DisableExplicitGC -XX:+UseCMSInitiatingOccupancyOnly -XX:CMSInitiatingOccupancyFraction=68 -verbose:gc -XX:+PrintGCDetails -Xloggc:{CATALINA_BASE}/logs/gc.log -XX:+PrintGCDateStamps -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath={CATALINA_BASE}/logs å‰å°jdk1.7 4V8G -server -Xms4g -Xmx4g -Xmn2g -Xss768k -XX:PermSize=512m -XX:MaxPermSize=512m -XX:+UseConcMarkSweepGC -XX:+UseParNewGC -XX:+CMSClassUnloadingEnabled -XX:+DisableExplicitGC -XX:+UseCMSInitiatingOccupancyOnly -XX:CMSInitiatingOccupancyFraction=68 -verbose:gc -XX:+PrintGCDetails -Xloggc:{CATALINA_BASE}/logs/gc.log -XX:+PrintGCDateStamps -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath={CATALINA_BASE}/logs å‰å°jdk1.7 6V8G -server -Xms4g -Xmx4g -XX:MaxPermSize=512m \\-verbose:gc -XX:+PrintGCDetails -Xloggc{CATALINA_BASE}/logs/gc.log -XX:+PrintGCTimeStamps \\ åå°      -Xmx4gï¼šå †å†…å­˜æœ€å¤§å€¼ä¸º4GBã€‚é»˜è®¤(MaxHeapFreeRatioå‚æ•°å¯ä»¥è°ƒæ•´)ç©ºä½™å †å†…å­˜å¤§äº70%æ—¶ï¼ŒJVMä¼šå‡å°‘å †ç›´åˆ°-Xmsçš„æœ€å°é™åˆ¶ã€‚    -Xms4gï¼šåˆå§‹åŒ–å †å†…å­˜å¤§å°ä¸º4GBã€‚é»˜è®¤ä¸ºç‰©ç†å†…å­˜çš„1/64(å°äº1GB)ã€‚    -Xmn1200mï¼šè®¾ç½®å¹´è½»ä»£å¤§å°ä¸º1200MBã€‚å¢å¤§å¹´è½»ä»£åï¼Œå°†ä¼šå‡å°å¹´è€ä»£å¤§å°ã€‚æ­¤å€¼å¯¹ç³»ç»Ÿæ€§èƒ½å½±å“è¾ƒå¤§ï¼ŒSunå®˜æ–¹æ¨èé…ç½®ä¸ºæ•´ä¸ªå †çš„3/8ã€‚    -Xss512kï¼šè®¾ç½®æ¯ä¸ªçº¿ç¨‹çš„å †æ ˆå¤§å°ã€‚JDK5.0ä»¥åæ¯ä¸ªçº¿ç¨‹å †æ ˆå¤§å°ä¸º1MBï¼Œä»¥å‰æ¯ä¸ªçº¿ç¨‹å †æ ˆå¤§å°ä¸º256Kã€‚åº”æ ¹æ®åº”ç”¨çº¿ç¨‹æ‰€éœ€å†…å­˜å¤§å°è¿›è¡Œè°ƒæ•´ã€‚åœ¨ç›¸åŒç‰©ç†å†…å­˜ä¸‹ï¼Œå‡å°è¿™ä¸ªå€¼èƒ½ç”Ÿæˆæ›´å¤šçš„çº¿ç¨‹ã€‚ä½†æ˜¯æ“ä½œç³»ç»Ÿå¯¹ä¸€ä¸ªè¿›ç¨‹å†…çš„çº¿ç¨‹æ•°è¿˜æ˜¯æœ‰é™åˆ¶çš„ï¼Œä¸èƒ½æ— é™ç”Ÿæˆï¼Œç»éªŒå€¼åœ¨3000~5000å·¦å³ã€‚    -XX:NewRatio=4ï¼šè®¾ç½®å¹´è½»ä»£ï¼ˆåŒ…æ‹¬Edenå’Œä¸¤ä¸ªSurvivoråŒºï¼‰ä¸å¹´è€ä»£çš„æ¯”å€¼ï¼ˆé™¤å»æŒä¹…ä»£ï¼‰ã€‚è®¾ç½®ä¸º4ï¼Œåˆ™å¹´è½»ä»£ä¸å¹´è€ä»£æ‰€å æ¯”å€¼ä¸º1ï¼š4ï¼Œå¹´è½»ä»£å æ•´ä¸ªå †æ ˆçš„1/5    -XX:SurvivorRatio=8ï¼šè®¾ç½®å¹´è½»ä»£ä¸­EdenåŒºä¸SurvivoråŒºçš„å¤§å°æ¯”å€¼ã€‚è®¾ç½®ä¸º8ï¼Œåˆ™ä¸¤ä¸ªSurvivoråŒºä¸ä¸€ä¸ªEdenåŒºçš„æ¯”å€¼ä¸º2:8ï¼Œä¸€ä¸ªSurvivoråŒºå æ•´ä¸ªå¹´è½»ä»£çš„1/10    -XX:PermSize=100mï¼šåˆå§‹åŒ–æ°¸ä¹…ä»£å¤§å°ä¸º100MBã€‚    -XX:MaxTenuringThreshold=15ï¼šè®¾ç½®åƒåœ¾æœ€å¤§å¹´é¾„ã€‚å¦‚æœè®¾ç½®ä¸º0çš„è¯ï¼Œåˆ™å¹´è½»ä»£å¯¹è±¡ä¸ç»è¿‡SurvivoråŒºï¼Œç›´æ¥è¿›å…¥å¹´è€ä»£ã€‚å¯¹äºå¹´è€ä»£æ¯”è¾ƒå¤šçš„åº”ç”¨ï¼Œå¯ä»¥æé«˜æ•ˆç‡ã€‚å¦‚æœå°†æ­¤å€¼è®¾ç½®ä¸ºä¸€ä¸ªè¾ƒå¤§å€¼ï¼Œåˆ™å¹´è½»ä»£å¯¹è±¡ä¼šåœ¨SurvivoråŒºè¿›è¡Œå¤šæ¬¡å¤åˆ¶ï¼Œè¿™æ ·å¯ä»¥å¢åŠ å¯¹è±¡å†å¹´è½»ä»£çš„å­˜æ´»æ—¶é—´ï¼Œå¢åŠ åœ¨å¹´è½»ä»£å³è¢«å›æ”¶çš„æ¦‚è®ºã€‚  å‚è€ƒé“¾æ¥  https://blog.csdn.net/wangshuminjava/article/details/107041189https://www.liaoxuefeng.com/article/1336345083510818https://snailclimb.gitee.io/javaguide-interview/#/./docs/b-4jvm"
},

{
"title": "ç¬¬ä¸€ä¸ª Thymeleaf é¡µé¢",
"url": "/posts/Thymeleaf%E9%A1%B5%E9%9D%A2/",
"categories": "å‰ç«¯",
"tags": "å‰ç«¯, Thymeleaf",
"date": "2019-01-03 10:39:06 +0800",







"snippet": "ç¬¬ä¸€ä¸ª Thymeleaf é¡µé¢å¼•å…¥ä¾èµ–ä¸»è¦å¢åŠ spring-boot-starter-thymeleafå’Œnekohtmlè¿™ä¸¤ä¸ªä¾èµ–  spring-boot-starter-thymeleafï¼šThymeleaf è‡ªåŠ¨é…ç½®  nekohtmlï¼šå…è®¸ä½¿ç”¨éä¸¥æ ¼çš„ HTML è¯­æ³•å®Œæ•´çš„pom.xmlå¦‚ä¸‹ï¼š``` xml&lt;?xml version=â€1.0â€ encoding=â€UTF-...",
"content": "ç¬¬ä¸€ä¸ª Thymeleaf é¡µé¢å¼•å…¥ä¾èµ–ä¸»è¦å¢åŠ spring-boot-starter-thymeleafå’Œnekohtmlè¿™ä¸¤ä¸ªä¾èµ–  spring-boot-starter-thymeleafï¼šThymeleaf è‡ªåŠ¨é…ç½®  nekohtmlï¼šå…è®¸ä½¿ç”¨éä¸¥æ ¼çš„ HTML è¯­æ³•å®Œæ•´çš„pom.xmlå¦‚ä¸‹ï¼š``` xml&lt;?xml version=â€1.0â€ encoding=â€UTF-8â€?&gt;    4.0.0    com.tangyuewei    hello-spring-boot    0.0.1-SNAPSHOT    jar    hello-spring-boot                org.springframework.boot        spring-boot-starter-parent        2.1.6.RELEASE                         UTF-8        UTF-8        1.8                            org.springframework.boot            spring-boot-starter-web                            org.springframework.boot            spring-boot-starter-tomcat                            org.springframework.boot            spring-boot-starter-thymeleaf                            org.springframework.boot            spring-boot-starter-actuator                            org.springframework.boot            spring-boot-starter-test            test                            net.sourceforge.nekohtml            nekohtml            1.9.22                                                    org.springframework.boot                spring-boot-maven-plugin                                    com.tangyuewei.hello.spring.boot.HelloSpringBootApplication                                        ## é…ç½® Thymeleafåœ¨`application.yml`é…ç½® Thymeleaf``` yamlspring:  thymeleaf:    cache: false # å¼€å‘æ—¶å…³é—­ç¼“å­˜,ä¸ç„¶æ²¡æ³•çœ‹åˆ°å®æ—¶é¡µé¢    mode: HTML # ç”¨éä¸¥æ ¼çš„ HTML    encoding: UTF-8    servlet:      content-type: text/htmlåˆ›å»ºæµ‹è¯•ç”¨ JavaBeanåˆ›å»ºä¸€ä¸ªæµ‹è¯•æ•ˆæœçš„ JavaBeanï¼Œç®€å•å°è£…ä¸€ä¸‹å³å¯package com.tangyuewei.hello.spring.boot.entity;import java.io.Serializable;public class PersonBean implements Serializable {    private String name;    private Integer age;    public String getName() {        return name;    }    public void setName(String name) {        this.name = name;    }    public Integer getAge() {        return age;    }    public void setAge(Integer age) {        this.age = age;    }}åˆ›å»ºæµ‹è¯•ç”¨ Controlleråˆ›å»ºä¸€ä¸ªControllerï¼Œé€ ä¸€äº›æµ‹è¯•æ•°æ®å¹¶è®¾ç½®è·³è½¬package com.tangyuewei.hello.spring.boot.controller;import com.tangyuewei.hello.spring.boot.entity.PersonBean;import org.springframework.stereotype.Controller;import org.springframework.ui.Model;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;import java.util.ArrayList;import java.util.List;@Controller@RequestMapping(value = \"thymeleaf\")public class IndexController {    @RequestMapping(value = \"index\", method = RequestMethod.GET)    public String index(Model model) {        PersonBean person = new PersonBean();        person.setName(\"å¼ ä¸‰\");        person.setAge(22);        List&lt;PersonBean&gt; people = new ArrayList&lt;&gt;();        PersonBean p1 = new PersonBean();        p1.setName(\"æå››\");        p1.setAge(23);        people.add(p1);        PersonBean p2 = new PersonBean();        p2.setName(\"ç‹äº”\");        p2.setAge(24);        people.add(p2);        PersonBean p3 = new PersonBean();        p3.setName(\"èµµå…­\");        p3.setAge(25);        people.add(p3);        model.addAttribute(\"person\", person);        model.addAttribute(\"people\", people);        return \"index\";    }}åˆ›å»ºæµ‹è¯•é¡µé¢åœ¨templatesç›®å½•ä¸‹åˆ›å»ºindex.htmlæ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š&lt;!DOCTYPE html SYSTEM \"http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd\"&gt;&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:th=\"http://www.thymeleaf.org\"&gt;&lt;head&gt;    &lt;meta charset=\"UTF-8\"&gt;    &lt;title&gt;Hello Thymeleaf&lt;/title&gt;&lt;/head&gt;&lt;body&gt;    &lt;div&gt;        &lt;span&gt;è®¿é—® Modelï¼š&lt;/span&gt;&lt;span th:text=\"${person.name}\"&gt;&lt;/span&gt;    &lt;/div&gt;    &lt;div&gt;        &lt;span&gt;è®¿é—®åˆ—è¡¨&lt;/span&gt;        &lt;table&gt;            &lt;thead&gt;                &lt;tr&gt;                    &lt;th&gt;å§“å&lt;/th&gt;                    &lt;th&gt;å¹´é¾„&lt;/th&gt;                &lt;/tr&gt;            &lt;/thead&gt;            &lt;tbody&gt;                &lt;tr th:each=\"human : ${people}\"&gt;                    &lt;td th:text=\"${human.name}\"&gt;&lt;/td&gt;                    &lt;td th:text=\"${human.age}\"&gt;&lt;/td&gt;                &lt;/tr&gt;            &lt;/tbody&gt;        &lt;/table&gt;    &lt;/div&gt;&lt;/body&gt;&lt;/html&gt;æµ‹è¯•è®¿é—®å¯åŠ¨æˆåŠŸåï¼Œè®¿é—®ï¼šhttp://localhost:9090/thymeleaf/index å³å¯çœ‹åˆ°æ•ˆæœ"
},

{
"title": "Thymeleaf ç®€ä»‹",
"url": "/posts/Thymeleaf-%E7%AE%80%E4%BB%8B/",
"categories": "å‰ç«¯",
"tags": "å‰ç«¯, Thymeleaf",
"date": "2019-01-02 10:39:06 +0800",







"snippet": "Thymeleaf ç®€ä»‹ä»€ä¹ˆæ˜¯ Thymeleaf  Thymeleaf æ˜¯ä¸€ä¸ªè·Ÿ Velocityã€FreeMarker ç±»ä¼¼çš„æ¨¡æ¿å¼•æ“ï¼Œå®ƒå¯ä»¥å®Œå…¨æ›¿ä»£ JSP ã€‚ç›¸è¾ƒä¸å…¶ä»–çš„æ¨¡æ¿å¼•æ“ï¼Œå®ƒæœ‰å¦‚ä¸‹ä¸‰ä¸ªæå¸å¼•äººçš„ç‰¹ç‚¹  Thymeleaf åœ¨æœ‰ç½‘ç»œå’Œæ— ç½‘ç»œçš„ç¯å¢ƒä¸‹çš†å¯è¿è¡Œï¼Œå³å®ƒå¯ä»¥è®©ç¾å·¥åœ¨æµè§ˆå™¨æŸ¥çœ‹é¡µé¢çš„é™æ€æ•ˆæœï¼Œä¹Ÿå¯ä»¥è®©ç¨‹åºå‘˜åœ¨æœåŠ¡å™¨æŸ¥çœ‹å¸¦æ•°æ®çš„åŠ¨æ€é¡µé¢æ•ˆæœã€‚è¿™æ˜¯ç”±äºå®ƒæ”¯æŒ html åŸå‹ï¼Œ...",
"content": "Thymeleaf ç®€ä»‹ä»€ä¹ˆæ˜¯ Thymeleaf  Thymeleaf æ˜¯ä¸€ä¸ªè·Ÿ Velocityã€FreeMarker ç±»ä¼¼çš„æ¨¡æ¿å¼•æ“ï¼Œå®ƒå¯ä»¥å®Œå…¨æ›¿ä»£ JSP ã€‚ç›¸è¾ƒä¸å…¶ä»–çš„æ¨¡æ¿å¼•æ“ï¼Œå®ƒæœ‰å¦‚ä¸‹ä¸‰ä¸ªæå¸å¼•äººçš„ç‰¹ç‚¹  Thymeleaf åœ¨æœ‰ç½‘ç»œå’Œæ— ç½‘ç»œçš„ç¯å¢ƒä¸‹çš†å¯è¿è¡Œï¼Œå³å®ƒå¯ä»¥è®©ç¾å·¥åœ¨æµè§ˆå™¨æŸ¥çœ‹é¡µé¢çš„é™æ€æ•ˆæœï¼Œä¹Ÿå¯ä»¥è®©ç¨‹åºå‘˜åœ¨æœåŠ¡å™¨æŸ¥çœ‹å¸¦æ•°æ®çš„åŠ¨æ€é¡µé¢æ•ˆæœã€‚è¿™æ˜¯ç”±äºå®ƒæ”¯æŒ html åŸå‹ï¼Œç„¶ååœ¨ html æ ‡ç­¾é‡Œå¢åŠ é¢å¤–çš„å±æ€§æ¥è¾¾åˆ°æ¨¡æ¿ + æ•°æ®çš„å±•ç¤ºæ–¹å¼ã€‚æµè§ˆå™¨è§£é‡Š html æ—¶ä¼šå¿½ç•¥æœªå®šä¹‰çš„æ ‡ç­¾å±æ€§ï¼Œæ‰€ä»¥ thymeleaf çš„æ¨¡æ¿å¯ä»¥é™æ€åœ°è¿è¡Œï¼›å½“æœ‰æ•°æ®è¿”å›åˆ°é¡µé¢æ—¶ï¼ŒThymeleaf æ ‡ç­¾ä¼šåŠ¨æ€åœ°æ›¿æ¢æ‰é™æ€å†…å®¹ï¼Œä½¿é¡µé¢åŠ¨æ€æ˜¾ç¤ºã€‚  Thymeleaf å¼€ç®±å³ç”¨çš„ç‰¹æ€§ã€‚å®ƒæä¾›æ ‡å‡†å’Œ Spring æ ‡å‡†ä¸¤ç§æ–¹è¨€ï¼Œå¯ä»¥ç›´æ¥å¥—ç”¨æ¨¡æ¿å®ç° JSTLã€ OGNL è¡¨è¾¾å¼æ•ˆæœï¼Œé¿å…æ¯å¤©å¥—æ¨¡æ¿ã€æ”¹ JSTLã€æ”¹æ ‡ç­¾çš„å›°æ‰°ã€‚åŒæ—¶å¼€å‘äººå‘˜ä¹Ÿå¯ä»¥æ‰©å±•å’Œåˆ›å»ºè‡ªå®šä¹‰çš„æ–¹è¨€ã€‚  Thymeleaf æä¾› Spring æ ‡å‡†æ–¹è¨€å’Œä¸€ä¸ªä¸ SpringMVC å®Œç¾é›†æˆçš„å¯é€‰æ¨¡å—ï¼Œå¯ä»¥å¿«é€Ÿçš„å®ç°è¡¨å•ç»‘å®šã€å±æ€§ç¼–è¾‘å™¨ã€å›½é™…åŒ–ç­‰åŠŸèƒ½ã€‚ä¸ºä»€ä¹ˆéœ€è¦ Thymeleaf  å¦‚æœå¸Œæœ›ä»¥ Jar å½¢å¼å‘å¸ƒæ¨¡å—åˆ™å°½é‡ä¸è¦ä½¿ç”¨ JSP ç›¸å…³çŸ¥è¯†ï¼Œè¿™æ˜¯å› ä¸º JSP åœ¨å†…åµŒçš„ Servlet å®¹å™¨ä¸Šè¿è¡Œæœ‰ä¸€äº›é—®é¢˜ (å†…åµŒ Tomcatã€ Jetty ä¸æ”¯æŒ Jar å½¢å¼è¿è¡Œ JSPï¼ŒUndertow ä¸æ”¯æŒ JSP)ã€‚Spring Boot ä¸­æ¨èä½¿ç”¨ Thymeleaf ä½œä¸ºæ¨¡æ¿å¼•æ“ï¼Œå› ä¸º Thymeleaf æä¾›äº†å®Œç¾çš„ Spring MVC æ”¯æŒï¼ŒSpring Boot æä¾›äº†å¤§é‡æ¨¡æ¿å¼•æ“ï¼ŒåŒ…æ‹¬ï¼š  FreeMarker  Groovy  Mustache  Thymeleaf  Velocity  Beetl"
},

{
"title": "Spring Bootåº”ç”¨ç¨‹åº",
"url": "/posts/Spring-Boot%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F/",
"categories": "Spring Boot",
"tags": "Spring Boot, Spring Bootæ¡ˆä¾‹",
"date": "2019-01-01 10:39:06 +0800",







"snippet": "Spring Bootåº”ç”¨ç¨‹åºæ¦‚è¿°  Spring Bootæ˜¯ç”±Pivotalå›¢é˜Ÿæä¾›çš„å…¨æ–°æ¡†æ¶ï¼Œå…¶è®¾è®¡ç›®çš„æ˜¯ç”¨æ¥ç®€åŒ–æ–°Springåº”ç”¨çš„åˆå§‹æ­å»ºä»¥åŠå¼€å‘è¿‡ç¨‹ã€‚è¯¥æ¡†æ¶ä½¿ç”¨äº†ç‰¹å®šçš„æ–¹å¼æ¥è¿›è¡Œé…ç½®ï¼Œä»è€Œä½¿å¼€å‘äººå‘˜ä¸å†éœ€è¦å®šä¹‰æ ·æ¿åŒ–çš„é…ç½®ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒSpring Bootè‡´åŠ›äºåœ¨è“¬å‹ƒå‘å±•çš„å¿«é€Ÿåº”ç”¨å¼€å‘é¢†åŸŸ(rapid application development)æˆä¸ºé¢†å¯¼è€…ã€‚      åˆ›å»º...",
"content": "Spring Bootåº”ç”¨ç¨‹åºæ¦‚è¿°  Spring Bootæ˜¯ç”±Pivotalå›¢é˜Ÿæä¾›çš„å…¨æ–°æ¡†æ¶ï¼Œå…¶è®¾è®¡ç›®çš„æ˜¯ç”¨æ¥ç®€åŒ–æ–°Springåº”ç”¨çš„åˆå§‹æ­å»ºä»¥åŠå¼€å‘è¿‡ç¨‹ã€‚è¯¥æ¡†æ¶ä½¿ç”¨äº†ç‰¹å®šçš„æ–¹å¼æ¥è¿›è¡Œé…ç½®ï¼Œä»è€Œä½¿å¼€å‘äººå‘˜ä¸å†éœ€è¦å®šä¹‰æ ·æ¿åŒ–çš„é…ç½®ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒSpring Bootè‡´åŠ›äºåœ¨è“¬å‹ƒå‘å±•çš„å¿«é€Ÿåº”ç”¨å¼€å‘é¢†åŸŸ(rapid application development)æˆä¸ºé¢†å¯¼è€…ã€‚      åˆ›å»ºç‹¬ç«‹çš„Springåº”ç”¨ç¨‹åº        ç›´æ¥åµŒå…¥Tomcatï¼ŒJettyæˆ–Undertowï¼ˆæ— éœ€éƒ¨ç½²WARæ–‡ä»¶ï¼‰        æä¾›è‡ªä»¥ä¸ºæ˜¯çš„â€œå…¥é—¨â€ä¾èµ–é¡¹ä»¥ç®€åŒ–æ„å»ºé…ç½®        å°½å¯èƒ½è‡ªåŠ¨é…ç½®Springå’Œç¬¬ä¸‰æ–¹åº“        æä¾›ç”Ÿäº§å°±ç»ªåŠŸèƒ½ï¼Œä¾‹å¦‚æŒ‡æ ‡ï¼Œè¿è¡ŒçŠ¶å†µæ£€æŸ¥å’Œå¤–éƒ¨åŒ–é…ç½®    ç»å¯¹æ²¡æœ‰ä»£ç ç”Ÿæˆï¼Œä¹Ÿä¸éœ€è¦XMLé…ç½®    æ„å»ºç¬¬ä¸€ä¸ªSpring Bootåº”ç”¨    æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹spring-boot-sample`  åˆ›å»ºç›®å½•ç»“æ„    â””â”€â”€ src  â””â”€â”€ main      â””â”€â”€ java          â””â”€â”€ hello        æ–°å»ºpom.xmlæ–‡ä»¶          ``` xml&lt;?xml version=â€1.0â€ encoding=â€UTF-8â€?&gt;          4.0.0    org.springframework    gs-rest-service    0.1.0            org.springframework.boot        spring-boot-starter-parent        2.0.5.RELEASE                            org.springframework.boot            spring-boot-starter-web                            org.springframework.boot            spring-boot-starter-test            test                            com.jayway.jsonpath            json-path            test                        1.8                                            org.springframework.boot                spring-boot-maven-plugin                        - åœ¨```src/main/java/hello/```æ–°å»º```HelloController.java`````` javapackage hello;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestParam;import org.springframework.web.bind.annotation.RestController;@RestControllerpublic class HelloController {    @RequestMapping(\"/hello\")    public String hello(@RequestParam(value=\"name\", defaultValue=\"World\") String name) {        return \"Hello \" + name;    }}  åœ¨src/main/java/hello/æ–°å»ºApplication.java``` javapackage hello;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;@SpringBootApplicationpublic class Application {public static void main(String[] args) {    SpringApplication.run(Application.class, args);} } ``` - è®¿é—®```http://localhost:8080/hello```è¿”å›```Hello World```"
},

{
"title": "Redisç¬”è®°",
"url": "/posts/Redis%E7%AC%94%E8%AE%B0/",
"categories": "æ•°æ®åº“",
"tags": "æ•°æ®åº“, Redis, ç¼“å­˜",
"date": "2018-10-13 10:39:06 +0800",







"snippet": "Redisç®€ä»‹åœ¨çº¿rediså‘½ä»¤æµ‹è¯•  Redis æ˜¯ä¸€ä¸ªå¼€æºï¼ˆBSDè®¸å¯ï¼‰çš„ï¼Œå†…å­˜ä¸­çš„æ•°æ®ç»“æ„å­˜å‚¨ç³»ç»Ÿï¼Œå®ƒå¯ä»¥ç”¨ä½œæ•°æ®åº“ã€ç¼“å­˜å’Œæ¶ˆæ¯ä¸­é—´ä»¶ã€‚ æ”¯æŒå¤šç§ç±»å‹çš„æ•°æ®ç»“æ„ï¼Œå¦‚ å­—ç¬¦ä¸²ï¼ˆstringsï¼‰ï¼Œ æ•£åˆ—ï¼ˆhashesï¼‰ï¼Œ åˆ—è¡¨ï¼ˆlistsï¼‰ï¼Œ é›†åˆï¼ˆsetsï¼‰ï¼Œ æœ‰åºé›†åˆï¼ˆsorted setsï¼‰ ä¸èŒƒå›´æŸ¥è¯¢ï¼Œ bitmapsï¼Œ hyperloglogs å’Œ åœ°ç†ç©ºé—´ï¼ˆgeospatial...",
"content": "Redisç®€ä»‹åœ¨çº¿rediså‘½ä»¤æµ‹è¯•  Redis æ˜¯ä¸€ä¸ªå¼€æºï¼ˆBSDè®¸å¯ï¼‰çš„ï¼Œå†…å­˜ä¸­çš„æ•°æ®ç»“æ„å­˜å‚¨ç³»ç»Ÿï¼Œå®ƒå¯ä»¥ç”¨ä½œæ•°æ®åº“ã€ç¼“å­˜å’Œæ¶ˆæ¯ä¸­é—´ä»¶ã€‚ æ”¯æŒå¤šç§ç±»å‹çš„æ•°æ®ç»“æ„ï¼Œå¦‚ å­—ç¬¦ä¸²ï¼ˆstringsï¼‰ï¼Œ æ•£åˆ—ï¼ˆhashesï¼‰ï¼Œ åˆ—è¡¨ï¼ˆlistsï¼‰ï¼Œ é›†åˆï¼ˆsetsï¼‰ï¼Œ æœ‰åºé›†åˆï¼ˆsorted setsï¼‰ ä¸èŒƒå›´æŸ¥è¯¢ï¼Œ bitmapsï¼Œ hyperloglogs å’Œ åœ°ç†ç©ºé—´ï¼ˆgeospatialï¼‰ ç´¢å¼•åŠå¾„æŸ¥è¯¢ã€‚ Redis å†…ç½®äº† å¤åˆ¶ï¼ˆreplicationï¼‰ï¼ŒLUAè„šæœ¬ï¼ˆLua scriptingï¼‰ï¼Œ LRUé©±åŠ¨äº‹ä»¶ï¼ˆLRU evictionï¼‰ï¼Œäº‹åŠ¡ï¼ˆtransactionsï¼‰ å’Œä¸åŒçº§åˆ«çš„ ç£ç›˜æŒä¹…åŒ–ï¼ˆpersistenceï¼‰ï¼Œ å¹¶é€šè¿‡ Rediså“¨å…µï¼ˆSentinelï¼‰å’Œè‡ªåŠ¨ åˆ†åŒºï¼ˆClusterï¼‰æä¾›é«˜å¯ç”¨æ€§ï¼ˆhigh availabilityï¼‰ã€‚æ•°æ®ç±»å‹å­—ç¬¦ä¸²ï¼ˆstringsï¼‰&gt; set mykey somevalueOK&gt; get mykey\"somevalue\"  å½“keyå­˜åœ¨æ—¶SETä¼šå¤±è´¥ï¼Œå½“keyä¸å­˜åœ¨æ—¶å®ƒåªä¼šæˆåŠŸã€‚    &gt; set mykey newval nx(nil)        å½“keyä¸å­˜åœ¨æ—¶ä¼šå¤±è´¥ï¼Œå½“keyå­˜åœ¨æ—¶å®ƒä¼šæˆåŠŸå¹¶æ›´æ–°å€¼ã€‚    &gt; set mykey newval xxOK        åŸå­é€’å¢ï¼šè¿”å›é€’å¢åçš„å€¼::: tip æç¤ºkeyä¸å­˜åœ¨ä¼šåˆ›å»ºkeyï¼Œå¦‚æœkeyå­˜åœ¨ï¼Œä½†ä¸æ˜¯integerç±»å‹åˆ™ä¼šæŠ¥é”™å³ä½¿å¤šä¸ªå®¢æˆ·ç«¯å¯¹åŒä¸€ä¸ªkeyå‘å‡ºINCRå‘½ä»¤ï¼Œä¹Ÿå†³ä¸ä¼šå¯¼è‡´ç«äº‰çš„æƒ…å†µã€‚:::&gt; set counter 100OK&gt; incr counter(integer) 101&gt; incr counter(integer) 102&gt; incrby counter 50(integer) 152  åŸå­é€’å‡ï¼šè¿”å›é€’å‡åçš„å€¼    &gt; decr counter(integer) 151&gt; decrby counter 50(integer) 101        GETSETå‘½ä»¤ï¼Œè¡Œå¦‚å…¶åï¼šä»–ä¸ºkeyè®¾ç½®æ–°å€¼å¹¶ä¸”è¿”å›åŸå€¼ã€‚æ—¶é—´å¤æ‚åº¦ï¼šO(1)    redis&gt; INCR mycounter(integer) 1redis&gt; GETSET mycounter \"0\"\"1\"redis&gt; GET mycounter\"0\"redis&gt;        ä¸€æ¬¡å­˜å‚¨æˆ–è·å–å¤šä¸ªkeyå¯¹åº”çš„å€¼&gt; mset a 10 b 20 c 30OK&gt; mget a b c1) \"10\"2) \"20\"3) \"30\"  TYPEå‘½ä»¤å¯ä»¥è¿”å›keyå¯¹åº”çš„å€¼çš„å­˜å‚¨ç±»å‹,ä½¿ç”¨EXISTSå‘½ä»¤è¿”å›1æˆ–0æ ‡è¯†ç»™å®škeyçš„å€¼æ˜¯å¦å­˜åœ¨```          set mykey xOKtype mykeystringdel mykey(integer) 1type mykeynoneexists mykey(integer) 0      + Redisè¶…æ—¶:æ•°æ®åœ¨é™å®šæ—¶é—´å†…å­˜æ´»,TTLå‘½ä»¤ç”¨æ¥æŸ¥çœ‹keyå¯¹åº”çš„å€¼å‰©ä½™å­˜æ´»æ—¶é—´ã€‚  set key somevalueOKexpire key 5(integer) 1  set key 100 ex 10OKttl key(integer) 9### æ•£åˆ—ï¼ˆhashesï¼‰Hash ä¾¿äºè¡¨ç¤º objects, HMSET æŒ‡ä»¤è®¾ç½® hash ä¸­çš„å¤šä¸ªåŸŸï¼Œè€Œ HGET å–å›å•ä¸ªåŸŸã€‚HMGET å’Œ HGET ç±»ä¼¼ï¼Œè¿”å›å¤šåˆ—å€¼  hmset user:1000 username tyw birthyear 2020 verified 1OKhget user:1000 usernameâ€œtywâ€hget user:1000 birthyearâ€œ2020â€hgetall user:10001) â€œusernameâ€2) â€œtywâ€3) â€œbirthyearâ€4) â€œ2020â€5) â€œverifiedâ€6) â€œ1â€  hmget user:1000 username birthyear no-such-field1) â€œtywâ€2) â€œ2020â€3) (nil)+ HINCRBY&gt; å°çš„ hash è¢«ç”¨ç‰¹æ®Šæ–¹å¼ç¼–ç ï¼Œéå¸¸èŠ‚çº¦å†…å­˜  hincrby user:1000 birthyear 10(integer) 2030hdecrby user:1000 birthyear 10(integer) 2020```åˆ—è¡¨ï¼ˆlistsï¼‰  rpush mylist A å³è¾¹æ’å…¥,æˆ–è€…rpush mylist A B C 1 'dd'  lpush mylist first å·¦è¾¹æ’å…¥  lrange mylist 0 -1 åˆ—å‡ºå…ƒç´   rpop mylist å³è¾¹åˆ é™¤å…ƒç´ ï¼Œè¿”å›åˆ é™¤çš„å€¼ï¼Œå·¦è¾¹åˆ é™¤lpop mylist::: tip æç¤º-1è¡¨ç¤ºæœ€åä¸€ä¸ªå…ƒç´ ï¼Œ-2è¡¨ç¤ºlistä¸­çš„å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ ï¼Œä»¥æ­¤ç±»æ¨ã€‚          åº”ç”¨åœºæ™¯ï¼š 1.èŠå¤©ç³»ç»Ÿ2.ä¸åŒè¿›ç¨‹é—´ä¼ é€’æ¶ˆæ¯çš„é˜Ÿåˆ—ä¾‹å¦‚åœ¨è¯„çº§ç³»ç»Ÿä¸­ï¼Œæ¯”å¦‚ç¤¾ä¼šåŒ–æ–°é—»ç½‘ç«™ reddit.comï¼Œä½ å¯ä»¥æŠŠæ¯ä¸ªæ–°æäº¤çš„é“¾æ¥æ·»åŠ åˆ°ä¸€ä¸ªlistï¼Œç”¨LRANGEå¯ç®€å•çš„å¯¹ç»“æœåˆ†é¡µã€‚åœ¨åšå®¢å¼•æ“å®ç°ä¸­ï¼Œä½ å¯ä¸ºæ¯ç¯‡æ—¥å¿—è®¾ç½®ä¸€ä¸ªlistï¼Œåœ¨è¯¥listä¸­æ¨å…¥åšå®¢è¯„è®ºï¼Œç­‰ç­‰ã€‚:::      é›†åˆï¼ˆsetsï¼‰  Redis Set æ˜¯ String çš„æ— åºæ’åˆ—ã€‚SADD æŒ‡ä»¤æŠŠæ–°çš„å…ƒç´ æ·»åŠ åˆ° set ä¸­ã€‚å¯¹ set ä¹Ÿå¯åšä¸€äº›å…¶ä»–çš„æ“ä½œï¼Œæ¯”å¦‚æµ‹è¯•ä¸€ä¸ªç»™å®šçš„å…ƒç´ æ˜¯å¦å­˜åœ¨ï¼Œå¯¹ä¸åŒ set å–äº¤é›†ï¼Œå¹¶é›†æˆ–å·®ï¼Œç­‰ç­‰ã€‚&gt; sadd myset 1 2 3(integer) 3&gt; smembers myset1. 32. 13. 2      Redis æœ‰æ£€æµ‹æˆå‘˜çš„æŒ‡ä»¤sismember myset 3        Sets é€‚åˆç”¨äºè¡¨ç¤ºå¯¹è±¡é—´çš„å…³ç³»ã€‚å‡è®¾æˆ‘ä»¬æƒ³è¦ç»™æ–°é—»æ‰“ä¸Šæ ‡ç­¾sadd news:1000:tags 1 2 5 66        SINTER å‘½ä»¤è·å–ä¸åŒ set çš„äº¤é›†sinter tag:1:news tag:2:news tag:10:news tag:27:news        è¿”å›é›†åˆä¸­çš„æ‰€æœ‰æˆå‘˜smembers key        è·å–é›†åˆçš„æˆå‘˜æ•°scard key        è¿”å›ç»™å®šæ‰€æœ‰é›†åˆçš„å·®é›†sdiff key1 key2        è¿”å›ç»™å®šæ‰€æœ‰é›†åˆçš„å·®é›†å¹¶å­˜å‚¨åœ¨ dest ä¸­sdiffstore dest key1 key2        è¿”å›ç»™å®šæ‰€æœ‰é›†åˆçš„äº¤é›†sinter key1 key2        è¿”å›ç»™å®šæ‰€æœ‰é›†åˆçš„äº¤é›†å¹¶å­˜å‚¨åœ¨ dest ä¸­sinterstore dest key1 key2        å°† member å…ƒç´ ä» source é›†åˆç§»åŠ¨åˆ° dest é›†åˆsmove source dest member        ç§»é™¤å¹¶è¿”å›é›†åˆä¸­çš„ä¸€ä¸ªéšæœºå…ƒç´ spop key        è¿”å›é›†åˆä¸­ä¸€ä¸ªæˆ–å¤šä¸ªéšæœºæ•°srandmember key count        ç§»é™¤é›†åˆä¸­ä¸€ä¸ªæˆ–å¤šä¸ªæˆå‘˜srem key member1 member2        è¿”å›æ‰€æœ‰ç»™å®šé›†åˆçš„å¹¶é›†sunion key1 key2        æ‰€æœ‰ç»™å®šé›†åˆçš„å¹¶é›†å­˜å‚¨åœ¨ dest é›†åˆä¸­sunionstore dest key1 key2        è¿­ä»£é›†åˆä¸­çš„å…ƒç´ sscan key cursor [match pattern] [count count]  æœ‰åºé›†åˆï¼ˆsorted setsï¼‰  é›†åˆæ˜¯é€šè¿‡å“ˆå¸Œè¡¨å®ç°çš„ï¼Œæ‰€ä»¥æ·»åŠ ï¼Œåˆ é™¤ï¼ŒæŸ¥æ‰¾çš„å¤æ‚åº¦éƒ½æ˜¯O(1)ã€‚ é›†åˆä¸­æœ€å¤§çš„æˆå‘˜æ•°ä¸º 2çš„32æ¬¡æ–¹ -1 (4294967295,40å¤šäº¿ä¸ª)      å‘æœ‰åºé›†åˆæ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªæˆå‘˜ï¼Œæˆ–è€…æ›´æ–°å·²å­˜åœ¨æˆå‘˜çš„åˆ†æ•°zadd key score1 member1 score2 member2        è·å–æœ‰åºé›†åˆçš„æˆå‘˜æ•°zcard key        è®¡ç®—åœ¨æœ‰åºé›†åˆä¸­æŒ‡å®šåŒºé—´åˆ†æ•°çš„æˆå‘˜æ•°zcount key min max        æœ‰åºé›†åˆä¸­å¯¹æŒ‡å®šæˆå‘˜çš„åˆ†æ•°åŠ ä¸Šå¢é‡ incrementzincrby key increment member        è®¡ç®—ç»™å®šçš„ä¸€ä¸ªæˆ–å¤šä¸ªæœ‰åºé›†çš„äº¤é›†å¹¶å°†ç»“æœé›†å­˜å‚¨åœ¨æ–°çš„æœ‰åºé›†åˆ key ä¸­zinterstore destination numkeys key key1 ...        è¿”å›æœ‰åºé›†ä¸­ï¼Œæˆå‘˜çš„åˆ†æ•°å€¼zscore key member        è¿”å›æœ‰åºé›†åˆä¸­æŒ‡å®šæˆå‘˜çš„æ’åï¼Œæœ‰åºé›†æˆå‘˜æŒ‰åˆ†æ•°å€¼é€’å‡(ä»å¤§åˆ°å°)æ’åºzrevrank key member  æŒä¹…åŒ–  æŒä¹…åŒ–å°±æ˜¯æŠŠå†…å­˜çš„æ•°æ®å†™åˆ°ç£ç›˜ä¸­å»ï¼Œé˜²æ­¢æœåŠ¡å®•æœºäº†å†…å­˜æ•°æ®ä¸¢å¤±ã€‚RDB  RDBï¼šRedis DataBaseç¼©å†™,æ˜¯Redisé»˜è®¤çš„æŒä¹…åŒ–æ–¹å¼ã€‚æŒ‰ç…§ä¸€å®šçš„æ—¶é—´å°†å†…å­˜çš„æ•°æ®ä»¥å¿«ç…§çš„å½¢å¼ä¿å­˜åˆ°ç¡¬ç›˜ä¸­ï¼Œå¯¹åº”äº§ç”Ÿçš„æ•°æ®æ–‡ä»¶ä¸ºdump.rdbã€‚é€šè¿‡é…ç½®æ–‡ä»¶ä¸­çš„saveå‚æ•°æ¥å®šä¹‰å¿«ç…§çš„å‘¨æœŸã€‚ä¼˜ç‚¹ï¼š  åªæœ‰ä¸€ä¸ªæ–‡ä»¶ dump.rdbï¼Œæ–¹ä¾¿æŒä¹…åŒ–ã€‚  å®¹ç¾æ€§å¥½ï¼Œä¸€ä¸ªæ–‡ä»¶å¯ä»¥ä¿å­˜åˆ°å®‰å…¨çš„ç£ç›˜ã€‚  æ€§èƒ½æœ€å¤§åŒ–ï¼Œfork å­è¿›ç¨‹æ¥å®Œæˆå†™æ“ä½œï¼Œè®©ä¸»è¿›ç¨‹ç»§ç»­å¤„ç†å‘½ä»¤ï¼Œæ‰€ä»¥æ˜¯ IO æœ€å¤§åŒ–ï¼Œä¿è¯äº† redis çš„é«˜æ€§èƒ½ã€‚  ç›¸å¯¹äºæ•°æ®é›†å¤§æ—¶ï¼Œå¯åŠ¨æ•ˆç‡æ¯” AOF çš„æ›´é«˜ã€‚ç¼ºç‚¹ï¼šæ•°æ®å®‰å…¨æ€§è¾ƒä½ï¼Œé€‚åˆæ•°æ®è¦æ±‚ä¸æ˜¯å¾ˆä¸¥è°¨çš„æƒ…å†µä¸‹ä½¿ç”¨AOF  AOFå³Append Only FileæŒä¹…åŒ–ï¼Œåˆ™æ˜¯å°†Redisæ‰§è¡Œçš„æ¯æ¬¡å†™å‘½ä»¤è®°å½•åˆ°å•ç‹¬çš„æ—¥å¿—æ–‡ä»¶ä¸­ï¼Œå½“é‡å¯Redisä¼šé‡æ–°å°†æŒä¹…åŒ–çš„æ—¥å¿—ä¸­æ–‡ä»¶æ¢å¤æ•°æ®ã€‚å½“ä¸¤ç§æ–¹å¼åŒæ—¶å¼€å¯æ—¶ï¼Œæ•°æ®æ¢å¤Redisä¼šä¼˜å…ˆé€‰æ‹©AOFæ¢å¤ã€‚ä¼˜ç‚¹ï¼š  æ•°æ®å®‰å…¨ï¼Œaof æŒä¹…åŒ–å¯ä»¥é…ç½® appendfsync å±æ€§ï¼Œæœ‰ alwaysï¼Œæ¯è¿›è¡Œä¸€æ¬¡ å‘½ä»¤æ“ä½œå°±è®°å½•åˆ° aof æ–‡ä»¶ä¸­ä¸€æ¬¡ã€‚  é€šè¿‡ append æ¨¡å¼å†™æ–‡ä»¶ï¼Œå³ä½¿ä¸­é€”æœåŠ¡å™¨å®•æœºï¼Œå¯ä»¥é€šè¿‡ redis-check-aof å·¥å…·è§£å†³æ•°æ®ä¸€è‡´æ€§é—®é¢˜ã€‚  AOF æœºåˆ¶çš„ rewrite æ¨¡å¼ã€‚AOF æ–‡ä»¶æ²¡è¢« rewrite ä¹‹å‰ï¼ˆæ–‡ä»¶è¿‡å¤§æ—¶ä¼šå¯¹å‘½ä»¤ è¿›è¡Œåˆå¹¶é‡å†™ï¼‰ï¼Œå¯ä»¥åˆ é™¤å…¶ä¸­çš„æŸäº›å‘½ä»¤ï¼ˆæ¯”å¦‚è¯¯æ“ä½œçš„ flushallï¼‰ç¼ºç‚¹ï¼š  AOF æ–‡ä»¶æ¯” RDB æ–‡ä»¶å¤§ï¼Œä¸”æ¢å¤é€Ÿåº¦æ…¢  æ•°æ®é›†å¤§çš„æ—¶å€™ï¼Œå¯åŠ¨æ•ˆç‡æ¯” rdb ä½é›†ç¾¤æ–¹æ¡ˆå“¨å…µæ¨¡å¼  sentinelç”¨äºå®ç° redis é›†ç¾¤çš„é«˜å¯ç”¨ï¼Œæœ¬èº«ä¹Ÿæ˜¯åˆ†å¸ƒå¼çš„ï¼Œä½œä¸ºä¸€ä¸ªå“¨å…µé›†ç¾¤å»è¿è¡Œï¼Œäº’ç›¸ååŒå·¥ä½œã€‚æ ¸å¿ƒï¼š  å“¨å…µè‡³å°‘éœ€è¦ 3 ä¸ªå®ä¾‹ã€‚  å“¨å…µ + redis ä¸»ä»çš„éƒ¨ç½²æ¶æ„ï¼Œæ˜¯ä¸ä¿è¯æ•°æ®é›¶ä¸¢å¤±çš„ï¼Œåªèƒ½ä¿è¯ redis é›†ç¾¤çš„é«˜å¯ç”¨æ€§ã€‚å®˜æ–¹ Redis Cluster æ–¹æ¡ˆ(æ¨è)  Redis Clusteré‡‡ç”¨slot(æ§½)çš„æ¦‚å¿µï¼Œä¸€å…±åˆ†æˆ16384ä¸ªæ§½ã€‚å°†è¯·æ±‚å‘é€åˆ°ä»»æ„èŠ‚ç‚¹ï¼Œæ¥æ”¶åˆ°è¯·æ±‚çš„èŠ‚ç‚¹ä¼šå°†æŸ¥è¯¢è¯·æ±‚å‘é€åˆ°æ­£ç¡®çš„èŠ‚ç‚¹ä¸Šæ‰§è¡Œä¼˜ç‚¹ï¼š  æ— ä¸­å¿ƒæ¶æ„ï¼Œæ”¯æŒåŠ¨æ€æ‰©å®¹ï¼Œå¯¹ä¸šåŠ¡é€æ˜  å…·å¤‡Sentinelçš„ç›‘æ§å’Œè‡ªåŠ¨Failover(æ•…éšœè½¬ç§»)èƒ½åŠ›  å®¢æˆ·ç«¯ä¸éœ€è¦è¿æ¥é›†ç¾¤æ‰€æœ‰èŠ‚ç‚¹ï¼Œè¿æ¥é›†ç¾¤ä¸­ä»»ä½•ä¸€ä¸ªå¯ç”¨èŠ‚ç‚¹å³å¯  é«˜æ€§èƒ½ï¼Œå®¢æˆ·ç«¯ç›´è¿redisæœåŠ¡ï¼Œçœå»äº†proxyä»£ç†çš„æŸè€—ç¼ºç‚¹ï¼š  è¿ç»´å¾ˆå¤æ‚ï¼Œæ•°æ®è¿ç§»éœ€è¦äººå·¥å¹²é¢„  åªèƒ½ä½¿ç”¨0å·æ•°æ®åº“  ä¸æ”¯æŒæ‰¹é‡æ“ä½œ(pipelineç®¡é“æ“ä½œ)  åˆ†å¸ƒå¼é€»è¾‘å’Œå­˜å‚¨æ¨¡å—è€¦åˆç­‰ç¼“å­˜é›ªå´©  ç¼“å­˜æ•°æ®çš„è¿‡æœŸæ—¶é—´è®¾ç½®éšæœºï¼Œé˜²æ­¢åŒä¸€æ—¶é—´å¤§é‡æ•°æ®è¿‡æœŸç°è±¡å‘ç”Ÿã€‚  ä¸€èˆ¬å¹¶å‘é‡ä¸æ˜¯ç‰¹åˆ«å¤šçš„æ—¶å€™ï¼Œä½¿ç”¨æœ€å¤šçš„è§£å†³æ–¹æ¡ˆæ˜¯åŠ é”æ’é˜Ÿã€‚  ç»™æ¯ä¸€ä¸ªç¼“å­˜æ•°æ®å¢åŠ ç›¸åº”çš„ç¼“å­˜æ ‡è®°ï¼Œè®°å½•ç¼“å­˜çš„æ˜¯å¦å¤±æ•ˆï¼Œå¦‚æœç¼“å­˜æ ‡è®°å¤±æ•ˆï¼Œåˆ™æ›´æ–°æ•°æ®ç¼“å­˜ã€‚ç¼“å­˜ç©¿é€  è®¾ç½®çƒ­ç‚¹æ•°æ®æ°¸è¿œä¸è¿‡æœŸã€‚  åŠ äº’æ–¥é”ç¼“å­˜ä¸æ•°æ®åº“åŒå†™æ—¶çš„æ•°æ®ä¸ä¸€è‡´æ€§  å…ˆæ›´æ–°æ•°æ®åº“ï¼Œç„¶åå†åˆ é™¤ç¼“å­˜"
},

{
"title": "Mysqlç¬”è®°",
"url": "/posts/Mysql%E7%AC%94%E8%AE%B0/",
"categories": "æ•°æ®åº“",
"tags": "æ•°æ®åº“, Mysql",
"date": "2018-10-13 10:39:06 +0800",







"snippet": "mysqlä¸‹è½½å®‰è£…ä¸‹è½½åœ°å€: https://www.mysql.com/downloads/åˆ›å»ºå’Œä½¿ç”¨æ•°æ®åº“  ç™»å½•æ•°æ®åº“ï¼š    mysql -uroot -proot        æ˜¾ç¤ºæ•°æ®åº“ show databases;  åˆ›å»ºæ•°æ®åº“ create database test;  è®¿é—®æ•°æ®åº“ mysql&gt; use test;  æ˜¾ç¤ºè¡¨ show tables;  åˆ›å»ºè¡¨   ...",
"content": "mysqlä¸‹è½½å®‰è£…ä¸‹è½½åœ°å€: https://www.mysql.com/downloads/åˆ›å»ºå’Œä½¿ç”¨æ•°æ®åº“  ç™»å½•æ•°æ®åº“ï¼š    mysql -uroot -proot        æ˜¾ç¤ºæ•°æ®åº“ show databases;  åˆ›å»ºæ•°æ®åº“ create database test;  è®¿é—®æ•°æ®åº“ mysql&gt; use test;  æ˜¾ç¤ºè¡¨ show tables;  åˆ›å»ºè¡¨    create table `user` (  `id` int(11) not null auto_increment comment 'ä¸»é”®',  `username` varchar(48) default null comment 'ç”¨æˆ·å',  `password` varchar(48) default null comment 'å¯†ç ',  `create_time` timestamp not null default current_timestamp comment 'åˆ›å»ºæ—¶é—´',  `update_time` timestamp not null comment 'ä¿®æ”¹æ—¶é—´',  `state` int not null comment 'çŠ¶æ€',  primary key (`id`))engine=innodb default charset=utf8 comment='ç”¨æˆ·è¡¨';            æŸ¥çœ‹è¡¨ç»“æ„:describe user;æˆ–è€…desc user;    æ’å…¥æ•°æ®          å°†æ–‡æœ¬æ–‡ä»¶åŠ è½½pet.txtåˆ° petè¡¨ä¸­ï¼Œä½¿ç”¨ä»¥ä¸‹è¯­å¥ï¼šload data local infile '/path/user.txt' into table user;      æ™®é€šè„šæœ¬æ’å…¥ï¼š        insert into `user` values (1,'tyw','123','','',0);                      æ›´æ–°æ•°æ®    update `user` set username = 'tboss' where id = 1;        æŸ¥è¯¢æ•°æ®    select * from `è¡¨å`;      ç´¢å¼•  æŸ¥çœ‹è¡¨ç´¢å¼•show index from `è¡¨å`;show keys from `è¡¨å`;  åˆ›å»ºç´¢å¼•-- æ™®é€šç´¢å¼•create index index_username on `è¡¨å` (username);-- å…¨æ–‡ç´¢å¼•create fulltext index index_username on `è¡¨å` (username);-- ä¸»é”®ç´¢å¼•alter table `è¡¨å` add primary key (id);-- å¤–é”®ç´¢å¼•alter table `è¡¨å` add unique (id);  åˆ é™¤ç´¢å¼•drop index index_username on user;alter table user drop index index_username;-- åˆ é™¤ä¸»é”®ç´¢å¼•alter table user drop primary key;-- åˆ é™¤å¤–é”®ç´¢å¼•alter table user drop unique;ç´¢å¼•æŸ¥è¯¢æ³¨æ„  likeæ—¶â€œ%aa%â€ä¸ä¼šä½¿ç”¨ç´¢å¼•ï¼Œè€Œlike â€œaa%â€ä¼šä½¿ç”¨ç´¢å¼•  whereå­å¥ä¸­ä½¿ç”¨äº†ç´¢å¼•çš„è¯ï¼Œorder byä¸­çš„åˆ—ä¸ä¼šä½¿ç”¨ç´¢å¼•å­—æ®µæ“ä½œ  æ·»åŠ å­—æ®µ:    alter table user add column extend varchar(10) after id;        ä¿®æ”¹å­—æ®µ:    alter table user modify column extend varchar(11) not null comment 'å­—æ®µå¤‡æ³¨';alter table user change column extend extend1 varchar(11) default null comment 'å­—æ®µå¤‡æ³¨';        åˆ é™¤è¡¨å­—æ®µ:    alter table è¡¨å drop column å­—æ®µå;create table æ–°è¡¨å select å­—æ®µ1, å­—æ®µ2 from åŸè¡¨å;      æ•°æ®æ“çºµè¯­å¥(DML)  æŒ‡å®šåç§°æ’å…¥:insert into user (name,credate,sal,deptno) values ('zhangsan','2018-01-01','2000',1)  ä¸æŒ‡å®šåç§°æ’å…¥:insert into user values ('zhangsan','2018-01-01','2000',1)  æ‰¹é‡æ’å…¥æ•°æ®:insert into user values(1,'dept1'),(2,'dept2')  ä¿®æ”¹è®°å½•:update user set sal='4000',deptno=2 where ename='zhangsan'  åˆ é™¤è®°å½•:delete from user where ename='zhangsan'æŸ¥è¯¢  æŸ¥è¯¢æ‰€æœ‰è®°å½•ï¼šselect * from user  æŸ¥è¯¢ä¸é‡å¤çš„è®°å½•ï¼šselect distinct deptno from user  æ¡ä»¶æŸ¥è¯¢ï¼šselect * from user where deptno=1 and sal&lt;3000  æ’åºå’Œé™åˆ¶ï¼šselect * from user order by deptno desc limit 2  åˆ†é¡µæŸ¥è¯¢(æŸ¥è¯¢ä»ç¬¬0æ¡è®°å½•å¼€å§‹10æ¡)ï¼šselect * from user order by deptno desc limit 0,10  èšåˆ(æŸ¥è¯¢éƒ¨é—¨äººæ•°å¤§äº1çš„éƒ¨é—¨ç¼–å·)ï¼šselect deptno,count(1) from user group by deptno having count(1) &gt; 1  è¿æ¥æŸ¥è¯¢ï¼šselect * from user e left join user2 d on e.deptno=d.deptno  å­æŸ¥è¯¢ï¼šselect * from user where deptno in (select deptno from user2)  è®°å½•è”åˆï¼šselect deptno from user union select deptno from user2æ•°æ®æ§åˆ¶è¯­å¥(DCL)æƒé™ç›¸å…³  æˆäºˆæ“ä½œæƒé™(å°†testæ•°æ®åº“ä¸­æ‰€æœ‰è¡¨çš„selectå’Œinsertæƒé™æˆäºˆtestç”¨æˆ·)ï¼šgrant select,insert on test.* to 'test'@'localhost' identified by '123'  æŸ¥çœ‹è´¦å·æƒé™ï¼šshow grants for 'test'@'localhost'  æ”¶å›æ“ä½œæƒé™ï¼šrevoke insert on test.* from 'test'@'localhost'  æˆäºˆæ‰€æœ‰æ•°æ®åº“çš„æ‰€æœ‰æƒé™ï¼šgrant all privileges on *.* to 'test'@'localhost'  æˆäºˆæ‰€æœ‰æ•°æ®åº“çš„æ‰€æœ‰æƒé™(åŒ…æ‹¬grant)ï¼šgrant all privileges on *.* to 'test'@'localhost' with grant option  æˆäºˆSUPER PROCESS FILEæƒé™ï¼ˆç³»ç»Ÿæƒé™ä¸èƒ½æŒ‡å®šæ•°æ®åº“ï¼‰ï¼šgrant super,process,file on *.* to 'test'@'localhost'  åªæˆäºˆç™»å½•æƒé™ï¼šgrant usage on *.* to 'test'@'localhost'å¸å·ç›¸å…³  åˆ é™¤è´¦å·ï¼šdrop user 'test'@'localhost'  ä¿®æ”¹è‡ªå·±çš„å¯†ç ï¼šset password = password('123')  ç®¡ç†å‘˜ä¿®æ”¹ä»–äººå¯†ç ï¼šset password for 'test'@'localhost' = password('123')å…¶ä»–å­—ç¬¦é›†ç›¸å…³  æŸ¥çœ‹å­—ç¬¦é›†ï¼šshow variables like 'character%'  åˆ›å»ºæ•°æ®åº“æ—¶æŒ‡å®šå­—ç¬¦é›†ï¼šcreate database test2 character set utf8æ—¶åŒºç›¸å…³  æŸ¥çœ‹å½“å‰æ—¶åŒºï¼ˆUTCä¸ºä¸–ç•Œç»Ÿä¸€æ—¶é—´ï¼Œä¸­å›½ä¸ºUTC+8ï¼‰ï¼šshow variables like \"%time_zone%\"  ä¿®æ”¹mysqlå…¨å±€æ—¶åŒºä¸ºåŒ—äº¬æ—¶é—´ï¼Œå³æˆ‘ä»¬æ‰€åœ¨çš„ä¸œ8åŒºï¼šset global time_zone = '+8:00';  ä¿®æ”¹å½“å‰ä¼šè¯æ—¶åŒºï¼šset time_zone = '+8:00'  ç«‹å³ç”Ÿæ•ˆï¼šflush privilegesè¿æ¥æ•°(é»˜è®¤151 æœ€å¤§å¯ä»¥è¾¾åˆ°16384 è®¾ç½®åœ¨80% 13000å·¦å³æ¯”è¾ƒåˆé€‚)  MySQL: ERROR 1040: Too many connectionsè®¾ç½®è¾ƒå¤§çš„ max_connections å€¼æ—¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ•°æ®åº“å› æ¥å—äº†å¤ªå¤šçš„è¿æ¥è€Œæ€§èƒ½ä¸‹é™ï¼Œç”šè‡³å› ä¸ºèµ„æºè€—å°½è€Œæ— æ³•å“åº”çš„é£é™©æŸ¥çœ‹æœ€å¤§è¿æ¥æ•°è®¾ç½®show variables like '%max_connections%';æŸ¥çœ‹å½“å‰å®é™…æœ€å¤§ä½¿ç”¨è¿æ¥æ•°show global status like 'Max_used_connections';è®¾ç½®æœ€å¤§è¿æ¥æ•°# ç«‹å³ç”Ÿæ•ˆï¼Œé‡å¯åå¤±æ•ˆset GLOBAL max_connections=1000;# ä¿®æ”¹mysqlå®‰è£…ç›®å½•é…ç½®æ–‡ä»¶my.iniï¼Œâ€œmax_connectionsâ€çš„å€¼ï¼Œé»˜è®¤æœ€å¤§è¿æ¥æ•°æ˜¯100é‡å¯åç”Ÿæ•ˆæŸ¥çœ‹å½“å‰è¿›ç¨‹show processlist;ä¼˜åŒ–  è¡¨å…³è”æŸ¥è¯¢æ—¶åŠ¡å¿…éµå¾ª å°è¡¨é©±åŠ¨å¤§è¡¨ åŸåˆ™ï¼›  ä½¿ç”¨æŸ¥è¯¢è¯­å¥ where æ¡ä»¶æ—¶ï¼Œä¸å…è®¸å‡ºç° å‡½æ•°ï¼Œå¦åˆ™ç´¢å¼•ä¼šå¤±æ•ˆï¼›  ä½¿ç”¨å•è¡¨æŸ¥è¯¢æ—¶ï¼Œç›¸åŒå­—æ®µå°½é‡ä¸è¦ç”¨ ORï¼Œå› ä¸ºå¯èƒ½å¯¼è‡´ç´¢å¼•å¤±æ•ˆï¼Œæ¯”å¦‚ï¼šSELECT * FROM table WHERE name = â€˜zhangsanâ€™ OR name = â€˜lisiâ€™ï¼Œå¯ä»¥ä½¿ç”¨ UNION æ›¿ä»£ï¼›  LIKE è¯­å¥ä¸å…è®¸ä½¿ç”¨ % å¼€å¤´ï¼Œå¦åˆ™ç´¢å¼•ä¼šå¤±æ•ˆï¼›  ç»„åˆç´¢å¼•ä¸€å®šè¦éµå¾ª ä»å·¦åˆ°å³ åŸåˆ™ï¼Œå¦åˆ™ç´¢å¼•ä¼šå¤±æ•ˆï¼›æ¯”å¦‚ï¼šSELECT * FROM table WHERE name = â€˜å¼ ä¸‰â€™ AND age = 18ï¼Œé‚£ä¹ˆè¯¥ç»„åˆç´¢å¼•å¿…é¡»æ˜¯ name,age å½¢å¼ï¼›  ç´¢å¼•ä¸å®œè¿‡å¤šï¼Œæ ¹æ®å®é™…æƒ…å†µå†³å®šï¼Œå°½é‡ä¸è¦è¶…è¿‡ 10 ä¸ªï¼›  æ¯å¼ è¡¨éƒ½å¿…é¡»æœ‰ ä¸»é”®ï¼Œè¾¾åˆ°åŠ å¿«æŸ¥è¯¢æ•ˆç‡çš„ç›®çš„ï¼›  åˆ†è¡¨ï¼Œå¯æ ¹æ®ä¸šåŠ¡å­—æ®µå°¾æ•°ä¸­çš„ä¸ªä½æˆ–åä½æˆ–ç™¾ä½ï¼ˆä»¥æ­¤ç±»æ¨ï¼‰åšè¡¨åè¾¾åˆ°åˆ†è¡¨çš„ç›®çš„ï¼›  åˆ†åº“ï¼Œå¯æ ¹æ®ä¸šåŠ¡å­—æ®µå°¾æ•°ä¸­çš„ä¸ªä½æˆ–åä½æˆ–ç™¾ä½ï¼ˆä»¥æ­¤ç±»æ¨ï¼‰åšåº“åè¾¾åˆ°åˆ†åº“çš„ç›®çš„ï¼›  è¡¨åˆ†åŒºï¼Œç±»ä¼¼äºç¡¬ç›˜åˆ†åŒºï¼Œå¯ä»¥å°†æŸä¸ªæ—¶é—´æ®µçš„æ•°æ®æ”¾åœ¨åˆ†åŒºé‡Œï¼ŒåŠ å¿«æŸ¥è¯¢é€Ÿåº¦ï¼Œå¯ä»¥é…åˆ åˆ†è¡¨ + è¡¨åˆ†åŒº ç»“åˆä½¿ç”¨ï¼›åˆ é™¤å†—ä½™å’Œé‡å¤ç´¢å¼•//åä¾‹KEY `idx_userId` (`userId`)KEY `idx_userId_age` (`userId`,`age`)//æ­£ä¾‹ï¼Œåˆ é™¤userIdç´¢å¼•ï¼Œå› ä¸ºç»„åˆç´¢å¼•ï¼ˆAï¼ŒBï¼‰ç›¸å½“äºåˆ›å»ºäº†ï¼ˆAï¼‰å’Œï¼ˆAï¼ŒBï¼‰ç´¢å¼• KEY `idx_userId_age` (`userId`,`age`)  ç´¢å¼•ä¸å®œå¤ªå¤šï¼Œä¸€èˆ¬5ä¸ªä»¥å†…whereå­å¥ä¸­è€ƒè™‘ä½¿ç”¨é»˜è®¤å€¼ä»£æ›¿null//åä¾‹select * from user where age is not null;//æ­£ä¾‹ï¼Œè®¾ç½®0ä¸ºé»˜è®¤å€¼select * from user where age&gt;0;é¿å…åœ¨whereå­å¥ä¸­ä½¿ç”¨oræ¥è¿æ¥æ¡ä»¶//ä½¿ç”¨union allselect * from user where userid=1unionallselect * from use rwhere age = 18//æˆ–è€…åˆ†å¼€ä¸¤æ¡sqlå†™ï¼šselect * from user where userid=1select * from user where age = 18ä¼˜åŒ–likeè¯­å¥  æŠŠ%æ”¾å…³é”®å­—åé¢  select userIdï¼Œnamefrom user where userId like'123%';  é¿å…æ­»é”  ç†çš„è®¾è®¡ç´¢å¼•ï¼ŒåŒºåˆ†åº¦é«˜çš„åˆ—æ”¾åˆ°ç»„åˆç´¢å¼•å‰é¢ï¼Œä½¿ä¸šåŠ¡ SQL å°½å¯èƒ½é€šè¿‡ç´¢å¼•å®šä½æ›´å°‘çš„è¡Œï¼Œå‡å°‘é”ç«äº‰ã€‚  è°ƒæ•´ä¸šåŠ¡é€»è¾‘ SQL æ‰§è¡Œé¡ºåºï¼Œ é¿å… update/delete é•¿æ—¶é—´æŒæœ‰é”çš„ SQL åœ¨äº‹åŠ¡å‰é¢ã€‚  é¿å…å¤§äº‹åŠ¡ï¼Œå°½é‡å°†å¤§äº‹åŠ¡æ‹†æˆå¤šä¸ªå°äº‹åŠ¡æ¥å¤„ç†ï¼Œå°äº‹åŠ¡å‘ç”Ÿé”å†²çªçš„å‡ ç‡ä¹Ÿæ›´å°ã€‚  ä»¥å›ºå®šçš„é¡ºåºè®¿é—®è¡¨å’Œè¡Œã€‚æ¯”å¦‚ä¸¤ä¸ªæ›´æ–°æ•°æ®çš„äº‹åŠ¡ï¼Œäº‹åŠ¡ A æ›´æ–°æ•°æ®çš„é¡ºåºä¸º 1ï¼Œ2;äº‹åŠ¡ B æ›´æ–°æ•°æ®çš„é¡ºåºä¸º2ï¼Œ1ã€‚è¿™æ ·æ›´å¯èƒ½ä¼šé€ æˆæ­»é”ã€‚  åœ¨å¹¶å‘æ¯”è¾ƒé«˜çš„ç³»ç»Ÿä¸­ï¼Œä¸è¦æ˜¾å¼åŠ é”ï¼Œç‰¹åˆ«æ˜¯æ˜¯åœ¨äº‹åŠ¡é‡Œæ˜¾å¼åŠ é”ã€‚å¦‚ select â€¦ for update è¯­å¥ï¼Œå¦‚æœæ˜¯åœ¨äº‹åŠ¡é‡Œï¼ˆè¿è¡Œäº† start transaction æˆ–è®¾ç½®äº†autocommit ç­‰äº0ï¼‰,é‚£ä¹ˆå°±ä¼šé”å®šæ‰€æŸ¥æ‰¾åˆ°çš„è®°å½•ã€‚  å°½é‡æŒ‰ä¸»é”®/ç´¢å¼•å»æŸ¥æ‰¾è®°å½•ï¼ŒèŒƒå›´æŸ¥æ‰¾å¢åŠ äº†é”å†²çªçš„å¯èƒ½æ€§ï¼Œä¹Ÿä¸è¦åˆ©ç”¨æ•°æ®åº“åšä¸€äº›é¢å¤–é¢åº¦è®¡ç®—å·¥ä½œã€‚æ¯”å¦‚æœ‰çš„ç¨‹åºä¼šç”¨åˆ° â€œselect â€¦ where â€¦ order by rand();â€è¿™æ ·çš„è¯­å¥ï¼Œç”±äºç±»ä¼¼è¿™æ ·çš„è¯­å¥ç”¨ä¸åˆ°ç´¢å¼•ï¼Œå› æ­¤å°†å¯¼è‡´æ•´ä¸ªè¡¨çš„æ•°æ®éƒ½è¢«é”ä½ã€‚  ä¼˜åŒ– SQL å’Œè¡¨è®¾è®¡ï¼Œå‡å°‘åŒæ—¶å ç”¨å¤ªå¤šèµ„æºçš„æƒ…å†µã€‚æ¯”å¦‚è¯´ï¼Œå‡å°‘è¿æ¥çš„è¡¨ï¼Œå°†å¤æ‚ SQL åˆ†è§£ä¸ºå¤šä¸ªç®€å•çš„ SQLã€‚::: danger è­¦å‘Šåœ¨ä½¿ç”¨ MySQL æˆ– MariaDBï¼Œä¸è¦ç”¨â€œutf8â€ç¼–ç ï¼Œæ”¹ç”¨â€œutf8mb4â€ã€‚è¿™é‡Œï¼ˆhttps://mathiasbynens.be/notes/mysql-utf8mb4#utf8-to-utf8mb4ï¼‰æä¾›äº†ä¸€ä¸ªæŒ‡å—ç”¨äºå°†ç°æœ‰æ•°æ®åº“çš„å­—ç¬¦ç¼–ç ä»â€œutf8â€è½¬æˆâ€œutf8mb4â€ã€‚MySQL çš„â€œutf8mb4â€æ˜¯çœŸæ­£çš„â€œUTF-8â€ã€‚MySQL çš„â€œutf8â€æ˜¯ä¸€ç§â€œä¸“å±çš„ç¼–ç â€ï¼Œå®ƒèƒ½å¤Ÿç¼–ç çš„ Unicode å­—ç¬¦å¹¶ä¸å¤šã€‚:::ç¼“å­˜æ¸…ç†æŸ¥çœ‹æ˜¯å¦ç”Ÿæ•ˆselect @@query_cache_type;  1.åœ¨ query_cache_type æ‰“å¼€çš„æƒ…å†µä¸‹ï¼Œå¦‚æœä½ ä¸æƒ³ä½¿ç”¨ç¼“å­˜ï¼Œéœ€è¦æŒ‡æ˜select sql_no_cache id,name from tableName;2.å½“sqlä¸­ç”¨åˆ°mysqlå‡½æ•°ï¼Œä¹Ÿä¸ä¼šç¼“å­˜æŸ¥çœ‹ç¼“å­˜çš„çŠ¶æ€show status like '%Qcache%';            åç§°      å¤‡æ³¨                  Qcache_free_blocks      ç›®å‰è¿˜å¤„äºç©ºé—²çŠ¶æ€çš„ Query Cache ä¸­å†…å­˜ Block æ•°ç›®              Qcache_free_memory      ç›®å‰è¿˜å¤„äºç©ºé—²çŠ¶æ€çš„ Query Cache å†…å­˜æ€»é‡              Qcache_hits      Query Cache å‘½ä¸­æ¬¡æ•°              Qcache_inserts      å‘ Query Cache ä¸­æ’å…¥æ–°çš„ Query Cache çš„æ¬¡æ•°ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰å‘½ä¸­çš„æ¬¡æ•°              Qcache_lowmem_prunes      å½“ Query Cache å†…å­˜å®¹é‡ä¸å¤Ÿï¼Œéœ€è¦ä»ä¸­åˆ é™¤è€çš„ Query Cache ä»¥ç»™æ–°çš„ Cache å¯¹è±¡ä½¿ç”¨çš„æ¬¡æ•°              Qcache_not_cached      æ²¡æœ‰è¢« Cache çš„ SQL æ•°ï¼ŒåŒ…æ‹¬æ— æ³•è¢« Cache çš„ SQL ä»¥åŠç”±äº query_cache_type è®¾ç½®çš„ä¸ä¼šè¢« Cache çš„ SQL              Qcache_queries_in_cache      ç›®å‰åœ¨ Query Cache ä¸­çš„ SQL æ•°é‡              Qcache_total_blocks      Query Cache ä¸­æ€»çš„ Block æ•°é‡      ç¦ç”¨/å¼€å¯æŸ¥è¯¢ç¼“å­˜set session query_cache_type=off;set session query_cache_type=on;ç¼“å­˜æ¸…ç†FLUSH QUERY CACHE; -- æ¸…ç†æŸ¥è¯¢ç¼“å­˜å†…å­˜ç¢ç‰‡ã€‚RESET QUERY CACHE; -- ä»æŸ¥è¯¢ç¼“å­˜ä¸­ç§»å‡ºæ‰€æœ‰æŸ¥è¯¢ã€‚FLUSH TABLES; -- å…³é—­æ‰€æœ‰æ‰“å¼€çš„è¡¨ï¼ŒåŒæ—¶è¯¥æ“ä½œå°†ä¼šæ¸…ç©ºæŸ¥è¯¢ç¼“å­˜ä¸­çš„å†…å®¹ã€‚  å‚è€ƒèµ„æ–™"
},

{
"title": "MongoDBç¬”è®°",
"url": "/posts/MongoDB%E7%AC%94%E8%AE%B0/",
"categories": "æ•°æ®åº“",
"tags": "æ•°æ®åº“, MongoDB",
"date": "2018-10-13 10:39:06 +0800",







"snippet": "MongoDBæ¦‚è¿°å®˜ç½‘æ‰‹å†Œ  MongoDB æ˜¯ä¸€ä¸ªåŸºäºåˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨çš„æ•°æ®åº“ã€‚æ˜¯ç”±å­—æ®µå’Œå€¼å¯¹ç»„æˆçš„æ•°æ®ç»“æ„ã€‚MongoDBæ–‡æ¡£ç±»ä¼¼äºJSONå¯¹è±¡ã€‚å­—æ®µçš„å€¼å¯ä»¥åŒ…æ‹¬å…¶ä»–æ–‡æ¡£ï¼Œæ•°ç»„å’Œæ–‡æ¡£æ•°ç»„ã€‚ç‰¹ç‚¹é«˜æ€§èƒ½MongoDBæä¾›é«˜æ€§èƒ½æ•°æ®æŒä¹…æ€§ã€‚  å¯¹åµŒå…¥å¼æ•°æ®æ¨¡å‹çš„æ”¯æŒå‡å°‘äº†æ•°æ®åº“ç³»ç»Ÿçš„I / Oæ´»åŠ¨ã€‚  ç´¢å¼•æ”¯æŒæ›´å¿«çš„æŸ¥è¯¢ï¼Œå¹¶ä¸”å¯ä»¥åŒ…å«æ¥è‡ªåµŒå…¥å¼æ–‡æ¡£å’Œæ•°ç»„çš„é”®ã€‚é«˜å¯ç”¨æ€§MongoDBçš„å¤åˆ¶å·¥å…·ç§°ä¸º...",
"content": "MongoDBæ¦‚è¿°å®˜ç½‘æ‰‹å†Œ  MongoDB æ˜¯ä¸€ä¸ªåŸºäºåˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨çš„æ•°æ®åº“ã€‚æ˜¯ç”±å­—æ®µå’Œå€¼å¯¹ç»„æˆçš„æ•°æ®ç»“æ„ã€‚MongoDBæ–‡æ¡£ç±»ä¼¼äºJSONå¯¹è±¡ã€‚å­—æ®µçš„å€¼å¯ä»¥åŒ…æ‹¬å…¶ä»–æ–‡æ¡£ï¼Œæ•°ç»„å’Œæ–‡æ¡£æ•°ç»„ã€‚ç‰¹ç‚¹é«˜æ€§èƒ½MongoDBæä¾›é«˜æ€§èƒ½æ•°æ®æŒä¹…æ€§ã€‚  å¯¹åµŒå…¥å¼æ•°æ®æ¨¡å‹çš„æ”¯æŒå‡å°‘äº†æ•°æ®åº“ç³»ç»Ÿçš„I / Oæ´»åŠ¨ã€‚  ç´¢å¼•æ”¯æŒæ›´å¿«çš„æŸ¥è¯¢ï¼Œå¹¶ä¸”å¯ä»¥åŒ…å«æ¥è‡ªåµŒå…¥å¼æ–‡æ¡£å’Œæ•°ç»„çš„é”®ã€‚é«˜å¯ç”¨æ€§MongoDBçš„å¤åˆ¶å·¥å…·ç§°ä¸ºå‰¯æœ¬é›†ï¼Œå®ƒæä¾›ï¼š  è‡ªåŠ¨æ•…éšœè½¬ç§»å’Œ  æ•°æ®å†—ä½™ã€‚MongoDB CRUDæ“ä½œ  æ’å…¥ï¼š    db.collection.insertOne() ç‰ˆæœ¬3.2ä¸­çš„æ–°åŠŸèƒ½db.collection.insertMany() ç‰ˆæœ¬3.2ä¸­çš„æ–°åŠŸèƒ½        ::: tip æç¤ºdb.users.insertOne({name: â€œtbossâ€,age: 30}):::    æŸ¥è¯¢ï¼š    db.collection.find()        ::: tip æç¤ºdb.users.find({age: { $gt: 18 } },{name: â€œtbossâ€ }).limit(20):::    æ›´æ–°    db.collection.updateOne() ç‰ˆæœ¬3.2ä¸­çš„æ–°åŠŸèƒ½db.collection.updateMany() ç‰ˆæœ¬3.2ä¸­çš„æ–°åŠŸèƒ½db.collection.replaceOne() ç‰ˆæœ¬3.2ä¸­çš„æ–°åŠŸèƒ½        ::: tip æç¤ºdb.users.updateMany({age: { $gt: 18 } },{$set: { name: â€œtywâ€ } }):::    åˆ é™¤    db.collection.deleteOne() ç‰ˆæœ¬3.2ä¸­çš„æ–°åŠŸèƒ½db.collection.deleteMany() ç‰ˆæœ¬3.2ä¸­çš„æ–°åŠŸèƒ½        ::: tip æç¤ºdb.users.deleteMany({age: { $gt: 18 } }):::  èšåˆdb.collection.aggregate([    { $match: { status: 0 } },  //ç²¾ç¡®åŒ¹é…    { $group: { _id: \"$cust_id\",total: { $sum: \"amount\" } } }   //ç²¾ç¡®åŒ¹é…]);ç´¢å¼•  å•ä¸ªç´¢å¼•          å¯¹äºå•å­—æ®µç´¢å¼•å’Œæ’åºæ“ä½œï¼Œç´¢å¼•é”®çš„æ’åºé¡ºåºï¼ˆå³å‡åºæˆ–é™åºï¼‰æ— å…³ç´§è¦ï¼Œå› ä¸ºMongoDBå¯ä»¥åœ¨ä»»ä¸€æ–¹å‘ä¸Šéå†ç´¢å¼•ã€‚      db.collection.createIndex( { name: 1 } )    //å•ä¸ªç´¢å¼•              å¤åˆç´¢å¼•          å¯¹äºå¤åˆç´¢å¼•å’Œæ’åºæ“ä½œï¼Œç´¢å¼•é”®çš„æ’åºé¡ºåºï¼ˆå³å‡åºæˆ–é™åºï¼‰å¯ä»¥ç¡®å®šç´¢å¼•æ˜¯å¦å¯ä»¥æ”¯æŒæ’åºæ“ä½œã€‚      db.collection.createIndex({name: 1, age: -1}, {background: true})   //å¤åˆç´¢å¼•              å¤šé”®ç´¢å¼•          å¦‚æœç´¢å¼•åŒ…å«æ•°ç»„å€¼çš„å­—æ®µï¼ŒMongoDBä¼šä¸ºæ•°ç»„çš„æ¯ä¸ªå…ƒç´ åˆ›å»ºå•ç‹¬çš„ç´¢å¼•æ¡ç›®ã€‚è¿™äº›å¤šé”®ç´¢å¼•å…è®¸æŸ¥è¯¢é€šè¿‡åŒ¹é…æ•°ç»„çš„å…ƒç´ æˆ–å…ƒç´ æ¥é€‰æ‹©åŒ…å«æ•°ç»„çš„æ–‡æ¡£ã€‚å¦‚æœç´¢å¼•å­—æ®µåŒ…å«æ•°ç»„å€¼ï¼ŒMongoDBä¼šè‡ªåŠ¨ç¡®å®šæ˜¯å¦åˆ›å»ºå¤šé”®ç´¢å¼•; æ‚¨ä¸éœ€è¦æ˜¾å¼æŒ‡å®šå¤šé”®ç±»å‹ã€‚      db.collection.createIndex({\"stock.size\": 1 })   //å¤šé”®ç´¢å¼•            json:      {_id: 3,item: \"ijk\",stock: [  { size: \"M\", color: \"blue\", quantity: 15 },  { size: \"L\", color: \"blue\", quantity: 100 },  { size: \"L\", color: \"red\", quantity: 25 }]}              æ–‡å­—ç´¢å¼•          æ”¯æŒåœ¨é›†åˆä¸­æœç´¢å­—ç¬¦ä¸²å†…å®¹ã€‚      db.collection.createIndex( { name: \"text\" } )  //æ–‡å­—ç´¢å¼•db.collection.createIndex( { name: \"text\", desc: \"text\" } )  //æ–‡å­—å¤åˆç´¢å¼•db.collection.createIndex( { \"$**\": \"text\" } )  //é€šé…ç¬¦æ–‡å­—ç´¢å¼•--ä¸ºåŒ…å«é›†åˆä¸­æ¯ä¸ªæ–‡æ¡£çš„å­—ç¬¦ä¸²æ•°æ®çš„æ¯ä¸ªå­—æ®µç¼–åˆ¶ç´¢å¼•              æ•£åˆ—ç´¢å¼•          ç´¢å¼•åœ¨å…¶èŒƒå›´å†…å…·æœ‰æ›´éšæœºçš„å€¼åˆ†å¸ƒï¼Œä½†ä»…æ”¯æŒç›¸ç­‰åŒ¹é…ä¸”ä¸æ”¯æŒåŸºäºèŒƒå›´çš„æŸ¥è¯¢ã€‚      db.collection.createIndex( { _id: \"hashed\" } )  //æ•£åˆ—ç´¢å¼•--ä¸æ”¯æŒå¤šé”®              å”¯ä¸€ç´¢å¼•          ç´¢å¼•çš„å”¯ä¸€å±æ€§ä¼šå¯¼è‡´MongoDBæ‹’ç»ç´¢å¼•å­—æ®µçš„é‡å¤å€¼ã€‚é™¤äº†å”¯ä¸€çº¦æŸä¹‹å¤–ï¼Œå”¯ä¸€ç´¢å¼•åœ¨åŠŸèƒ½ä¸Šå¯ä¸å…¶ä»–MongoDBç´¢å¼•äº’æ¢ã€‚        éƒ¨åˆ†ç´¢å¼•(ç‰ˆæœ¬3.2ä¸­çš„æ–°åŠŸèƒ½ã€‚)          éƒ¨åˆ†ç´¢å¼•ä»…ç´¢å¼•ç¬¦åˆæŒ‡å®šè¿‡æ»¤å™¨è¡¨è¾¾å¼çš„é›†åˆä¸­çš„æ–‡æ¡£ã€‚é€šè¿‡ç´¢å¼•é›†åˆä¸­çš„æ–‡æ¡£å­é›†ï¼Œéƒ¨åˆ†ç´¢å¼•å…·æœ‰è¾ƒä½çš„å­˜å‚¨è¦æ±‚ï¼Œå¹¶é™ä½äº†ç´¢å¼•åˆ›å»ºå’Œç»´æŠ¤çš„æ€§èƒ½æˆæœ¬ã€‚      db.collection.createIndex(   { cuisine: 1, name: 1 },   { partialFilterExpression: { rating: { $gt: 5 } } })  ç¨€ç–ç´¢å¼•          ç´¢å¼•çš„ç¨€ç–å±æ€§å¯ç¡®ä¿ç´¢å¼•ä»…åŒ…å«å…·æœ‰ç´¢å¼•å­—æ®µçš„æ–‡æ¡£çš„æ¡ç›®ã€‚ç´¢å¼•ä¼šè·³è¿‡æ²¡æœ‰ç´¢å¼•å­—æ®µçš„æ–‡æ¡£ã€‚æ‚¨å¯ä»¥å°†ç¨€ç–ç´¢å¼•é€‰é¡¹ä¸å”¯ä¸€ç´¢å¼•é€‰é¡¹ç»„åˆï¼Œä»¥æ‹’ç»å…·æœ‰å­—æ®µé‡å¤å€¼çš„æ–‡æ¡£ï¼Œä½†å¿½ç•¥æ²¡æœ‰ç´¢å¼•é”®çš„æ–‡æ¡£ã€‚      db.scores.createIndex( { score: 1 } , { sparse: true } )            å¦‚æœæŸäº›æ–‡æ¡£ä¸­ä¸åŒ…å«scoreå­—æ®µï¼Œåˆ™ç›´æ¥è·³è¿‡        TTLç´¢å¼•  TTLç´¢å¼•æ˜¯MongoDBå¯ç”¨äºåœ¨ä¸€å®šæ—¶é—´åè‡ªåŠ¨ä»é›†åˆä¸­åˆ é™¤æ–‡æ¡£çš„ç‰¹æ®Šç´¢å¼•ã€‚::: tip æç¤ºè¯­æ³•ä¸­ name å€¼ä¸ºä½ è¦åˆ›å»ºçš„ç´¢å¼•å­—æ®µï¼Œ1 ä¸ºæŒ‡å®šæŒ‰å‡åºåˆ›å»ºç´¢å¼•ï¼Œå¦‚æœä½ æƒ³æŒ‰é™åºæ¥åˆ›å»ºç´¢å¼•æŒ‡å®šä¸º -1 å³å¯ã€‚:::            å‚æ•°      ç±»å‹      æè¿°                  background      Boolean      å»ºç´¢å¼•è¿‡ç¨‹ä¼šé˜»å¡å…¶å®ƒæ•°æ®åº“æ“ä½œï¼Œbackgroundå¯æŒ‡å®šä»¥åå°æ–¹å¼åˆ›å»ºç´¢å¼•ï¼Œå³å¢åŠ  â€œbackgroundâ€ å¯é€‰å‚æ•°ã€‚ â€œbackgroundâ€ é»˜è®¤å€¼ä¸ºfalseã€‚              unique      Boolean      å»ºç«‹çš„ç´¢å¼•æ˜¯å¦å”¯ä¸€ã€‚æŒ‡å®šä¸ºtrueåˆ›å»ºå”¯ä¸€ç´¢å¼•ã€‚é»˜è®¤å€¼ä¸ºfalse.              name      string      ç´¢å¼•çš„åç§°ã€‚å¦‚æœæœªæŒ‡å®šï¼ŒMongoDBçš„é€šè¿‡è¿æ¥ç´¢å¼•çš„å­—æ®µåå’Œæ’åºé¡ºåºç”Ÿæˆä¸€ä¸ªç´¢å¼•åç§°ã€‚              dropDups      Boolean      3.0+ç‰ˆæœ¬å·²åºŸå¼ƒã€‚åœ¨å»ºç«‹å”¯ä¸€ç´¢å¼•æ—¶æ˜¯å¦åˆ é™¤é‡å¤è®°å½•,æŒ‡å®š true åˆ›å»ºå”¯ä¸€ç´¢å¼•ã€‚é»˜è®¤å€¼ä¸º false.              sparse      Boolean      å¯¹æ–‡æ¡£ä¸­ä¸å­˜åœ¨çš„å­—æ®µæ•°æ®ä¸å¯ç”¨ç´¢å¼•ï¼›è¿™ä¸ªå‚æ•°éœ€è¦ç‰¹åˆ«æ³¨æ„ï¼Œå¦‚æœè®¾ç½®ä¸ºtrueçš„è¯ï¼Œåœ¨ç´¢å¼•å­—æ®µä¸­ä¸ä¼šæŸ¥è¯¢å‡ºä¸åŒ…å«å¯¹åº”å­—æ®µçš„æ–‡æ¡£.ã€‚é»˜è®¤å€¼ä¸º false.              expireAfterSeconds      integer      æŒ‡å®šä¸€ä¸ªä»¥ç§’ä¸ºå•ä½çš„æ•°å€¼ï¼Œå®Œæˆ TTLè®¾å®šï¼Œè®¾å®šé›†åˆçš„ç”Ÿå­˜æ—¶é—´ã€‚              v      index version      ç´¢å¼•çš„ç‰ˆæœ¬å·ã€‚é»˜è®¤çš„ç´¢å¼•ç‰ˆæœ¬å–å†³äºmongodåˆ›å»ºç´¢å¼•æ—¶è¿è¡Œçš„ç‰ˆæœ¬ã€‚              weights      document      ç´¢å¼•æƒé‡å€¼ï¼Œæ•°å€¼åœ¨ 1 åˆ° 99,999 ä¹‹é—´ï¼Œè¡¨ç¤ºè¯¥ç´¢å¼•ç›¸å¯¹äºå…¶ä»–ç´¢å¼•å­—æ®µçš„å¾—åˆ†æƒé‡ã€‚              default_language      string      å¯¹äºæ–‡æœ¬ç´¢å¼•ï¼Œè¯¥å‚æ•°å†³å®šäº†åœç”¨è¯åŠè¯å¹²å’Œè¯å™¨çš„è§„åˆ™çš„åˆ—è¡¨ã€‚ é»˜è®¤ä¸ºè‹±è¯­              language_override      string      å¯¹äºæ–‡æœ¬ç´¢å¼•ï¼Œè¯¥å‚æ•°æŒ‡å®šäº†åŒ…å«åœ¨æ–‡æ¡£ä¸­çš„å­—æ®µåï¼Œè¯­è¨€è¦†ç›–é»˜è®¤çš„languageï¼Œé»˜è®¤å€¼ä¸º language.      ç´¢å¼•ç®¡ç†  åˆ—å‡ºç´¢å¼•    db.collection.getIndexes()        db.getCollectionNames().forEach(function(collection) { indexes = db[collection].getIndexes(); print(\"Indexes for \" + collection + \":\"); printjson(indexes);});//åˆ—å‡ºæ‰€æœ‰ç´¢å¼•        åˆ é™¤ç´¢å¼•    db.collection.dropIndex( { \"name\": 1 } );   //åˆ é™¤æŒ‡å®šç´¢å¼•db.collection.dropIndexes();    //åˆ é™¤æ‰€æœ‰ç´¢å¼•        ä¿®æ”¹ç´¢å¼•          è¦ä¿®æ”¹ç°æœ‰ç´¢å¼•ï¼Œéœ€è¦åˆ é™¤å¹¶é‡æ–°åˆ›å»ºç´¢å¼•ã€‚ä¾‹å¤–æ˜¯ TTLç´¢å¼•ï¼Œå¯ä»¥é€šè¿‡collModå‘½ä»¤ä¸indexé›†åˆæ ‡å¿—ä¸€èµ· ä¿®æ”¹ã€‚      MongoDB æä¾›äº†å¤šç§æŸ¥è¯¢å’Œç»Ÿè®¡å‘½ä»¤ï¼Œç”¨äºå¯¹æ•°æ®è¿›è¡Œæ£€ç´¢ã€åˆ†æå’Œå¤„ç†ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„ MongoDB æŸ¥è¯¢åŠç»Ÿè®¡å‘½ä»¤ç¤ºä¾‹ï¼š1. åŸºæœ¬æŸ¥è¯¢å‘½ä»¤æŸ¥è¯¢æ‰€æœ‰æ–‡æ¡£db.collection.find();æŸ¥è¯¢åŒ¹é…ç‰¹å®šæ¡ä»¶çš„æ–‡æ¡£db.collection.find({ field: value });æŸ¥è¯¢å•ä¸ªæ–‡æ¡£db.collection.findOne({ field: value });æŸ¥è¯¢æŒ‡å®šå­—æ®µçš„æ–‡æ¡£ï¼ˆè¿”å›æŒ‡å®šå­—æ®µï¼‰db.collection.find({ field: value }, { field1: 1, field2: 1, _id: 0 });æŸ¥è¯¢å­—æ®µå¤§äºæˆ–å°äºæŸä¸ªå€¼çš„æ–‡æ¡£db.collection.find({ age: { $gt: 18 } });  // å¤§äº18å²db.collection.find({ age: { $lt: 18 } });  // å°äº18å²ä½¿ç”¨é€»è¾‘è¿ç®—ç¬¦è¿›è¡ŒæŸ¥è¯¢db.collection.find({ $and: [{ age: { $gt: 18 } }, { status: \"active\" }] });  // ANDæ“ä½œdb.collection.find({ $or: [{ age: { $gt: 18 } }, { status: \"active\" }] });   // ORæ“ä½œ2. ç»Ÿè®¡å‘½ä»¤ç»Ÿè®¡æ–‡æ¡£æ€»æ•°db.collection.count({ field: value });ç»Ÿè®¡å¹¶åˆ†ç»„db.collection.aggregate([    { $match: { status: \"active\" } }, // ç­›é€‰æ¡ä»¶    { $group: { _id: \"$status\", total: { $sum: 1 } } }  // åˆ†ç»„ç»Ÿè®¡]);è®¡ç®—å­—æ®µçš„å¹³å‡å€¼db.collection.aggregate([    { $group: { _id: null, avgValue: { $avg: \"$field\" } } }]);è®¡ç®—å­—æ®µçš„æ€»å’Œdb.collection.aggregate([    { $group: { _id: null, totalValue: { $sum: \"$field\" } } }]);è®¡ç®—å­—æ®µçš„æœ€å¤§å€¼å’Œæœ€å°å€¼db.collection.aggregate([    { $group: { _id: null, maxValue: { $max: \"$field\" }, minValue: { $min: \"$field\" } } }]);3. æ’åºå’Œåˆ†é¡µå¯¹æŸ¥è¯¢ç»“æœæ’åºdb.collection.find().sort({ field: 1 });  // æŒ‰å­—æ®µå‡åºæ’åºdb.collection.find().sort({ field: -1 }); // æŒ‰å­—æ®µé™åºæ’åºé™åˆ¶æŸ¥è¯¢è¿”å›çš„æ–‡æ¡£æ•°db.collection.find().limit(10); // åªè¿”å›å‰10æ¡è®°å½•è·³è¿‡å‰næ¡æ–‡æ¡£db.collection.find().skip(10);  // è·³è¿‡å‰10æ¡è®°å½•åˆ†é¡µæŸ¥è¯¢db.collection.find().skip(20).limit(10); // è·³è¿‡å‰20æ¡ï¼Œè¿”å›æ¥ä¸‹æ¥çš„10æ¡è®°å½•4. ç´¢å¼•æ“ä½œåˆ›å»ºç´¢å¼•db.collection.createIndex({ field: 1 });  // ä¸ºå­—æ®µåˆ›å»ºå‡åºç´¢å¼•æŸ¥çœ‹å½“å‰ç´¢å¼•db.collection.getIndexes();åˆ é™¤ç´¢å¼•db.collection.dropIndex({ field: 1 });5. é›†åˆå’Œæ•°æ®åº“æ“ä½œåˆ›å»ºæ–°é›†åˆdb.createCollection(\"new_collection\");åˆ é™¤é›†åˆdb.collection.drop();æŸ¥çœ‹æ‰€æœ‰é›†åˆdb.getCollectionNames();åˆ é™¤æ•°æ®åº“db.dropDatabase();6. èšåˆæ“ä½œèšåˆç®¡é“æŸ¥è¯¢db.collection.aggregate([    { $match: { status: \"active\" } },           // ç­›é€‰æ¡ä»¶    { $group: { _id: \"$category\", total: { $sum: \"$amount\" } } }, // åˆ†ç»„å¹¶ç»Ÿè®¡æ€»æ•°    { $sort: { total: -1 } }                    // æŒ‰æ€»æ•°é™åºæ’åˆ—]);ä½¿ç”¨ $lookup è¿›è¡Œè”è¡¨æŸ¥è¯¢db.collection1.aggregate([    {        $lookup: {            from: \"collection2\",         // ç›®æ ‡é›†åˆ            localField: \"field1\",        // æœ¬é›†åˆä¸­çš„å­—æ®µ            foreignField: \"field2\",      // ç›®æ ‡é›†åˆä¸­çš„å­—æ®µ            as: \"result\"                 // è¾“å‡ºæ•°ç»„å­—æ®µ        }    }]);7. æ–‡æœ¬æœç´¢åˆ›å»ºæ–‡æœ¬ç´¢å¼•db.collection.createIndex({ content: \"text\" });æ‰§è¡Œæ–‡æœ¬æœç´¢db.collection.find({ $text: { $search: \"keyword\" } });è¿™äº›æŸ¥è¯¢å’Œç»Ÿè®¡å‘½ä»¤å¯ä»¥å¸®åŠ©ä½ åœ¨ MongoDB ä¸­æ›´é«˜æ•ˆåœ°ç®¡ç†å’Œåˆ†ææ•°æ®ã€‚æ ¹æ®ä½ çš„éœ€æ±‚ï¼Œå¯ä»¥ç»„åˆä½¿ç”¨è¿™äº›å‘½ä»¤å®ç°æ›´å¤æ‚çš„æ•°æ®æ“ä½œã€‚"
},

{
"title": "MemCachedç¬”è®°",
"url": "/posts/MemCached%E7%AC%94%E8%AE%B0/",
"categories": "æ•°æ®åº“",
"tags": "æ•°æ®åº“, MemCached",
"date": "2018-10-13 10:39:06 +0800",







"snippet": "MemCachedæ¦‚è¿°  MemCacheæ˜¯ä¸€ä¸ªè‡ªç”±ã€æºç å¼€æ”¾ã€é«˜æ€§èƒ½ã€åˆ†å¸ƒå¼çš„åˆ†å¸ƒå¼å†…å­˜å¯¹è±¡ç¼“å­˜ç³»ç»Ÿï¼Œç”¨äºåŠ¨æ€Webåº”ç”¨ä»¥å‡è½»æ•°æ®åº“çš„è´Ÿè½½ã€‚å®ƒé€šè¿‡åœ¨å†…å­˜ä¸­ç¼“å­˜æ•°æ®å’Œå¯¹è±¡æ¥å‡å°‘è¯»å–æ•°æ®åº“çš„æ¬¡æ•°ï¼Œä»è€Œæé«˜äº†ç½‘ç«™è®¿é—®çš„é€Ÿåº¦ã€‚MemCaCheæ˜¯ä¸€ä¸ªå­˜å‚¨é”®å€¼å¯¹çš„HashMapï¼Œåœ¨å†…å­˜ä¸­å¯¹ä»»æ„çš„æ•°æ®ï¼ˆæ¯”å¦‚å­—ç¬¦ä¸²ã€å¯¹è±¡ç­‰ï¼‰æ‰€ä½¿ç”¨çš„key-valueå­˜å‚¨ï¼Œæ•°æ®å¯ä»¥æ¥è‡ªæ•°æ®åº“è°ƒç”¨ã€APIè°ƒç”¨ï¼Œæˆ–è€…é¡µé¢æ¸²æŸ“çš„...",
"content": "MemCachedæ¦‚è¿°  MemCacheæ˜¯ä¸€ä¸ªè‡ªç”±ã€æºç å¼€æ”¾ã€é«˜æ€§èƒ½ã€åˆ†å¸ƒå¼çš„åˆ†å¸ƒå¼å†…å­˜å¯¹è±¡ç¼“å­˜ç³»ç»Ÿï¼Œç”¨äºåŠ¨æ€Webåº”ç”¨ä»¥å‡è½»æ•°æ®åº“çš„è´Ÿè½½ã€‚å®ƒé€šè¿‡åœ¨å†…å­˜ä¸­ç¼“å­˜æ•°æ®å’Œå¯¹è±¡æ¥å‡å°‘è¯»å–æ•°æ®åº“çš„æ¬¡æ•°ï¼Œä»è€Œæé«˜äº†ç½‘ç«™è®¿é—®çš„é€Ÿåº¦ã€‚MemCaCheæ˜¯ä¸€ä¸ªå­˜å‚¨é”®å€¼å¯¹çš„HashMapï¼Œåœ¨å†…å­˜ä¸­å¯¹ä»»æ„çš„æ•°æ®ï¼ˆæ¯”å¦‚å­—ç¬¦ä¸²ã€å¯¹è±¡ç­‰ï¼‰æ‰€ä½¿ç”¨çš„key-valueå­˜å‚¨ï¼Œæ•°æ®å¯ä»¥æ¥è‡ªæ•°æ®åº“è°ƒç”¨ã€APIè°ƒç”¨ï¼Œæˆ–è€…é¡µé¢æ¸²æŸ“çš„ç»“æœã€‚MemCacheè®¾è®¡ç†å¿µå°±æ˜¯å°è€Œå¼ºå¤§ï¼Œå®ƒç®€å•çš„è®¾è®¡ä¿ƒè¿›äº†å¿«é€Ÿéƒ¨ç½²ã€æ˜“äºå¼€å‘å¹¶è§£å†³é¢å¯¹å¤§è§„æ¨¡çš„æ•°æ®ç¼“å­˜çš„è®¸å¤šéš¾é¢˜ï¼Œè€Œæ‰€å¼€æ”¾çš„APIä½¿å¾—MemCacheèƒ½ç”¨äºJavaã€C/C++/C#ã€Perlã€Pythonã€PHPã€Rubyç­‰å¤§éƒ¨åˆ†æµè¡Œçš„ç¨‹åºè¯­è¨€ã€‚MemCacheçš„å®˜æ–¹ç½‘ç«™ç‰¹ç‚¹  åè®®ç®€å•  åŸºäºlibeventçš„äº‹ä»¶å¤„ç†  å†…ç½®å†…å­˜å­˜å‚¨æ–¹å¼  memcachedä¸äº’ç›¸é€šä¿¡çš„åˆ†å¸ƒå¼Memcached å­˜å‚¨å‘½ä»¤  set å‘½ä»¤:å°† value å­˜å‚¨åœ¨æŒ‡å®šçš„ key ä¸­ã€‚set key flags exptime bytes [noreply] value å¦‚æœsetçš„keyå·²ç»å­˜åœ¨ï¼Œè¯¥å‘½ä»¤å¯ä»¥æ›´æ–°è¯¥keyæ‰€å¯¹åº”çš„åŸæ¥çš„æ•°æ®ï¼Œä¹Ÿå°±æ˜¯å®ç°æ›´æ–°çš„ä½œç”¨ã€‚  keyï¼šé”®å€¼ key-value ç»“æ„ä¸­çš„ keyï¼Œç”¨äºæŸ¥æ‰¾ç¼“å­˜å€¼ã€‚  flagsï¼šå¯ä»¥åŒ…æ‹¬é”®å€¼å¯¹çš„æ•´å‹å‚æ•°ï¼Œå®¢æˆ·æœºä½¿ç”¨å®ƒå­˜å‚¨å…³äºé”®å€¼å¯¹çš„é¢å¤–ä¿¡æ¯ ã€‚  exptimeï¼šåœ¨ç¼“å­˜ä¸­ä¿å­˜é”®å€¼å¯¹çš„æ—¶é—´é•¿åº¦ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼Œ0 è¡¨ç¤ºæ°¸è¿œï¼‰  bytesï¼šåœ¨ç¼“å­˜ä¸­å­˜å‚¨çš„å­—èŠ‚æ•°  noreplyï¼ˆå¯é€‰ï¼‰ï¼š è¯¥å‚æ•°å‘ŠçŸ¥æœåŠ¡å™¨ä¸éœ€è¦è¿”å›æ•°æ®  valueï¼šå­˜å‚¨çš„å€¼ï¼ˆå§‹ç»ˆä½äºç¬¬äºŒè¡Œï¼‰ï¼ˆå¯ç›´æ¥ç†è§£ä¸ºkey-valueç»“æ„ä¸­çš„valueï¼‰``` sqlset hello 0 900 9memcachedSTOREDget helloVALUE hello 0 9memcachedEND+ add å‘½ä»¤:å°† value å­˜å‚¨åœ¨æŒ‡å®šçš„ key ä¸­ã€‚`add key flags exptime bytes [noreply] value`å¦‚æœ add çš„ key å·²ç»å­˜åœ¨ï¼Œåˆ™ä¸ä¼šæ›´æ–°æ•°æ®(è¿‡æœŸçš„ key ä¼šæ›´æ–°)ï¼Œä¹‹å‰çš„å€¼å°†ä»ç„¶ä¿æŒç›¸åŒï¼Œå¹¶ä¸”æ‚¨å°†è·å¾—å“åº” NOT_STOREDã€‚+ replace å‘½ä»¤:æ›¿æ¢å·²å­˜åœ¨çš„ key çš„ valueã€‚`replace key flags exptime bytes [noreply] value`å¦‚æœ key ä¸å­˜åœ¨ï¼Œåˆ™æ›¿æ¢å¤±è´¥ï¼Œå¹¶ä¸”æ‚¨å°†è·å¾—å“åº” NOT_STOREDã€‚+ append å‘½ä»¤:å·²å­˜åœ¨ key çš„ value åé¢è¿½åŠ æ•°æ® ã€‚`append key flags exptime bytes [noreply] value`+ prepend å‘½ä»¤:å‘å·²å­˜åœ¨ key çš„ value å‰é¢è¿½åŠ æ•°æ®ã€‚`prepend key flags exptime bytes [noreply] value`+ CAS å‘½ä»¤:ç”¨äºæ‰§è¡Œä¸€ä¸ª\"æ£€æŸ¥å¹¶è®¾ç½®\"çš„æ“ä½œå®ƒä»…åœ¨å½“å‰å®¢æˆ·ç«¯æœ€åä¸€æ¬¡å–å€¼åï¼Œè¯¥key å¯¹åº”çš„å€¼æ²¡æœ‰è¢«å…¶ä»–å®¢æˆ·ç«¯ä¿®æ”¹çš„æƒ…å†µä¸‹ï¼Œ æ‰èƒ½å¤Ÿå°†å€¼å†™å…¥ã€‚æ£€æŸ¥æ˜¯é€šè¿‡cas_tokenå‚æ•°è¿›è¡Œçš„ï¼Œ è¿™ä¸ªå‚æ•°æ˜¯MemcachæŒ‡å®šç»™å·²ç»å­˜åœ¨çš„å…ƒç´ çš„ä¸€ä¸ªå”¯ä¸€çš„64ä½å€¼ã€‚`cas key flags exptime bytes unique_cas_token [noreply] value`è¾“å‡ºä¿¡æ¯è¯´æ˜ï¼š- STOREDï¼šä¿å­˜æˆåŠŸã€‚- ERRORï¼šä¿å­˜å¤±è´¥ã€‚- NOT_STOREDï¼šè¯¥é”®åœ¨ Memcached ä¸Šä¸å­˜åœ¨ã€‚- CLIENT_ERRORï¼šæ‰§è¡Œé”™è¯¯ã€‚- EXISTSï¼šåœ¨æœ€åä¸€æ¬¡å–å€¼åå¦å¤–ä¸€ä¸ªç”¨æˆ·ä¹Ÿåœ¨æ›´æ–°è¯¥æ•°æ®ã€‚- NOT_FOUNDï¼šMemcached æœåŠ¡ä¸Šä¸å­˜åœ¨è¯¥é”®å€¼ã€‚## Memcached æŸ¥æ‰¾å‘½ä»¤+ get å‘½ä»¤:è·å–å­˜å‚¨åœ¨ key ä¸­çš„ value ï¼Œå¦‚æœ key ä¸å­˜åœ¨ï¼Œåˆ™è¿”å›ç©ºã€‚`get key` æˆ–è€… `get key1 key2 key3`+ gets å‘½ä»¤:è·å–å¸¦æœ‰ CAS ä»¤ç‰Œå­˜ çš„ value ï¼Œå¦‚æœ key ä¸å­˜åœ¨ï¼Œåˆ™è¿”å›ç©ºã€‚``` sqlset runoob 0 900 9memcachedSTOREDgets runoobVALUE runoob 0 9 1memcachedENDgets å‘½ä»¤çš„è¾“å‡ºç»“æœä¸­ï¼Œåœ¨æœ€åä¸€åˆ—çš„æ•°å­— 1 ä»£è¡¨äº† key ä¸º runoob çš„ CAS ä»¤ç‰Œã€‚  delete å‘½ä»¤:åˆ é™¤å·²å­˜åœ¨çš„ keyã€‚delete key [noreply]  incr ä¸ decr å‘½ä»¤:å·²å­˜åœ¨çš„ key çš„æ•°å­—å€¼è¿›è¡Œè‡ªå¢æˆ–è‡ªå‡æ“ä½œã€‚incr key incr_valueMemcached ç»Ÿè®¡å‘½ä»¤  stats å‘½ä»¤:è¿”å›ç»Ÿè®¡ä¿¡æ¯ä¾‹å¦‚ PID(è¿›ç¨‹å·)ã€ç‰ˆæœ¬å·ã€è¿æ¥æ•°ç­‰ã€‚stats  stats items å‘½ä»¤:æ˜¾ç¤ºå„ä¸ª slab ä¸­ item çš„æ•°ç›®å’Œå­˜å‚¨æ—¶é•¿(æœ€åä¸€æ¬¡è®¿é—®è·ç¦»ç°åœ¨çš„ç§’æ•°)ã€‚stats items  stats slabs å‘½ä»¤:æ˜¾ç¤ºå„ä¸ªslabçš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬chunkçš„å¤§å°ã€æ•°ç›®ã€ä½¿ç”¨æƒ…å†µç­‰ã€‚stats slabs  stats sizes å‘½ä»¤:æ˜¾ç¤ºæ‰€æœ‰itemçš„å¤§å°å’Œä¸ªæ•°ã€‚stats sizes  flush_all å‘½ä»¤:æ¸…ç†ç¼“å­˜ä¸­çš„æ‰€æœ‰ key=&gt;valueå¯¹ã€‚flush_all [time] [noreply]å¯é€‰å‚æ•°timeï¼Œç”¨äºåœ¨æŒ‡å®šçš„æ—¶é—´åæ‰§è¡Œæ¸…ç†ç¼“å­˜æ“ä½œã€‚"
},

{
"title": "gitç‰ˆæœ¬æ§åˆ¶",
"url": "/posts/git%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/",
"categories": "ç‰ˆæœ¬æ§åˆ¶",
"tags": "Git, SVN",
"date": "2018-06-19 10:39:06 +0800",







"snippet": "ç‰ˆæœ¬æ§åˆ¶GitGit æ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç”¨äºæ•æ·é«˜æ•ˆåœ°å¤„ç†ä»»ä½•æˆ–å°æˆ–å¤§çš„é¡¹ç›®ã€‚Git ä¸ SVN åŒºåˆ«      Git æ˜¯åˆ†å¸ƒå¼çš„ï¼ŒSVN ä¸æ˜¯ï¼šè¿™æ˜¯ Git å’Œå…¶å®ƒéåˆ†å¸ƒå¼çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œä¾‹å¦‚ SVNï¼ŒCVS ç­‰ï¼Œæœ€æ ¸å¿ƒçš„åŒºåˆ«ã€‚        Git æŠŠå†…å®¹æŒ‰å…ƒæ•°æ®æ–¹å¼å­˜å‚¨ï¼Œè€Œ SVN æ˜¯æŒ‰æ–‡ä»¶ï¼šæ‰€æœ‰çš„èµ„æºæ§åˆ¶ç³»ç»Ÿéƒ½æ˜¯æŠŠæ–‡ä»¶çš„å…ƒä¿¡æ¯éšè—åœ¨ä¸€ä¸ªç±»ä¼¼ .svnã€.cvs ç­‰çš„æ–‡...",
"content": "ç‰ˆæœ¬æ§åˆ¶GitGit æ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç”¨äºæ•æ·é«˜æ•ˆåœ°å¤„ç†ä»»ä½•æˆ–å°æˆ–å¤§çš„é¡¹ç›®ã€‚Git ä¸ SVN åŒºåˆ«      Git æ˜¯åˆ†å¸ƒå¼çš„ï¼ŒSVN ä¸æ˜¯ï¼šè¿™æ˜¯ Git å’Œå…¶å®ƒéåˆ†å¸ƒå¼çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œä¾‹å¦‚ SVNï¼ŒCVS ç­‰ï¼Œæœ€æ ¸å¿ƒçš„åŒºåˆ«ã€‚        Git æŠŠå†…å®¹æŒ‰å…ƒæ•°æ®æ–¹å¼å­˜å‚¨ï¼Œè€Œ SVN æ˜¯æŒ‰æ–‡ä»¶ï¼šæ‰€æœ‰çš„èµ„æºæ§åˆ¶ç³»ç»Ÿéƒ½æ˜¯æŠŠæ–‡ä»¶çš„å…ƒä¿¡æ¯éšè—åœ¨ä¸€ä¸ªç±»ä¼¼ .svnã€.cvs ç­‰çš„æ–‡ä»¶å¤¹é‡Œã€‚        Git åˆ†æ”¯å’Œ SVN çš„åˆ†æ”¯ä¸åŒï¼šåˆ†æ”¯åœ¨ SVN ä¸­ä¸€ç‚¹éƒ½ä¸ç‰¹åˆ«ï¼Œå…¶å®å®ƒå°±æ˜¯ç‰ˆæœ¬åº“ä¸­çš„å¦å¤–ä¸€ä¸ªç›®å½•ã€‚        Git æ²¡æœ‰ä¸€ä¸ªå…¨å±€çš„ç‰ˆæœ¬å·ï¼Œè€Œ SVN æœ‰ï¼šç›®å‰ä¸ºæ­¢è¿™æ˜¯è·Ÿ SVN ç›¸æ¯” Git ç¼ºå°‘çš„æœ€å¤§çš„ä¸€ä¸ªç‰¹å¾ã€‚        Git çš„å†…å®¹å®Œæ•´æ€§è¦ä¼˜äº SVNï¼šGit çš„å†…å®¹å­˜å‚¨ä½¿ç”¨çš„æ˜¯ SHA-1 å“ˆå¸Œç®—æ³•ã€‚è¿™èƒ½ç¡®ä¿ä»£ç å†…å®¹çš„å®Œæ•´æ€§ï¼Œç¡®ä¿åœ¨é‡åˆ°ç£ç›˜æ•…éšœå’Œç½‘ç»œé—®é¢˜æ—¶é™ä½å¯¹ç‰ˆæœ¬åº“çš„ç ´åã€‚  gitå®‰è£…https://git-scm.com/downloadsGit  é…ç½®  ç”¨æˆ·é…ç½®          é…ç½®ä¸ªäººçš„ç”¨æˆ·åç§°å’Œç”µå­é‚®ä»¶åœ°å€ï¼š        $ git config --global user.name \"runoob\"$ git config --global user.email test@runoob.com              æŸ¥çœ‹é…ç½®ä¿¡æ¯      $ git config --list    gitç”Ÿæˆsshå¯†é’¥          ç”Ÿæˆssh keyã€‚          $ ssh-keygen -t rsa -C \"youremail@example.com\"                  åé¢çš„é‚®ç®±æ”¹æˆè‡ªå·±çš„ï¼Œä¹‹åä¼šè¦æ±‚ç¡®è®¤è·¯å¾„å’Œè¾“å…¥å¯†ç ï¼Œä½¿ç”¨é»˜è®¤çš„ä¸€è·¯å›è½¦å°±è¡Œã€‚æˆåŠŸçš„è¯ä¼šåœ¨ ~/ ä¸‹ç”Ÿæˆ .ssh æ–‡ä»¶å¤¹ï¼Œè¿›å»ï¼Œæ‰“å¼€ id_rsa.pubï¼Œå¤åˆ¶é‡Œé¢çš„ keyã€‚å›åˆ° gitæœåŠ¡å™¨ä¸Šï¼Œè¿›å…¥è´¦æˆ·é…ç½®æ·»åŠ ssh keyã€‚                      éªŒè¯ssh key     $ ssh -T git@github.com  è·å–ä¸åˆ›å»ºé¡¹ç›®å‘½ä»¤git initç”¨ git init åœ¨ç›®å½•ä¸­åˆ›å»ºæ–°çš„ Git ä»“åº“ã€‚ ä½ å¯ä»¥åœ¨ä»»ä½•æ—¶å€™ã€ä»»ä½•ç›®å½•ä¸­è¿™ä¹ˆåšï¼Œå®Œå…¨æ˜¯æœ¬åœ°åŒ–çš„ã€‚git initgit cloneä½¿ç”¨ git clone æ‹·è´ä¸€ä¸ª Git ä»“åº“åˆ°æœ¬åœ°ï¼Œè®©è‡ªå·±èƒ½å¤ŸæŸ¥çœ‹è¯¥é¡¹ç›®ï¼Œæˆ–è€…è¿›è¡Œä¿®æ”¹ã€‚git clone [url]åŸºæœ¬å¿«ç…§git addgit add å‘½ä»¤å¯å°†è¯¥æ–‡ä»¶æ·»åŠ åˆ°ç¼“å­˜git add &lt;filename&gt;git add .git statusgit status ä»¥æŸ¥çœ‹åœ¨ä½ ä¸Šæ¬¡æäº¤ä¹‹åæ˜¯å¦æœ‰ä¿®æ”¹ã€‚git statusgit status -sgit diffæ‰§è¡Œ git diff æ¥æŸ¥çœ‹æ‰§è¡Œ git status çš„ç»“æœçš„è¯¦ç»†ä¿¡æ¯ã€‚git diff å‘½ä»¤æ˜¾ç¤ºå·²å†™å…¥ç¼“å­˜ä¸å·²ä¿®æ”¹ä½†å°šæœªå†™å…¥ç¼“å­˜çš„æ”¹åŠ¨çš„åŒºåˆ«ã€‚git diff æœ‰ä¸¤ä¸ªä¸»è¦çš„åº”ç”¨åœºæ™¯ã€‚  å°šæœªç¼“å­˜çš„æ”¹åŠ¨ï¼šgit diff  æŸ¥çœ‹å·²ç¼“å­˜çš„æ”¹åŠ¨ï¼š git diff â€“cached  æŸ¥çœ‹å·²ç¼“å­˜çš„ä¸æœªç¼“å­˜çš„æ‰€æœ‰æ”¹åŠ¨ï¼šgit diff HEAD  æ˜¾ç¤ºæ‘˜è¦è€Œéæ•´ä¸ª diffï¼šgit diff â€“statgit commitä½¿ç”¨ git add å‘½ä»¤å°†æƒ³è¦å¿«ç…§çš„å†…å®¹å†™å…¥ç¼“å­˜åŒºï¼Œ è€Œæ‰§è¡Œ git commit å°†ç¼“å­˜åŒºå†…å®¹æ·»åŠ åˆ°ä»“åº“ä¸­ã€‚Git ä¸ºä½ çš„æ¯ä¸€ä¸ªæäº¤éƒ½è®°å½•ä½ çš„åå­—ä¸ç”µå­é‚®ç®±åœ°å€ï¼Œæ‰€ä»¥ç¬¬ä¸€æ­¥éœ€è¦é…ç½®ç”¨æˆ·åå’Œé‚®ç®±åœ°å€ã€‚git config --global user.name 'yourname'git config --global user.email youremailå°†æ–‡ä»¶å†™å…¥ç¼“å­˜åŒºå¹¶æä¾›æäº¤æ³¨é‡Šgit commit -m 'update'git commit -m 'add files'git commit -m 'delete files'git reset HEADgit reset HEAD å‘½ä»¤ç”¨äºå–æ¶ˆå·²ç¼“å­˜çš„å†…å®¹ã€‚git reset HEAD -- &lt;filename&gt;//ä¸Šä¸€ä¸ªç‰ˆæœ¬å°±æ˜¯ HEAD^ï¼Œä¸Šä¸Šä¸€ä¸ªç‰ˆæœ¬å°±æ˜¯ HEAD^^ æˆ–è€… HEAD~2ï¼ŒHEAD~100git reset --hard HEAD^git reset --hard 1094a//git reflogç”¨æ¥è®°å½•ä½ çš„æ¯ä¸€æ¬¡å‘½ä»¤git reflogæ‹‰å–(æ›´æ–°ä»£ç )ä¸æ¨é€git pullgit pullå‘½ä»¤ç”¨äºä»å¦ä¸€ä¸ªå­˜å‚¨åº“æˆ–æœ¬åœ°åˆ†æ”¯è·å–å¹¶é›†æˆ(æ•´åˆ)ã€‚git pullå‘½ä»¤çš„ä½œç”¨æ˜¯ï¼šå–å›è¿œç¨‹ä¸»æœºæŸä¸ªåˆ†æ”¯çš„æ›´æ–°ï¼Œå†ä¸æœ¬åœ°çš„æŒ‡å®šåˆ†æ”¯åˆå¹¶ï¼Œå®ƒçš„å®Œæ•´æ ¼å¼ç¨ç¨æœ‰ç‚¹å¤æ‚ã€‚git pullgit pull &lt;è¿œç¨‹ä¸»æœºå&gt; &lt;è¿œç¨‹åˆ†æ”¯å&gt;:&lt;æœ¬åœ°åˆ†æ”¯å&gt;å°†è¿œç¨‹å­˜å‚¨åº“ä¸­çš„æ›´æ”¹åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ä¸­ã€‚åœ¨é»˜è®¤æ¨¡å¼ä¸‹ï¼Œgit pullæ˜¯git fetchåè·Ÿgit merge FETCH_HEADçš„ç¼©å†™ã€‚æ›´å‡†ç¡®åœ°è¯´ï¼Œgit pullä½¿ç”¨ç»™å®šçš„å‚æ•°è¿è¡Œgit fetchï¼Œå¹¶è°ƒç”¨git mergeå°†æ£€ç´¢åˆ°çš„åˆ†æ”¯å¤´åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ä¸­ã€‚git pushgit pushå‘½ä»¤ç”¨äºå°†æœ¬åœ°åˆ†æ”¯çš„æ›´æ–°ï¼Œæ¨é€åˆ°è¿œç¨‹ä¸»æœºã€‚å®ƒçš„æ ¼å¼ä¸git pullå‘½ä»¤ç›¸ä¼¼ã€‚git pushgit push &lt;è¿œç¨‹ä¸»æœºå&gt; &lt;æœ¬åœ°åˆ†æ”¯å&gt;:&lt;è¿œç¨‹åˆ†æ”¯å&gt;åˆ†æ”¯ç®¡ç†åˆ›å»ºä¸åˆå¹¶åˆ†æ”¯git checkout -b dev//ç›¸å½“äºä»¥ä¸‹ä¸¤æ¡å‘½ä»¤git branch devgit checkout dev//æŸ¥çœ‹å½“å‰åˆ†æ”¯git branch//åˆ‡æ¢å›masteråˆ†æ”¯git checkout master//æŠŠdevåˆ†æ”¯çš„å·¥ä½œæˆæœåˆå¹¶åˆ°masteråˆ†æ”¯git merge dev//åˆ é™¤devåˆ†æ”¯git branch -d devåˆ‡æ¢åˆ†æ”¯è¿™ä¸ªåŠ¨ä½œï¼Œç”¨switchæ›´ç§‘å­¦//åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°çš„devåˆ†æ”¯git switch -c dev//åˆ‡æ¢åˆ°å·²æœ‰çš„masteråˆ†æ”¯git switch masterè§£å†³å†²çªgit merge feature1//åˆå¹¶git add readme.txt//æäº¤åˆå¹¶git commit -m \"conflict fixed\"//åˆ é™¤feature1åˆ†æ”¯git branch -d feature1bugåˆ†æ”¯//å½“å‰å·¥ä½œç°åœºâ€œå‚¨è—â€èµ·æ¥git stash//å‡å®šåœ¨masteråˆ†æ”¯ä¸Šä¿®å¤,å°±ä»masteråˆ›å»ºä¸´æ—¶åˆ†æ”¯git checkout mastergit checkout -b issue-123//æäº¤git add readme.txtgit commit -m \"fix bug 123\"//åˆ‡æ¢åˆ°masteråˆ†æ”¯ï¼Œå¹¶å®Œæˆåˆå¹¶ï¼Œæœ€ååˆ é™¤issue-123åˆ†æ”¯git switch mastergit merge --no-ff -m \"merged bug fix 123\" issue-123//å›åˆ°devåˆ†æ”¯git switch dev//å·¥ä½œç°åœºgit stash list//æ¢å¤å·¥ä½œç°åœºgit stash apply stash@{0}git stash apply æ¢å¤åï¼Œstashå†…å®¹å¹¶ä¸åˆ é™¤ï¼Œä½ éœ€è¦ç”¨git stash dropæ¥åˆ é™¤git stash pop æ¢å¤çš„åŒæ—¶æŠŠstashå†…å®¹ä¹Ÿåˆ äº†ï¼ˆæ¨èï¼‰//bugæäº¤çš„ä¿®æ”¹â€œå¤åˆ¶â€åˆ°å½“å‰åˆ†æ”¯ï¼Œå¦‚ï¼šgit cherry-pick 4c805e2git cherry-pick &lt;commit&gt;Featureåˆ†æ”¯//åˆ›å»ºåˆ†æ”¯git switch -c feature-shop//å¼€å‘å®Œæ¯•git add shop.javagit statusgit commit -m \"add feature shop\"//åˆ‡å›devï¼Œå‡†å¤‡åˆå¹¶git switch dev//æ­¤æ—¶ï¼Œå› å„ç§åŸå› æ–°åŠŸèƒ½å¿…é¡»å–æ¶ˆï¼å¼ºè¡Œåˆ é™¤git branch -D feature-shopå¤šäººåä½œ//æŸ¥çœ‹è¿œç¨‹åº“çš„ä¿¡æ¯git remote -v//æ‹‰å–git pull//æ‹‰å–å¤±è´¥ï¼Œè®¾ç½®devå’Œorigin/devçš„é“¾æ¥git branch --set-upstream-to=origin/dev dev//å†æ¬¡æ‹‰å–git pull//æ¨é€åˆ†æ”¯git push origin mastergit push origin devSvné…åˆTortoiseSVNä½¿ç”¨å‚è€ƒ  ä¸€ä»½å¾ˆå¥½çš„ Git å…¥é—¨æ•™ç¨‹  gitå®˜æ–¹  Gitåˆ†æ”¯ç®¡ç†ç­–ç•¥"
},

{
"title": "ç®—æ³•ä¸æ•°æ®ç»“æ„ç®€ä»‹",
"url": "/posts/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AE%80%E4%BB%8B/",
"categories": "ç®—æ³•ä¸æ•°æ®ç»“æ„",
"tags": "ç®—æ³•ä¸æ•°æ®ç»“æ„",
"date": "2018-06-06 10:39:06 +0800",







"snippet": "ç®—æ³•      æ’å…¥æ’åºï¼ˆç›´æ¥æ’å…¥æ’åºã€å¸Œå°”æ’åºï¼‰        äº¤æ¢æ’åºï¼ˆå†’æ³¡æ’åºã€å¿«é€Ÿæ’åºï¼‰        é€‰æ‹©æ’åºï¼ˆç›´æ¥é€‰æ‹©æ’åºã€å †æ’åºï¼‰        å½’å¹¶æ’åº        åˆ†é…æ’åºï¼ˆåŸºæ•°æ’åºï¼‰        æ‰€éœ€è¾…åŠ©ç©ºé—´æœ€å¤šï¼šå½’å¹¶æ’åº        æ‰€éœ€è¾…åŠ©ç©ºé—´æœ€å°‘ï¼šå †æ’åº        å¹³å‡é€Ÿåº¦æœ€å¿«ï¼šå¿«é€Ÿæ’åº        ä¸ç¨³å®šï¼šå¿«é€Ÿæ’åºï¼Œå¸Œå°”æ’åºï¼Œå †æ’åºã€‚  æ•°æ®ç»“æ„çº¿æ€§ç»“...",
"content": "ç®—æ³•      æ’å…¥æ’åºï¼ˆç›´æ¥æ’å…¥æ’åºã€å¸Œå°”æ’åºï¼‰        äº¤æ¢æ’åºï¼ˆå†’æ³¡æ’åºã€å¿«é€Ÿæ’åºï¼‰        é€‰æ‹©æ’åºï¼ˆç›´æ¥é€‰æ‹©æ’åºã€å †æ’åºï¼‰        å½’å¹¶æ’åº        åˆ†é…æ’åºï¼ˆåŸºæ•°æ’åºï¼‰        æ‰€éœ€è¾…åŠ©ç©ºé—´æœ€å¤šï¼šå½’å¹¶æ’åº        æ‰€éœ€è¾…åŠ©ç©ºé—´æœ€å°‘ï¼šå †æ’åº        å¹³å‡é€Ÿåº¦æœ€å¿«ï¼šå¿«é€Ÿæ’åº        ä¸ç¨³å®šï¼šå¿«é€Ÿæ’åºï¼Œå¸Œå°”æ’åºï¼Œå †æ’åºã€‚  æ•°æ®ç»“æ„çº¿æ€§ç»“æ„  æ•°æ®ç»“æ„ä¸­çº¿æ€§ç»“æ„æŒ‡çš„æ˜¯æ•°æ®å…ƒç´ ä¹‹é—´å­˜åœ¨ç€â€œä¸€å¯¹ä¸€â€çš„çº¿æ€§å…³ç³»çš„æ•°æ®ç»“æ„ï¼›çº¿æ€§ç»“æ„åŒ…æ‹¬ï¼šæ•°ç»„ï¼Œé“¾è¡¨ï¼Œé˜Ÿåˆ—ï¼Œæ ˆï¼›  æ•°ç»„ä½¿ç”¨åœºæ™¯ï¼šé¢‘ç¹æŸ¥è¯¢ï¼Œå¾ˆå°‘å¢åŠ å’Œåˆ é™¤çš„æƒ…å†µã€‚          ç‰¹ç‚¹ï¼šæ•°ç»„ä¸­çš„å…ƒç´ åœ¨å†…å­˜ä¸­è¿ç»­å­˜å‚¨çš„ï¼Œå¯ä»¥æ ¹æ®æ˜¯ä¸‹æ ‡å¿«é€Ÿè®¿é—®å…ƒç´ ï¼ŒæŸ¥è¯¢é€Ÿåº¦å¾ˆå¿«ï¼Œç„¶è€Œæ’å…¥å’Œåˆ é™¤æ—¶ï¼Œéœ€è¦å¯¹å…ƒç´ ç§»åŠ¨ç©ºé—´ï¼Œæ¯”è¾ƒæ…¢ã€‚        é“¾è¡¨ä½¿ç”¨åœºæ™¯ï¼šå°‘æŸ¥è¯¢ï¼Œéœ€è¦é¢‘ç¹çš„æ’å…¥æˆ–åˆ é™¤æƒ…å†µ          ç‰¹ç‚¹ï¼šå…ƒç´ å¯ä»¥ä¸è¿ç»­å†…å­˜ä¸­ï¼Œæ˜¯ä»¥ç´¢å¼•å°†æ•°æ®è”ç³»èµ·æ¥çš„ï¼Œå½“æŸ¥è¯¢å…ƒç´ çš„æ—¶å€™éœ€è¦ä»å¤´å¼€å§‹æŸ¥è¯¢ï¼Œæ‰€ä»¥æ•ˆç‡æ¯”è¾ƒä½ï¼Œç„¶è€Œæ·»åŠ å’Œåˆ é™¤çš„åªéœ€è¦ä¿®æ”¹ç´¢å¼•å°±å¯ä»¥äº†        é˜Ÿåˆ—ä½¿ç”¨åœºæ™¯ï¼šå¤šçº¿ç¨‹é˜»å¡é˜Ÿåˆ—ç®¡ç†éå¸¸æœ‰ç”¨          ç‰¹ç‚¹ï¼šå…ˆè¿›å…ˆå‡º        æ ˆä½¿ç”¨åœºæ™¯ï¼šå®ç°é€’å½’ä»¥åŠè¡¨ç¤ºå¼          ç‰¹ç‚¹ï¼šå…ˆè¿›åå‡ºï¼Œç±»ä¼¼äºç®±å­      ::: tip æ•°ç»„ä¸é“¾è¡¨çš„åŒºåˆ«- æ•°ç»„è¿ç»­ï¼Œé“¾è¡¨ä¸è¿ç»­ï¼ˆä»æ•°æ®å­˜å‚¨å½¢å¼æ¥è¯´ï¼‰- æ•°ç»„å†…å­˜é™æ€åˆ†é…ï¼Œé“¾è¡¨åŠ¨æ€åˆ†é…- æ•°ç»„æŸ¥è¯¢å¤æ‚åº¦0ï¼ˆ1ï¼‰ï¼Œé“¾è¡¨æŸ¥è¯¢å¤æ‚åº¦O(n)- æ•°ç»„æ·»åŠ æˆ–åˆ é™¤ï¼Œå¤æ‚åº¦oï¼ˆnï¼‰,é“¾è¡¨æ·»åŠ åˆ é™¤ï¼Œå¤æ‚åº¦Oï¼ˆ1ï¼‰- æ•°ç»„ä»æ ˆä¸­åˆ†é…å†…å­˜ã€‚é“¾è¡¨ä»å †ä¸­åˆ†é…å†…å­˜ã€‚ :::éçº¿æ€§ç»“æ„  éçº¿æ€§ç»“æ„åŒ…æ‹¬ï¼šæ ‘ï¼Œå›¾ï¼Œè¡¨ï¼›"
},

{
"title": "æœåŠ¡å™¨ç®€ä»‹",
"url": "/posts/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AE%80%E4%BB%8B/",
"categories": "æœåŠ¡å™¨",
"tags": "æœåŠ¡å™¨, Tomcat, Nginx",
"date": "2018-06-05 10:39:06 +0800",







"snippet": "æœåŠ¡å™¨ç®€ä»‹TomcatTomcatæ˜¯ä»€ä¹ˆ  Tomcatæ˜¯ä¸€ä¸ªè¿è¡ŒJAVAçš„ç½‘ç»œæœåŠ¡å™¨ï¼Œåº•å±‚æ˜¯Socketçš„ä¸€ä¸ªç¨‹åºï¼Œå®ƒä¹Ÿæ˜¯JSPå’ŒSerlvetçš„ä¸€ä¸ªå®¹å™¨ã€‚å®˜ç½‘ä¿®æ”¹Tomcatçš„ç¼ºçœç«¯å£  åˆ°Tomcatç›®å½•ä¸‹çš„confæ–‡ä»¶å¤¹  è¿›å…¥confæ–‡ä»¶å¤¹é‡Œé¢æ‰¾åˆ°server.xmlæ–‡ä»¶  æ‰“å¼€server.xmlæ–‡ä»¶  åœ¨server.xmlæ–‡ä»¶é‡Œé¢æ‰¾åˆ°ä¸‹åˆ—ä¿¡æ¯  æŠŠConnectoræ ‡ç­¾çš„80...",
"content": "æœåŠ¡å™¨ç®€ä»‹TomcatTomcatæ˜¯ä»€ä¹ˆ  Tomcatæ˜¯ä¸€ä¸ªè¿è¡ŒJAVAçš„ç½‘ç»œæœåŠ¡å™¨ï¼Œåº•å±‚æ˜¯Socketçš„ä¸€ä¸ªç¨‹åºï¼Œå®ƒä¹Ÿæ˜¯JSPå’ŒSerlvetçš„ä¸€ä¸ªå®¹å™¨ã€‚å®˜ç½‘ä¿®æ”¹Tomcatçš„ç¼ºçœç«¯å£  åˆ°Tomcatç›®å½•ä¸‹çš„confæ–‡ä»¶å¤¹  è¿›å…¥confæ–‡ä»¶å¤¹é‡Œé¢æ‰¾åˆ°server.xmlæ–‡ä»¶  æ‰“å¼€server.xmlæ–‡ä»¶  åœ¨server.xmlæ–‡ä»¶é‡Œé¢æ‰¾åˆ°ä¸‹åˆ—ä¿¡æ¯  æŠŠConnectoræ ‡ç­¾çš„8080ç«¯å£æ”¹æˆä½ æƒ³è¦çš„ç«¯å£&lt;Service name=\"Catalina\"&gt;&lt;Connector port=\"8080\" protocol=\"HTTP/1.1\" connectionTimeout=\"20000\" redirectPort=\"8443\" /&gt;tomcat è¿è¡Œæ¨¡å¼åŠä¼˜åŒ–  BIO:åŒæ­¥å¹¶é˜»å¡ä¸€ä¸ªçº¿ç¨‹å¤„ç†ä¸€ä¸ªè¯·æ±‚-&gt;å¹¶å‘é‡é«˜æ—¶ï¼Œçº¿ç¨‹æ•°è¾ƒå¤šï¼Œæ¯”è¾ƒæµªè´¹èµ„æº          Tomcat7æˆ–ä»¥ä¸‹ï¼Œåœ¨Linuxç³»ç»Ÿä¸­é»˜è®¤ä½¿ç”¨è¿™ç§æ–¹å¼ã€‚é…åˆ¶é¡¹ä¸ºï¼šprotocol=â€HTTP/1.1â€        NIO:åŒæ­¥éé˜»å¡IO-&gt;åˆ©ç”¨Javaçš„å¼‚æ­¥IOå¤„ç†ï¼Œå¯ä»¥é€šè¿‡å°‘é‡çš„çº¿ç¨‹å¤„ç†å¤§é‡çš„è¯·æ±‚ï¼Œå¯ä»¥å¤ç”¨åŒä¸€ä¸ªçº¿ç¨‹å¤„ç†å¤šä¸ªconnection(å¤šè·¯å¤ç”¨)          Tomcat8åœ¨Linuxç³»ç»Ÿä¸­é»˜è®¤ä½¿ç”¨è¿™ç§æ–¹å¼ã€‚é…åˆ¶é¡¹ï¼šprotocol=â€org.apache.coyote.http11.Http11NioProtocolâ€        APR:å¼‚æ­¥éé˜»å¡IO-&gt;éœ€åœ¨æœ¬åœ°æœåŠ¡å™¨å®‰è£…APRåº“          é…åˆ¶é¡¹ï¼šprotocol=â€org.apache.coyote.http11.Http11AprProtocolâ€      NginxNginxæ¦‚è¿°  Nginx (engine x) æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„HTTPå’Œåå‘ä»£ç†webæœåŠ¡å™¨ï¼ŒåŒæ—¶ä¹Ÿæä¾›äº†IMAP/POP3/SMTPæœåŠ¡ã€‚Nginxæ˜¯ç”±ä¼Šæˆˆå°”Â·èµ›ç´¢è€¶å¤«ä¸ºä¿„ç½—æ–¯è®¿é—®é‡ç¬¬äºŒçš„Rambler.ruç«™ç‚¹ï¼ˆä¿„æ–‡ï¼šĞ Ğ°Ğ¼Ğ±Ğ»ĞµÑ€ï¼‰å¼€å‘çš„ï¼Œç¬¬ä¸€ä¸ªå…¬å¼€ç‰ˆæœ¬0.1.0å‘å¸ƒäº2004å¹´10æœˆ4æ—¥ã€‚      ä½œä¸º Web æœåŠ¡å™¨ï¼šç›¸æ¯” Apacheï¼ŒNginx ä½¿ç”¨æ›´å°‘çš„èµ„æºï¼Œæ”¯æŒæ›´å¤šçš„å¹¶å‘è¿æ¥ï¼Œä½“ç°æ›´é«˜çš„æ•ˆç‡ï¼Œè¿™ç‚¹ä½¿ Nginx å°¤å…¶å—åˆ°è™šæ‹Ÿä¸»æœºæä¾›å•†çš„æ¬¢è¿ã€‚èƒ½å¤Ÿæ”¯æŒé«˜è¾¾ 50,000 ä¸ªå¹¶å‘è¿æ¥æ•°çš„å“åº”ï¼Œæ„Ÿè°¢ Nginx ä¸ºæˆ‘ä»¬é€‰æ‹©äº† epoll and kqueue ä½œä¸ºå¼€å‘æ¨¡å‹.        ä½œä¸ºè´Ÿè½½å‡è¡¡æœåŠ¡å™¨ï¼šNginx æ—¢å¯ä»¥åœ¨å†…éƒ¨ç›´æ¥æ”¯æŒ Rails å’Œ PHPï¼Œä¹Ÿå¯ä»¥æ”¯æŒä½œä¸º HTTPä»£ç†æœåŠ¡å™¨ å¯¹å¤–è¿›è¡ŒæœåŠ¡ã€‚Nginx ç”¨ C ç¼–å†™, ä¸è®ºæ˜¯ç³»ç»Ÿèµ„æºå¼€é”€è¿˜æ˜¯ CPU ä½¿ç”¨æ•ˆç‡éƒ½æ¯” Perlbal è¦å¥½çš„å¤šã€‚        ä½œä¸ºé‚®ä»¶ä»£ç†æœåŠ¡å™¨: Nginx åŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸ä¼˜ç§€çš„é‚®ä»¶ä»£ç†æœåŠ¡å™¨ï¼ˆæœ€æ—©å¼€å‘è¿™ä¸ªäº§å“çš„ç›®çš„ä¹‹ä¸€ä¹Ÿæ˜¯ä½œä¸ºé‚®ä»¶ä»£ç†æœåŠ¡å™¨ï¼‰ï¼ŒLast.fm æè¿°äº†æˆåŠŸå¹¶ä¸”ç¾å¦™çš„ä½¿ç”¨ç»éªŒã€‚        Nginx å®‰è£…éå¸¸çš„ç®€å•ï¼Œé…ç½®æ–‡ä»¶ éå¸¸ç®€æ´ï¼ˆè¿˜èƒ½å¤Ÿæ”¯æŒperlè¯­æ³•ï¼‰ï¼ŒBugséå¸¸å°‘çš„æœåŠ¡å™¨: Nginx å¯åŠ¨ç‰¹åˆ«å®¹æ˜“ï¼Œå¹¶ä¸”å‡ ä¹å¯ä»¥åšåˆ°7*24ä¸é—´æ–­è¿è¡Œï¼Œå³ä½¿è¿è¡Œæ•°ä¸ªæœˆä¹Ÿä¸éœ€è¦é‡æ–°å¯åŠ¨ã€‚ä½ è¿˜èƒ½å¤Ÿåœ¨ ä¸é—´æ–­æœåŠ¡çš„æƒ…å†µä¸‹è¿›è¡Œè½¯ä»¶ç‰ˆæœ¬çš„å‡çº§ã€‚  linuxå®‰è£…nginxå®˜ç½‘Nginxä¸­æ–‡æ–‡æ¡£yum install ngixNginx é…ç½®åˆ›å»º Nginx è¿è¡Œä½¿ç”¨çš„ç”¨æˆ· tywï¼š[root@tyw conf]# /usr/sbin/groupadd tyw[root@tyw conf]# /usr/sbin/useradd -g tyw tywä¿®æ”¹user nginx;ä¸ºuser tyw tyw;é…ç½®nginx.confvi /etc/nginx/nginx.conf  å¦‚éœ€é…ç½®è‡ªåŠ¨è·³è½¬ï¼Œåˆ™åœ¨nginx.confæ–‡ä»¶é‡ŒserverèŠ‚ç‚¹å¢åŠ æ­¤é…ç½®  rewrite ^(.*) https://$host$1 permanent;  Nginx å¸¸ç”¨å‘½ä»¤nginx -t    #æ£€æŸ¥é…ç½®nginx.confæ˜¯å¦æ­£ç¡®nginx   #å¯åŠ¨nginxæœåŠ¡nginx -s reload #é‡æ–°è½½å…¥é…ç½®æ–‡ä»¶nginx -s stop   #åœæ­¢nginxæœåŠ¡nginx -s reopen #é‡å¯Nginx"
},

{
"title": "è®¡ç®—æœºåŸºç¡€",
"url": "/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/",
"categories": "è®¡ç®—æœºåŸºç¡€",
"tags": "äº’è”ç½‘åè®®, TCP/IP, HTTP2.0, HTTPS, OAuth 2.0, REST",
"date": "2018-05-18 10:39:06 +0800",







"snippet": "è®¡ç®—æœºæœ¬è´¨  è¾“å…¥ -&gt; å¤„ç† -&gt; è¾“å‡ºæ“ä½œç³»ç»Ÿåˆ†ç±»  æ ¹æ®å·¥ä½œæ–¹å¼åˆ†ä¸º          æ‰¹å¤„ç†æ“ä½œç³»ç»Ÿ      åˆ†æ—¶æ“ä½œç³»ç»Ÿ      å®æ—¶æ“ä½œç³»ç»Ÿ      ç½‘ç»œæ“ä½œç³»ç»Ÿ      åˆ†å¸ƒå¼æ“ä½œç³»ç»Ÿ      è®¡ç®—æœºç½‘ç»œä¸»è¦ç½‘ç»œå±€åŸŸç½‘ä»€ä¹ˆæ˜¯å±€åŸŸç½‘å•ä½ã€æˆ–è€…å®¶åº­ä¸­ä½¿ç”¨çš„ç½‘ç»œ  æˆ‘ä»¬å¸¸è§çš„â€œLANâ€å°±æ˜¯æŒ‡å±€åŸŸç½‘  å±€åŸŸç½‘çš„ç‰¹ç‚¹  è¿æ¥èŒƒå›´çª„ã€ç”¨æˆ·æ•°è¾ƒå°‘ã€é…ç½®å®¹æ˜“ã€è¿æ¥é€Ÿç‡é«˜ã€...",
"content": "è®¡ç®—æœºæœ¬è´¨  è¾“å…¥ -&gt; å¤„ç† -&gt; è¾“å‡ºæ“ä½œç³»ç»Ÿåˆ†ç±»  æ ¹æ®å·¥ä½œæ–¹å¼åˆ†ä¸º          æ‰¹å¤„ç†æ“ä½œç³»ç»Ÿ      åˆ†æ—¶æ“ä½œç³»ç»Ÿ      å®æ—¶æ“ä½œç³»ç»Ÿ      ç½‘ç»œæ“ä½œç³»ç»Ÿ      åˆ†å¸ƒå¼æ“ä½œç³»ç»Ÿ      è®¡ç®—æœºç½‘ç»œä¸»è¦ç½‘ç»œå±€åŸŸç½‘ä»€ä¹ˆæ˜¯å±€åŸŸç½‘å•ä½ã€æˆ–è€…å®¶åº­ä¸­ä½¿ç”¨çš„ç½‘ç»œ  æˆ‘ä»¬å¸¸è§çš„â€œLANâ€å°±æ˜¯æŒ‡å±€åŸŸç½‘  å±€åŸŸç½‘çš„ç‰¹ç‚¹  è¿æ¥èŒƒå›´çª„ã€ç”¨æˆ·æ•°è¾ƒå°‘ã€é…ç½®å®¹æ˜“ã€è¿æ¥é€Ÿç‡é«˜ã€ä¸å­˜åœ¨å¯»å¾„é—®é¢˜  é™åˆ¶  ä¸€èˆ¬æ¥è¯´å‡ ç±³è‡³10å…¬é‡Œä»¥å†…åŸåŸŸç½‘ä»€ä¹ˆæ˜¯åŸåŸŸç½‘ç®€ç§°â€œMANâ€ï¼Œä¸€ä¸ªåŸå¸‚ï¼Œä½†ä¸åœ¨åŒä¸€åœ°ç†å°åŒºèŒƒå›´å†…çš„è®¡ç®—æœºäº’è”ï¼Œä¸€ä¸ªMANç½‘ç»œé€šå¸¸è¿æ¥ç€å¤šä¸ªLANé™åˆ¶è·ç¦»å¯ä»¥åœ¨10-100å…¬é‡Œå¹¿åŸŸç½‘ä»€ä¹ˆæ˜¯å¹¿åŸŸç½‘ç®€ç§°â€œWANâ€,ä¹Ÿç§°ä¸ºè¿œç¨‹ç½‘,è¦†ç›–çš„èŒƒå›´æ¯”åŸåŸŸç½‘ï¼ˆMANï¼‰æ›´å¹¿æ— çº¿ç½‘ç‰¹ç‚¹æ˜“äºå®‰è£…å’Œä½¿ç”¨äº’è”ç½‘åè®® TCP/IPæ¨¡å‹å»ºç«‹è¿æ¥å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨å»ºç«‹ä¸€ä¸ª TCP è¿æ¥æ—¶éœ€è¦æ€»å…±å‘é€ä¸‰ä¸ªåŒ…ä»¥ç¡®è®¤è¿æ¥çš„å»ºç«‹ã€‚  å®¢æˆ·ç«¯å°†æ ‡å¿—ä½SYNç½®ä¸º1ï¼Œéšæœºäº§ç”Ÿä¸€ä¸ªå€¼seq=Jï¼Œå¹¶å°†è¯¥æ•°æ®åŒ…å‘é€ç»™æœåŠ¡å™¨ç«¯ï¼Œå®¢æˆ·ç«¯è¿›å…¥SYN_SENTçŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡å™¨ç«¯ç¡®è®¤ã€‚  æœåŠ¡å™¨ç«¯æ”¶åˆ°æ•°æ®åŒ…åç”±æ ‡å¿—ä½SYN=1çŸ¥é“å®¢æˆ·ç«¯è¯·æ±‚å»ºç«‹è¿æ¥ï¼ŒæœåŠ¡å™¨ç«¯å°†æ ‡å¿—ä½SYNå’ŒACKéƒ½ç½®ä¸º1ï¼Œack=J+1ï¼Œéšæœºäº§ç”Ÿä¸€ä¸ªå€¼seq=Kï¼Œå¹¶å°†è¯¥æ•°æ®åŒ…å‘é€ç»™å®¢æˆ·ç«¯ä»¥ç¡®è®¤è¿æ¥è¯·æ±‚ï¼ŒæœåŠ¡å™¨ç«¯è¿›å…¥SYN_RCVDçŠ¶æ€ã€‚  å®¢æˆ·ç«¯æ”¶åˆ°ç¡®è®¤åï¼Œæ£€æŸ¥ackæ˜¯å¦ä¸ºJ+1ï¼ŒACKæ˜¯å¦ä¸º1ï¼Œå¦‚æœæ­£ç¡®åˆ™å°†æ ‡å¿—ä½ACKç½®ä¸º1ï¼Œack=K+1ï¼Œå¹¶å°†è¯¥æ•°æ®åŒ…å‘é€ç»™æœåŠ¡å™¨ç«¯ï¼ŒæœåŠ¡å™¨ç«¯æ£€æŸ¥ackæ˜¯å¦ä¸ºK+1ï¼ŒACKæ˜¯å¦ä¸º1ï¼Œå¦‚æœæ­£ç¡®åˆ™è¿æ¥å»ºç«‹æˆåŠŸï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯è¿›å…¥ESTABLISHEDçŠ¶æ€ï¼Œç„¶åå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯ä¹‹é—´å°±å¯ä»¥å¼€å§‹ä¼ è¾“æ•°æ®äº†ã€‚æ–­å¼€è¿æ¥å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨æ–­å¼€è¿æ¥æ—¶éœ€è¦æ€»å…±å‘é€å››ä¸ªåŒ…ä»¥ç¡®è®¤è¿æ¥çš„æ–­å¼€ã€‚  å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªFIN=Mï¼Œç”¨æ¥å…³é—­å®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨ç«¯çš„æ•°æ®ä¼ é€ï¼Œå®¢æˆ·ç«¯è¿›å…¥FIN_WAIT_1çŠ¶æ€ã€‚æ­¤æ—¶å¯ä»¥ç»§ç»­å‘é€æ•°æ®ã€‚  æœåŠ¡å™¨ç«¯æ”¶åˆ°FINåï¼Œå‘å®¢æˆ·ç«¯å‘é€ack=M+1ã€‚å®¢æˆ·ç«¯è¿›å…¥FIN_WAIT_2 çŠ¶æ€ï¼Œç»§ç»­ç­‰å¾…æœåŠ¡å™¨ç«¯çš„FINæŠ¥æ–‡ã€‚  æœåŠ¡å™¨ç«¯ç¡®å®šæ•°æ®å·²å‘é€å®Œæˆï¼Œåˆ™å‘å®¢æˆ·ç«¯å‘é€FIN=NæŠ¥æ–‡ã€‚æœåŠ¡å™¨å‡†å¤‡å…³é—­è¿æ¥äº†ï¼ŒæœåŠ¡å™¨ç«¯è¿›å…¥LAST_ACKçŠ¶æ€ã€‚  å®¢æˆ·ç«¯æ”¶åˆ°FIN=NæŠ¥æ–‡åï¼Œå‘é€ack=N+1åè¿›å…¥TIME_WAITçŠ¶æ€ï¼Œå¦‚æœServerç«¯æ²¡æœ‰æ”¶åˆ°ACKåˆ™å¯ä»¥é‡ä¼ ã€‚æœåŠ¡å™¨ç«¯æ”¶åˆ°ACKåï¼Œå°±çŸ¥é“å¯ä»¥æ–­å¼€è¿æ¥äº†ã€‚ï¼ˆå®¢æˆ·ç«¯ç­‰å¾…äº†2MSLåä¾ç„¶æ²¡æœ‰æ”¶åˆ°å›å¤ï¼Œè¯´æ˜æœåŠ¡å™¨ç«¯å·²å…³é—­ï¼Œå®¢æˆ·ç«¯ä¹Ÿå¯ä»¥å…³é—­è¿æ¥äº†ï¼‰HTTP2.0HTTPæ¦‚è¿°  HTTPå†å²ï¼šHTTP å»ºç«‹ä¹‹åˆï¼Œä¸»è¦æ˜¯ä¸ºäº†å°†è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€(HTML)æ–‡æ¡£ä»WebæœåŠ¡å™¨ä¼ é€åˆ°å®¢æˆ·ç«¯çš„æµè§ˆå™¨ã€‚  HTTPçš„ä¼˜åŒ–ï¼šå¸¦å®½å’Œå»¶è¿Ÿã€‚          å¸¦å®½ï¼šæ‹¨å·ä¸Šç½‘çš„é˜¶æ®µï¼Œå¸¦å®½å¯èƒ½ä¼šæˆä¸ºä¸€ä¸ªæ¯”è¾ƒä¸¥é‡å½±å“è¯·æ±‚çš„é—®é¢˜ï¼Œç°åœ¨ç½‘ç»œåŸºç¡€å»ºè®¾å·²ç»ä½¿å¾—å¸¦å®½å¾—åˆ°æå¤§çš„æå‡ï¼Œä¸ç”¨å†æ‹…å¿ƒå¸¦å®½å½±å“ç½‘é€Ÿäº†ã€‚      å»¶è¿Ÿï¼š                  æµè§ˆå™¨é˜»å¡ï¼ˆHOL blockingï¼‰ï¼šæµè§ˆå™¨ä¼šå› ä¸ºæŸäº›åŸå› é˜»å¡è¯·æ±‚ã€‚æµè§ˆå™¨å¯¹äºåŒä¸€ä¸ªåŸŸåï¼ŒåŒæ—¶åªèƒ½æœ‰ 4 ä¸ªè¿æ¥ï¼ˆæ ¹æ®æµè§ˆå™¨å†…æ ¸ä¸åŒå¯èƒ½ä¼šæœ‰æ‰€å·®å¼‚ï¼‰ï¼Œè¶…è¿‡æµè§ˆå™¨æœ€å¤§è¿æ¥æ•°é™åˆ¶ï¼Œåç»­è¯·æ±‚å°±ä¼šè¢«é˜»å¡ã€‚          DNS æŸ¥è¯¢ï¼ˆDNS Lookupï¼‰ï¼šæµè§ˆå™¨éœ€è¦çŸ¥é“ç›®æ ‡æœåŠ¡å™¨çš„ IP æ‰èƒ½å»ºç«‹è¿æ¥ã€‚å°†åŸŸåè§£æä¸º IP çš„è¿™ä¸ªç³»ç»Ÿå°±æ˜¯ DNSã€‚é€šå¸¸å¯ä»¥åˆ©ç”¨DNSç¼“å­˜ç»“æœæ¥å‡å°‘è¿™ä¸ªæ—¶é—´ã€‚          å»ºç«‹è¿æ¥ï¼ˆInitial connectionï¼‰ï¼šHTTP æ˜¯åŸºäº TCP åè®®çš„ï¼Œæµè§ˆå™¨æœ€å¿«ä¹Ÿè¦åœ¨ç¬¬ä¸‰æ¬¡æ¡æ‰‹æ—¶æ‰èƒ½å»ºç«‹è¿æ¥ï¼Œè¿æ¥æ— æ³•å¤ç”¨ä¼šå¯¼è‡´æ¯æ¬¡è¯·æ±‚éƒ½ç»å†ä¸‰æ¬¡æ¡æ‰‹å’Œæ…¢å¯åŠ¨ã€‚ä¸‰æ¬¡æ¡æ‰‹åœ¨é«˜å»¶è¿Ÿçš„åœºæ™¯ä¸‹å½±å“è¾ƒæ˜æ˜¾ï¼Œæ…¢å¯åŠ¨åˆ™å¯¹æ–‡ä»¶ç±»çš„å¤§è¯·æ±‚å½±å“è¾ƒå¤§ã€‚                          äº’è”ç½‘ä¸“å®¶ä»¬å°†æ–°ä¸€ä»£åŠ å¯†åè®®ç§°ä¸ºâ€œHTTP 2.0â€ã€‚                                          HTTP2.0ç‰¹ç‚¹  äºŒè¿›åˆ¶ä¼ è¾“http2.0é‡‡ç”¨äºŒè¿›åˆ¶ä¼ è¾“ï¼Œç›¸è¾ƒäºæ–‡æœ¬ä¼ è¾“çš„http1.0æ¥è¯´æ›´åŠ å®‰å…¨å¯é ã€‚  å¤šè·¯å¤ç”¨http1.0ä¸€ä¸ªè¿æ¥åªèƒ½æäº¤ä¸€ä¸ªè¯·æ±‚ï¼Œè€Œhttp2.0å¯ä»¥åŒæ—¶å¤„ç†å¤šä¸ªè¯·æ±‚ï¼Œå¯ä»¥é™ä½è¿æ¥çš„å ç”¨æ•°é‡ï¼Œæå‡ç½‘ç»œçš„é€Ÿåº¦ã€‚  å¤´éƒ¨å‹ç¼©http2.0ä½¿ç”¨HPACKç®—æ³•å¯¹å¤´éƒ¨è¿›è¡Œå‹ç¼©ï¼Œæ—¢é¿å…äº†é‡å¤headerçš„ä¼ è¾“ï¼Œåˆå‡å°äº†éœ€è¦ä¼ è¾“æ•°æ®çš„å¤§å°ã€‚  æœåŠ¡ç«¯æ¨é€æœåŠ¡ç«¯å¯ä»¥ä¸»åŠ¨æ¨é€èµ„æºç»™å®¢æˆ·ç«¯ï¼Œé¿å…å®¢æˆ·ç«¯èŠ±è¿‡å¤šçš„æ—¶é—´é€ä¸ªè¯·æ±‚èµ„æºï¼Œé™ä½æ•´ä¸ªè¯·æ±‚çš„å“åº”æ—¶é—´ã€‚HTTPSHTTPSæ¦‚è¿°HTTPSæ˜¯HTTPçš„å®‰å…¨ç‰ˆï¼ŒHTTPSçš„å®‰å…¨åŸºç¡€æ˜¯SSLï¼ŒHTTPSæ˜¯è®©HTTPå…ˆå’ŒSSLï¼ˆSecure Sockets Layerï¼‰é€šä¿¡ï¼Œå†ç”±SSLå’ŒTCPé€šä¿¡ã€‚å³HTTPSä½¿ç”¨äº†éš§é“è¿›è¡Œé€šä¿¡ã€‚HTTPS = HTTP+SSL/TLSã€‚::: tipé€šè¿‡ä½¿ç”¨ SSLï¼ŒHTTPs å…·æœ‰äº†åŠ å¯†ï¼ˆé˜²çªƒå¬ï¼‰ã€è®¤è¯ï¼ˆé˜²ä¼ªè£…ï¼‰å’Œå®Œæ•´æ€§ä¿æŠ¤ï¼ˆé˜²ç¯¡æ”¹ï¼‰:::  ç”±äºHTTPæŠ¥æ–‡çš„ä¸å®‰å…¨æ€§ï¼Œç½‘æ™¯åœ¨1994å¹´å°±åˆ›å»ºäº†HTTPSï¼Œå¹¶ç”¨åœ¨æµè§ˆå™¨ä¸­ã€‚æœ€åˆHTTPSæ˜¯å’ŒSSLä¸€èµ·ä½¿ç”¨ï¼Œç„¶åæ¼”åŒ–ä¸ºTLSã€‚SSLï¼TLSåœ¨OSIæ¨¡å‹ä¸­éƒ½æ˜¯è¡¨ç¤ºå±‚çš„åè®®ã€‚SSLä½¿ ç”¨40 ä½å…³é”®å­—ä½œä¸ºRC4æµåŠ å¯†ç®—æ³•ï¼Œè¿™å¯¹äºå•†ä¸šä¿¡æ¯çš„åŠ å¯†æ˜¯åˆé€‚çš„ã€‚HTTPå‡çº§HTTPS  CAè¯ä¹¦ï¼Œå¤§éƒ¨åˆ†è¯ä¹¦éƒ½æ˜¯éœ€è¦æ”¶è´¹çš„ï¼Œå½“ç„¶ï¼Œè‡ªå·±åœ¨æœåŠ¡å™¨ä¸Šç”¨opensslä¹Ÿå¯ä»¥ï¼Œä¸è¿‡æµè§ˆå™¨ä¼šæç¤ºå½“å‰ç§å¯†è¿æ¥ä¸å®‰å…¨è¿™ä¸ªè­¦å‘Šï¼Œæ™®é€šäººçœ‹åˆ°è¿™ç§ä¿¡æ¯æ˜¯ä¸ä¼šç»§ç»­æµè§ˆçš„ï¼Œæ‰€ä»¥ï¼Œæƒ³ä½¿ç”¨HTTPSï¼Œå¯ä»¥ä½¿ç”¨Letâ€™s Encryptï¼Œç”±è°·æ­Œç­‰å…¬å¸æ¨è¡Œã€‚  HTTPSæ€§èƒ½ä¼˜åŒ–ï¼ŒSSLæ¡æ‰‹ï¼ŒHTTPS å¯¹é€Ÿåº¦ä¼šæœ‰ä¸€å®šç¨‹åº¦çš„é™ä½ï¼Œä½†æ˜¯åªè¦ç»è¿‡åˆç†ä¼˜åŒ–å’Œéƒ¨ç½²ï¼ŒHTTPS å¯¹é€Ÿåº¦çš„å½±å“å®Œå…¨å¯ä»¥æ¥å—ã€‚  CPUè®¡ç®—å‹åŠ›ï¼ŒHTTPSä¸­å¤§é‡çš„ç§˜é’¥ç®—æ³•è®¡ç®—ï¼Œå¯¹CPUä¼šæœ‰ä¸€å®šçš„å‹åŠ›ã€‚  httpå’Œhttpsä½¿ç”¨çš„æ˜¯å®Œå…¨ä¸åŒçš„è¿æ¥æ–¹å¼ï¼Œhttpç«¯å£æ˜¯80ï¼Œhttpsç«¯å£æ˜¯443ã€‚::: tipHTTPSä¸‹çš„ç½‘ç«™ï¼Œæ‰€æœ‰å­é“¾éƒ½è¦ä½¿ç”¨HTTPSã€‚:::OAuth 2.0æ¦‚è¿°  OAuth 2.0æ˜¯è¡Œä¸šæ ‡å‡†çš„æˆæƒåè®®ã€‚OAuth 2.0å–ä»£äº†2006å¹´åˆ›å»ºçš„åŸå§‹OAuthåè®®æ‰€åšçš„å·¥ä½œ.OAuth 2.0ä¸“æ³¨äºå®¢æˆ·ç«¯å¼€å‘äººå‘˜çš„ç®€å•æ€§ï¼ŒåŒæ—¶ä¸ºWebåº”ç”¨ç¨‹åºï¼Œæ¡Œé¢åº”ç”¨ç¨‹åºï¼Œç§»åŠ¨ç”µè¯å’Œå®¢å…è®¾å¤‡æä¾›ç‰¹å®šçš„æˆæƒæµç¨‹ã€‚è¯¥è§„èŒƒåŠå…¶æ‰©å±•æ­£åœ¨IETF OAuthå·¥ä½œç»„å†…å¼€å‘ã€‚OAuth å°±æ˜¯ä¸€ç§æˆæƒæœºåˆ¶ã€‚æ•°æ®çš„æ‰€æœ‰è€…å‘Šè¯‰ç³»ç»Ÿï¼ŒåŒæ„æˆæƒç¬¬ä¸‰æ–¹åº”ç”¨è¿›å…¥ç³»ç»Ÿï¼Œè·å–è¿™äº›æ•°æ®ã€‚ç³»ç»Ÿä»è€Œäº§ç”Ÿä¸€ä¸ªçŸ­æœŸçš„è¿›å…¥ä»¤ç‰Œï¼ˆtokenï¼‰ï¼Œç”¨æ¥ä»£æ›¿å¯†ç ï¼Œä¾›ç¬¬ä¸‰æ–¹åº”ç”¨ä½¿ç”¨ã€‚æˆæƒæ–¹å¼  æˆæƒç ï¼ˆauthorization-codeï¼‰          ç”³è¯·ä¸€ä¸ªæˆæƒç       ç”¨æˆæƒç è·å–ä»¤ç‰Œ      ::: tipå®‰å…¨æ€§é«˜:::  éšè—å¼ï¼ˆimplicitï¼‰          ç›´æ¥å‘å‰ç«¯é¢å‘ä»¤ç‰Œ      ::: tipå®‰å…¨æ€§ä½ï¼ˆåªèƒ½ç”¨äºå®‰å…¨è¦æ±‚ä¸é«˜çš„åœºæ™¯ï¼Œå¹¶ä¸”ä»¤ç‰Œçš„æœ‰æ•ˆæœŸå¿…é¡»éå¸¸çŸ­ï¼Œé€šå¸¸å°±æ˜¯ä¼šè¯æœŸé—´ï¼ˆsessionï¼‰æœ‰æ•ˆï¼Œæµè§ˆå™¨å…³æ‰ï¼Œä»¤ç‰Œå°±å¤±æ•ˆäº†ã€‚ï¼‰:::  å¯†ç å¼ï¼ˆpasswordï¼‰          ç”¨æˆ·åå’Œå¯†ç ï¼Œç›´æ¥å‘Šè¯‰è¯¥åº”ç”¨      ::: tipç”¨æˆ·é«˜åº¦ä¿¡ä»»çš„åº”ç”¨ï¼ˆæš´éœ²äº†ç”¨æˆ·åå’Œå¯†ç ï¼‰:::  å®¢æˆ·ç«¯å‡­è¯ï¼ˆclient credentialsï¼‰          åœ¨å‘½ä»¤è¡Œä¸‹è¯·æ±‚ä»¤ç‰Œ      ::: tipä¸€èˆ¬é’ˆå¯¹ç¬¬ä¸‰æ–¹åº”ç”¨ï¼Œè€Œä¸æ˜¯é’ˆå¯¹ç”¨æˆ·çš„ï¼Œå³æœ‰å¯èƒ½å¤šä¸ªç”¨æˆ·å…±äº«åŒä¸€ä¸ªä»¤ç‰Œã€‚:::æ›´æ–°ä»¤ç‰Œä»¤ç‰Œåˆ°æœŸå‰ï¼Œç”¨æˆ·ä½¿ç”¨ refresh token å‘ä¸€ä¸ªè¯·æ±‚ï¼Œå»æ›´æ–°ä»¤ç‰Œã€‚RESTæ¦‚è¿°ä¸€ç§è½¯ä»¶æ¶æ„é£æ ¼ï¼ŒRESTçš„æ¶æ„é£æ ¼æ˜¯é’ˆå¯¹Webåº”ç”¨è®¾è®¡å’Œå¼€å‘çš„ï¼Œå®ƒä½¿å¾—HTTPåè®®çš„åŸæœ¬é¢è²Œå¾—ä»¥è¢«äº†è§£ã€‚ä½¿ç”¨RESTå¯ä»¥é™ä½å¼€å‘çš„å¤æ‚æ€§ï¼Œæé«˜ç³»ç»Ÿçš„å¯ä¼¸ç¼©æ€§ã€‚å¦‚ä»Šï¼ŒRESTæ¶æ„å·²ç»æˆä¸ºä¸»æµæŠ€æœ¯ã€‚RESTçš„è®¾è®¡æ ‡å‡†  ç½‘ç»œä¸Šçš„æ‰€æœ‰äº‹ç‰©éƒ½è¢«æŠ½è±¡ä¸ºèµ„æºï¼ˆresourceï¼‰ã€‚  æ¯ä¸ªèµ„æºå¯¹åº”ä¸€ä¸ªå”¯ä¸€çš„èµ„æºæ ‡è¯†ç¬¦ï¼ˆresource identifierï¼‰ã€‚  é€šè¿‡é€šç”¨çš„è¿æ¥å™¨æ¥å£ï¼ˆgeneric connector interfaceï¼‰å¯¹èµ„æºè¿›è¡Œæ“ä½œã€‚  å¯¹èµ„æºçš„å„ç§æ“ä½œä¸ä¼šæ”¹å˜èµ„æºæ ‡è¯†ç¬¦ã€‚  æ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯æ— çŠ¶æ€çš„ï¼ˆstatelessï¼‰ã€‚"
},

{
"title": "JUnit å•å…ƒæµ‹è¯•",
"url": "/posts/JUnit-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/",
"categories": "å•å…ƒæµ‹è¯•",
"tags": "å•å…ƒæµ‹è¯•, JUnit",
"date": "2018-04-13 10:39:06 +0800",







"snippet": "JUnit å•å…ƒæµ‹è¯•æ¦‚è¿°  JUnit æ˜¯ç”¨äºç¼–å†™å’Œè¿è¡Œå¯é‡å¤çš„è‡ªåŠ¨åŒ–æµ‹è¯•çš„å¼€æºæµ‹è¯•æ¡†æ¶ï¼Œè¿™æ ·å¯ä»¥ä¿è¯æˆ‘ä»¬çš„ä»£ç æŒ‰é¢„æœŸå·¥ä½œã€‚JUnit å¯å¹¿æ³›ç”¨äºå·¥ä¸šå’Œä½œä¸ºæ”¯æ¶(ä»å‘½ä»¤è¡Œ)æˆ–IDE(å¦‚ IDEA)å†…å•ç‹¬çš„ Java ç¨‹åºã€‚  æ–­è¨€æµ‹è¯•é¢„æœŸç»“æœã€‚  æµ‹è¯•åŠŸèƒ½å…±äº«é€šç”¨çš„æµ‹è¯•æ•°æ®ã€‚  æµ‹è¯•å¥—ä»¶è½»æ¾åœ°ç»„ç»‡å’Œè¿è¡Œæµ‹è¯•ã€‚  å›¾å½¢å’Œæ–‡æœ¬æµ‹è¯•è¿è¡Œã€‚ç‰¹ç‚¹  JUnit æ˜¯ç”¨äºç¼–å†™å’Œè¿è¡Œæµ‹è¯•çš„å¼€æºæ¡†æ¶ã€‚  æä¾›...",
"content": "JUnit å•å…ƒæµ‹è¯•æ¦‚è¿°  JUnit æ˜¯ç”¨äºç¼–å†™å’Œè¿è¡Œå¯é‡å¤çš„è‡ªåŠ¨åŒ–æµ‹è¯•çš„å¼€æºæµ‹è¯•æ¡†æ¶ï¼Œè¿™æ ·å¯ä»¥ä¿è¯æˆ‘ä»¬çš„ä»£ç æŒ‰é¢„æœŸå·¥ä½œã€‚JUnit å¯å¹¿æ³›ç”¨äºå·¥ä¸šå’Œä½œä¸ºæ”¯æ¶(ä»å‘½ä»¤è¡Œ)æˆ–IDE(å¦‚ IDEA)å†…å•ç‹¬çš„ Java ç¨‹åºã€‚  æ–­è¨€æµ‹è¯•é¢„æœŸç»“æœã€‚  æµ‹è¯•åŠŸèƒ½å…±äº«é€šç”¨çš„æµ‹è¯•æ•°æ®ã€‚  æµ‹è¯•å¥—ä»¶è½»æ¾åœ°ç»„ç»‡å’Œè¿è¡Œæµ‹è¯•ã€‚  å›¾å½¢å’Œæ–‡æœ¬æµ‹è¯•è¿è¡Œã€‚ç‰¹ç‚¹  JUnit æ˜¯ç”¨äºç¼–å†™å’Œè¿è¡Œæµ‹è¯•çš„å¼€æºæ¡†æ¶ã€‚  æä¾›äº†æ³¨é‡Šï¼Œä»¥ç¡®å®šæµ‹è¯•æ–¹æ³•ã€‚  æä¾›æ–­è¨€æµ‹è¯•é¢„æœŸç»“æœã€‚  æä¾›äº†æµ‹è¯•è¿è¡Œçš„è¿è¡Œæµ‹è¯•ã€‚  JUnit æµ‹è¯•è®©æ‚¨å¯ä»¥æ›´å¿«åœ°ç¼–å†™ä»£ç ï¼Œæé«˜è´¨é‡  JUnit æ˜¯ä¼˜é›…ç®€æ´ã€‚å®ƒæ˜¯ä¸é‚£ä¹ˆå¤æ‚ä»¥åŠä¸éœ€è¦èŠ±è´¹å¤ªå¤šçš„æ—¶é—´ã€‚  JUnit æµ‹è¯•å¯ä»¥è‡ªåŠ¨è¿è¡Œï¼Œæ£€æŸ¥è‡ªå·±çš„ç»“æœï¼Œå¹¶æä¾›å³æ—¶åé¦ˆã€‚æ²¡æœ‰å¿…è¦é€šè¿‡æµ‹è¯•ç»“æœæŠ¥å‘Šæ¥æ‰‹åŠ¨æ¢³ç†ã€‚  JUnit æµ‹è¯•å¯ä»¥ç»„ç»‡æˆæµ‹è¯•å¥—ä»¶åŒ…å«æµ‹è¯•æ¡ˆä¾‹ï¼Œç”šè‡³å…¶ä»–æµ‹è¯•å¥—ä»¶ã€‚  Junit æ˜¾ç¤ºæµ‹è¯•è¿›åº¦çš„ï¼Œå¦‚æœæµ‹è¯•æ˜¯æ²¡æœ‰é—®é¢˜æ¡å½¢æ˜¯ç»¿è‰²çš„ï¼Œæµ‹è¯•å¤±è´¥åˆ™ä¼šå˜æˆçº¢è‰²ã€‚ä½¿ç”¨Junitå¼•å…¥ä¾èµ–&lt;dependencies&gt;    &lt;dependency&gt;        &lt;groupId&gt;org.springframework&lt;/groupId&gt;        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;        &lt;version&gt;4.3.17.RELEASE&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;        &lt;groupId&gt;junit&lt;/groupId&gt;        &lt;artifactId&gt;junit&lt;/artifactId&gt;        &lt;version&gt;4.12&lt;/version&gt;        &lt;scope&gt;test&lt;/scope&gt;    &lt;/dependency&gt;&lt;/dependencies&gt;åˆ›å»ºæµ‹è¯•ç±»åœ¨æµ‹è¯•åŒ…ä¸‹ src/main/test åˆ›å»ºä¸€ä¸ªåä¸º MyTest çš„æµ‹è¯•ç±»ï¼Œä»£ç å¦‚ä¸‹ï¼šimport org.junit.After;import org.junit.Before;import org.junit.Test;public class MyTest {    /**     * æ‰§è¡Œæµ‹è¯•æ–¹æ³•å‰æ‰§è¡Œ     */    @Before    public void before() {        System.out.println(\"æ‰§è¡Œ before\");    }    /**     * æ‰§è¡Œæµ‹è¯•æ–¹æ³•åæ‰§è¡Œ     */    @After    public void after() {        System.out.println(\"æ‰§è¡Œ after\");    }    @Test    public void testSayHi() {        System.out.println(\"Hi\");    }    @Test    public void testSayHello() {        System.out.println(\"Hello\");    }}JUnit æ³¨è§£      @Test ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹        @Before è¯¥æ–¹æ³•å¿…é¡»åœ¨ç±»ä¸­çš„æ¯ä¸ªæµ‹è¯•ä¹‹å‰æ‰§è¡Œ        @BeforeClass ä¸€èˆ¬åœ¨é™æ€æ–¹æ³•ä¸Šå¿…é¡»æ‰§è¡Œä¸€æ¬¡å¹¶åœ¨ç±»çš„æ‰€æœ‰æµ‹è¯•ä¹‹å‰ã€‚ä¸€èˆ¬æ˜¯å…¬å…±é…ç½®æ–¹æ³•(å¦‚è¿æ¥åˆ°æ•°æ®åº“)ã€‚        @After æµ‹è¯•æ–¹æ³•è¿è¡Œåæ‰§è¡Œ        @AfterClass ä¸@BeforeClassç±»ä¼¼ï¼Œåœ¨æµ‹è¯•ç”¨ä¾‹ç±»åæ‰§è¡Œã€‚(å¦‚ä»æ•°æ®åº“å¦‚æ–­å¼€è¿æ¥)ã€‚        @Ignore æ³¨è§£ä¸º @Ignore çš„æ–¹æ³•å°†ä¸è¢«æ‰§è¡Œã€‚  "
},

{
"title": "Linuxä½¿ç”¨æŒ‡å—",
"url": "/posts/Linux%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/",
"categories": "å„ç§ä½¿ç”¨æŒ‡å—",
"tags": "Linux, Linuxä½¿ç”¨æŒ‡å—",
"date": "2018-04-09 10:39:06 +0800",







"snippet": "å¸¸ç”¨å‘½ä»¤Linux å¼€å…³æœºå‘½ä»¤é‡å¯  reboot  shutdown -r now    å…³æœº    shutdown -h now    ç³»ç»Ÿç®¡ç†å‘½ä»¤    |      å‘½ä»¤\t |                      è¯´æ˜ ||â€”â€”â€”:|â€”â€”â€”â€”â€”â€”â€”â€”:||    stat\t | æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶çš„ç›¸å…³ä¿¡æ¯,æ¯”lså‘½ä»¤æ˜¾ç¤ºå†…å®¹æ›´å¤š ||     who\t |            ...",
"content": "å¸¸ç”¨å‘½ä»¤Linux å¼€å…³æœºå‘½ä»¤é‡å¯  reboot  shutdown -r now    å…³æœº    shutdown -h now    ç³»ç»Ÿç®¡ç†å‘½ä»¤    |      å‘½ä»¤\t |                      è¯´æ˜ ||â€”â€”â€”:|â€”â€”â€”â€”â€”â€”â€”â€”:||    stat\t | æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶çš„ç›¸å…³ä¿¡æ¯,æ¯”lså‘½ä»¤æ˜¾ç¤ºå†…å®¹æ›´å¤š ||     who\t |                æ˜¾ç¤ºåœ¨çº¿ç™»å½•ç”¨æˆ· || hostname |                 \tæ˜¾ç¤ºä¸»æœºåç§° ||   uname\t |                  æ˜¾ç¤ºç³»ç»Ÿä¿¡æ¯ ||     top\t |        æ˜¾ç¤ºå½“å‰ç³»ç»Ÿä¸­è€—è´¹èµ„æºæœ€å¤šçš„è¿›ç¨‹ ||      ps\t |               æ˜¾ç¤ºç¬é—´çš„è¿›ç¨‹çŠ¶æ€ ||      du\t |  æ˜¾ç¤ºæŒ‡å®šçš„æ–‡ä»¶ï¼ˆç›®å½•ï¼‰å·²ä½¿ç”¨çš„ç£ç›˜ç©ºé—´çš„æ€»é‡ ||      df\t |         æ˜¾ç¤ºæ–‡ä»¶ç³»ç»Ÿç£ç›˜ç©ºé—´çš„ä½¿ç”¨æƒ…å†µ ||     free |       \tæ˜¾ç¤ºå½“å‰å†…å­˜å’Œäº¤æ¢ç©ºé—´çš„ä½¿ç”¨æƒ…å†µ || ifconfig |               \tæ˜¾ç¤ºç½‘ç»œæ¥å£ä¿¡æ¯ ||    ping\t |                æµ‹è¯•ç½‘ç»œçš„è¿é€šæ€§ ||  netstat |               \tæ˜¾ç¤ºç½‘ç»œçŠ¶æ€ä¿¡æ¯ ||   clear\t |                      æ¸…å± ||    kill\t |                  æ€æ­»ä¸€ä¸ªè¿›ç¨‹ |    åŸºæœ¬æ“ä½œå¸¸ç”¨        | å‘½ä»¤    |                è¯´æ˜ |                                           \tè¯­æ³• |    å‚æ•° | \tå‚æ•°è¯´æ˜             ||â€”â€”-|â€”â€”â€”â€”â€”â€”:|â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-:|â€”â€”:|â€”â€”â€”â€”â€”â€”-|| ls\t   |        æ˜¾ç¤ºæ–‡ä»¶å’Œç›®å½•åˆ—è¡¨\t |                         ls [-alrtAFR] [nameâ€¦] |       |                   || \t     |                   |                                               |    -l | åˆ—å‡ºæ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯         || \t     |                   |                                               |    -a | åˆ—å‡ºå½“å‰ç›®å½•æ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…å«éšè—æ–‡ä»¶ || mkdir |              åˆ›å»ºç›®å½• |                            mkdir [-p] dirName |       |                   ||       |                   |                                             \t |   -p\t | çˆ¶ç›®å½•ä¸å­˜åœ¨æƒ…å†µä¸‹å…ˆç”Ÿæˆçˆ¶ç›®å½•   || cd    |              åˆ‡æ¢ç›®å½• |                                  cd [dirName] |       |                   || touch |           ç”Ÿæˆä¸€ä¸ªç©ºæ–‡ä»¶ |                                               |       |                   || echo  |         ç”Ÿæˆä¸€ä¸ªå¸¦å†…å®¹æ–‡ä»¶ |          echo abcd &gt; 1.txtï¼Œecho 1234Â Â» 1.txt |       |                   || cat   |          æ˜¾ç¤ºæ–‡æœ¬æ–‡ä»¶å†…å®¹ | cat [-AbeEnstTuv] [â€“help] [â€“version] fileName |       |                   || cp    |           å¤åˆ¶æ–‡ä»¶æˆ–ç›®å½• |                      cp [options] source dest |       |                   || rm    |              åˆ é™¤æ–‡ä»¶ |                            rm [options] nameâ€¦ |       |                   ||       |                   |                                               |    -f | å¼ºåˆ¶åˆ é™¤æ–‡ä»¶æˆ–ç›®å½•         ||       |                   |                                               |    -r | åŒæ—¶åˆ é™¤è¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶     || mv    |           ç§»åŠ¨æ–‡ä»¶æˆ–ç›®å½• |                      mv [options] source dest |       |                   || find  |     åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­æŸ¥æ‰¾æŒ‡å®šçš„æ–‡ä»¶ |                                               |       |                   ||       |                   |                                               | -name | æ–‡ä»¶å               || grep  | åœ¨æŒ‡å®šçš„æ–‡æœ¬æ–‡ä»¶ä¸­æŸ¥æ‰¾æŒ‡å®šçš„å­—ç¬¦ä¸² |                                               |       |                   || tree  |     ç”¨äºä»¥æ ‘çŠ¶å›¾åˆ—å‡ºç›®å½•çš„å†…å®¹ |                                               |       |                   || pwd   |          æ˜¾ç¤ºå½“å‰å·¥ä½œç›®å½• |                                               |       |                   || ln    |             å»ºç«‹è½¯é“¾æ¥ |                                               |       |                   || more  |        åˆ†é¡µæ˜¾ç¤ºæ–‡æœ¬æ–‡ä»¶å†…å®¹ |                                               |       |                   || head  |          æ˜¾ç¤ºæ–‡ä»¶å¼€å¤´å†…å®¹ |                                               |       |                   || tail  |          æ˜¾ç¤ºæ–‡ä»¶ç»“å°¾å†…å®¹ |                                               |       |                   ||       |                   |                                               |    -f | è·Ÿè¸ªè¾“å‡º              |  åå°å®ˆæŠ¤è¿è¡Œnohup java -jar -Xms512m -Xmx512m -Xmn128m -Dspring.config.location=./application.yml /usr/local/webapp/webapp-0.0.1-SNAPSHOT.jar &gt;./start.log &amp;æŸ¥çœ‹è¿›ç¨‹ps -ef|grep nameæ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨lsof -i:8080æŸ¥çœ‹æ—¥å¿—tail -f log.outè®¾ç½® Root è´¦æˆ·å¯†ç sudo passwd rootè®¾ç½®å…è®¸è¿œç¨‹ç™»å½• Rootvi /etc/ssh/sshd_config# Authentication:LoginGraceTime 120#PermitRootLogin without-password     //æ³¨é‡Šæ­¤è¡ŒPermitRootLogin yes                             //åŠ å…¥æ­¤è¡ŒStrictModes yesé‡å¯æœåŠ¡service ssh restartä¿®æ”¹ Hostname# ä½¿ç”¨ hostnamectl å‘½ä»¤ä¿®æ”¹ï¼Œå…¶ä¸­ tboss ä¸ºæ–°çš„ä¸»æœºåhostnamectl set-hostname tbosså…³é—­äº¤æ¢ç©ºé—´sudo swapoff -aé¿å…å¼€æœºå¯åŠ¨äº¤æ¢ç©ºé—´ï¼š#æ³¨é‡Š /etc/fstab ä¸­çš„ swapå…³é—­é˜²ç«å¢™ufw disableç¼–è¾‘æ•°æ®æºvi /etc/apt/sources.list//åˆ é™¤å…¨éƒ¨å†…å®¹å¹¶ä¿®æ”¹ä¸ºdeb http://mirrors.aliyun.com/ubuntu/ xenial main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverseLinux ç¼–è¾‘å™¨vimè¿è¡Œæ¨¡å¼ç¼–è¾‘æ¨¡å¼ï¼šç­‰å¾…ç¼–è¾‘å‘½ä»¤è¾“å…¥æ’å…¥æ¨¡å¼ï¼šç¼–è¾‘æ¨¡å¼ä¸‹ï¼Œè¾“å…¥ i è¿›å…¥æ’å…¥æ¨¡å¼ï¼Œæ’å…¥æ–‡æœ¬ä¿¡æ¯å‘½ä»¤æ¨¡å¼ï¼šåœ¨ç¼–è¾‘æ¨¡å¼ä¸‹ï¼Œè¾“å…¥ : è¿›è¡Œå‘½ä»¤æ¨¡å¼å‘½ä»¤:q ç›´æ¥é€€å‡ºvi:wq ä¿å­˜åé€€å‡ºvi ï¼Œå¹¶å¯ä»¥æ–°å»ºæ–‡ä»¶:q! å¼ºåˆ¶é€€å‡º:w file å°†å½“å‰å†…å®¹ä¿å­˜æˆæŸä¸ªæ–‡ä»¶:set number åœ¨ç¼–è¾‘æ–‡ä»¶æ˜¾ç¤ºè¡Œå·:set nonumber\tåœ¨ç¼–è¾‘æ–‡ä»¶ä¸æ˜¾ç¤ºè¡Œå·nanonano æ˜¯ä¸€ä¸ªå­—ç¬¦ç»ˆç«¯çš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œæœ‰ç‚¹åƒ DOS ä¸‹çš„ editor ç¨‹åºã€‚å®ƒæ¯” vi/vim è¦ç®€å•å¾—å¤šï¼Œæ¯”è¾ƒé€‚åˆ Linux åˆå­¦è€…ä½¿ç”¨ã€‚æŸäº› Linux å‘è¡Œç‰ˆçš„é»˜è®¤ç¼–è¾‘å™¨å°±æ˜¯ nanoã€‚å‘½ä»¤  ä¿å­˜ï¼šctrl + o  æœç´¢ï¼šctrl + w  ä¸Šä¸€é¡µï¼šctrl + y  ä¸‹ä¸€é¡µï¼šctrl + v  é€€å‡ºï¼šctrl + xlinuxå‘½ä»¤å¿«æ·æŸ¥è¯¢      https://www.macrozheng.com/mall/reference/linux_command.html#%E8%BD%AF%E4%BB%B6%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E7%AE%A1%E7%90%86    https://wangchujiang.com/linux-command/  Linuxé˜²ç«å¢™Firewallå’ŒIptablesçš„ä½¿ç”¨  https://www.macrozheng.com/mall/reference/linux_firewall.html#firewall"
},

{
"title": "å‹æµ‹å·¥å…·JMeterç®€ä»‹ä¸ä½¿ç”¨",
"url": "/posts/%E5%8E%8B%E6%B5%8B%E5%B7%A5%E5%85%B7JMeter%E7%AE%80%E4%BB%8B%E4%B8%8E%E4%BD%BF%E7%94%A8/",
"categories": "å„ç§ä½¿ç”¨æŒ‡å—",
"tags": "JMeter, å‹åŠ›æµ‹è¯•",
"date": "2018-04-08 10:39:06 +0800",







"snippet": "ä¸‹è½½å®‰è£…ä½¿ç”¨JMeterä¹‹å‰ï¼Œå…ˆå®‰è£…JAVAç¯å¢ƒã€‚  https://jmeter.apache.orgè§£å‹è¿è¡Œè§£å‹ä¸‹è½½çš„å®‰è£…åŒ…ï¼Œåˆ°binç›®å½•ä¸‹è¿è¡ŒApacheJMeter.jarã€‚åˆ‡æ¢è¯­è¨€ï¼šã€Optionsã€‘-&gt;ã€Choose Languageã€‘å˜æ›´ä¸ºç®€ä½“ä¸­æ–‡æµ‹è¯•  å³å‡»æµ‹è¯•è®¡åˆ’&gt;æ·»åŠ &gt;çº¿ç¨‹ç”¨æˆ·Threadsï¼ˆUsersï¼‰&gt;çº¿ç¨‹ç»„ã€‚  çº¿ç¨‹æ•°ï¼šè¿™é‡Œå°±æ˜¯æŒ‡è™šæ‹Ÿç”¨æˆ·æ•°ï¼Œ...",
"content": "ä¸‹è½½å®‰è£…ä½¿ç”¨JMeterä¹‹å‰ï¼Œå…ˆå®‰è£…JAVAç¯å¢ƒã€‚  https://jmeter.apache.orgè§£å‹è¿è¡Œè§£å‹ä¸‹è½½çš„å®‰è£…åŒ…ï¼Œåˆ°binç›®å½•ä¸‹è¿è¡ŒApacheJMeter.jarã€‚åˆ‡æ¢è¯­è¨€ï¼šã€Optionsã€‘-&gt;ã€Choose Languageã€‘å˜æ›´ä¸ºç®€ä½“ä¸­æ–‡æµ‹è¯•  å³å‡»æµ‹è¯•è®¡åˆ’&gt;æ·»åŠ &gt;çº¿ç¨‹ç”¨æˆ·Threadsï¼ˆUsersï¼‰&gt;çº¿ç¨‹ç»„ã€‚  çº¿ç¨‹æ•°ï¼šè¿™é‡Œå°±æ˜¯æŒ‡è™šæ‹Ÿç”¨æˆ·æ•°ï¼Œé»˜è®¤çš„è¾“å…¥æ˜¯1ï¼Œåˆ™è¡¨æ˜æ¨¡æ‹Ÿä¸€ä¸ªè™šæ‹Ÿç”¨æˆ·è®¿é—®è¢«æµ‹ç³»ç»Ÿï¼Œå¦‚æœæƒ³æ¨¡æ‹Ÿ100ä¸ªç”¨æˆ·ï¼Œåˆ™æ­¤å¤„è¾“å…¥100ã€‚  Ramp-Up Period (in seconds): è™šæ‹Ÿç”¨æˆ·å¢é•¿æ—¶é•¿ã€‚ä¸æ˜ç™½åˆ«ç€æ€¥ï¼Œxmeterå›ç»™ä½ ä¸¾ä¸ªæ —å­ï¼šæ¯”å¦‚ä½ æµ‹è¯•çš„æ˜¯ä¸€ä¸ªè€ƒå‹¤ç³»ç»Ÿï¼Œé‚£ä¹ˆå®é™…ç”¨æˆ·ç™»å½•ä½¿ç”¨è€ƒå‹¤ç³»ç»Ÿçš„æ—¶å€™å¹¶ä¸æ˜¯å¤§å®¶å–Š1ã€2ã€3 - èµ°èµ·ï¼Œç„¶åä¸€èµ·ç™»å½•ã€‚å®é™…ä½¿ç”¨åœºæ™¯å¯èƒ½æ˜¯9ç‚¹é’Ÿä¸Šç­ï¼Œé‚£ä¹ˆä»8:30å¼€å§‹ï¼Œè€ƒå‹¤ç³»ç»Ÿä¼šé™†é™†ç»­ç»­æœ‰äººå¼€å§‹ç™»å½•ï¼Œç›´åˆ°9:10å·¦å³ï¼Œé‚£ä¹ˆå¦‚æœå®Œå…¨æŒ‰ç…§ç”¨æˆ·çš„ä½¿ç”¨åœºæ™¯ï¼Œè®¾è®¡è¯¥æµ‹è¯•çš„æ—¶å€™æ­¤å¤„åº”è¾“å…¥40ï¼ˆåˆ†é’Ÿï¼‰* 60ï¼ˆç§’ï¼‰= 2400ã€‚ä½†æ˜¯å®é™…æµ‹è¯•ä¸€èˆ¬ä¸ä¼šè®¾ç½®å¦‚æ­¤é•¿çš„Ramp-Upæ—¶é—´ï¼ŒåŸå› å˜›ï¼Œéš¾é“ä½ åšä¸€æ¬¡æµ‹è¯•è¦å…ˆç­‰ä¸Š40åˆ†é’Ÿåšç™»å½•æ“ä½œï¼Ÿä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¯ä»¥ä¼°è®¡å‡ºç™»å½•é¢‘ç‡æœ€é«˜çš„æ—¶é—´é•¿åº¦ï¼Œæ¯”å¦‚æ­¤å¤„å¯èƒ½ä»8:55åˆ°9:00ç™»å½•çš„äººæœ€å¤šï¼Œé‚£è¿™é‡Œè®¾ç½®æˆ300ç§’ï¼Œå¦‚æœâ€œçº¿ç¨‹æ•°â€è¾“å…¥ä¸º100ï¼Œåˆ™æ„å‘³ç€åœ¨5åˆ†é’Ÿå†…100ç”¨æˆ·ç™»å½•å®Œæ¯•ã€‚  å¾ªç¯æ¬¡æ•°ï¼šè¯¥å¤„è®¾ç½®ä¸€ä¸ªè™šæ‹Ÿç”¨æˆ·åšå¤šå°‘æ¬¡çš„æµ‹è¯•ã€‚é»˜è®¤ä¸º1ï¼Œæ„å‘³ç€ä¸€ä¸ªè™šæ‹Ÿç”¨æˆ·åšå®Œä¸€éäº‹æƒ…ä¹‹åï¼Œè¯¥è™šæ‹Ÿç”¨æˆ·åœæ­¢è¿è¡Œã€‚å¦‚æœé€‰ä¸­â€œæ°¸è¿œâ€ï¼Œåˆ™æ„å‘³ç€æµ‹è¯•è¿è¡Œèµ·æ¥ä¹‹åå°±æ ¹æœ¬åœä¸ä¸‹æ¥äº†ï¼Œé™¤éä½ æŠŠå®ƒå¼ºåˆ¶å’”åš“ã€‚  æ¥ä¸‹æ¥çš„ä¸€æ­¥å°±æ˜¯è¦åŠ å…¥å®é™…è¢«æµ‹é¡µé¢ï¼Œå³å‡»çº¿ç¨‹ç»„ &gt; æ·»åŠ  &gt; å–æ ·å™¨Sampler &gt; HTTPè¯·æ±‚ã€‚  å³å‡»çº¿ç¨‹ç»„ &gt; ç›‘å¬å™¨ &gt; å¯Ÿçœ‹ç»“æœæ ‘æ¥æŸ¥çœ‹æ€§èƒ½æµ‹è¯•è¿‡ç¨‹ä¸­è¯·æ±‚å’Œå“åº”ä¿¡æ¯ã€‚  å³å‡»çº¿ç¨‹ç»„ &gt; ç›‘å¬å™¨ &gt; æ±‡æ€»æŠ¥å‘Šæ¥æŸ¥çœ‹æ€§èƒ½æµ‹è¯•æ±‡æ€»ä¿¡æ¯ã€‚å‚è€ƒæ–‡ç«   https://zhuanlan.zhihu.com/p/28319871"
},

{
"title": "Mavenç®€ä»‹ä¸ä½¿ç”¨",
"url": "/posts/Maven%E7%AE%80%E4%BB%8B%E4%B8%8E%E4%BD%BF%E7%94%A8/",
"categories": "å„ç§ä½¿ç”¨æŒ‡å—",
"tags": "Mavenå¸¸ç”¨å‘½ä»¤, Maven",
"date": "2018-04-07 10:39:06 +0800",







"snippet": "æ¦‚è¿°  Maven æ˜¯ä¸€ä¸ªé¡¹ç›®ç®¡ç†å’Œç»¼åˆå·¥å…·ã€‚Maven æä¾›äº†å¼€å‘äººå‘˜æ„å»ºä¸€ä¸ªå®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸæ¡†æ¶ã€‚å¼€å‘å›¢é˜Ÿå¯ä»¥è‡ªåŠ¨å®Œæˆé¡¹ç›®çš„åŸºç¡€å·¥å…·å»ºè®¾ï¼ŒMaven ä½¿ç”¨æ ‡å‡†çš„ç›®å½•ç»“æ„å’Œé»˜è®¤æ„å»ºç”Ÿå‘½å‘¨æœŸã€‚  åœ¨å¤šä¸ªå¼€å‘å›¢é˜Ÿç¯å¢ƒæ—¶ï¼ŒMaven å¯ä»¥è®¾ç½®æŒ‰æ ‡å‡†åœ¨éå¸¸çŸ­çš„æ—¶é—´é‡Œå®Œæˆé…ç½®å·¥ä½œã€‚ç”±äºå¤§éƒ¨åˆ†é¡¹ç›®çš„è®¾ç½®éƒ½å¾ˆç®€å•ï¼Œå¹¶ä¸”å¯é‡å¤ä½¿ç”¨ï¼ŒMaven è®©å¼€å‘äººå‘˜çš„å·¥ä½œæ›´è½»æ¾ï¼ŒåŒæ—¶åˆ›å»ºæŠ¥è¡¨ï¼Œæ£€æŸ¥ï¼Œæ„å»ºå’Œæµ‹è¯•è‡ªåŠ¨åŒ–è®¾ç½®...",
"content": "æ¦‚è¿°  Maven æ˜¯ä¸€ä¸ªé¡¹ç›®ç®¡ç†å’Œç»¼åˆå·¥å…·ã€‚Maven æä¾›äº†å¼€å‘äººå‘˜æ„å»ºä¸€ä¸ªå®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸæ¡†æ¶ã€‚å¼€å‘å›¢é˜Ÿå¯ä»¥è‡ªåŠ¨å®Œæˆé¡¹ç›®çš„åŸºç¡€å·¥å…·å»ºè®¾ï¼ŒMaven ä½¿ç”¨æ ‡å‡†çš„ç›®å½•ç»“æ„å’Œé»˜è®¤æ„å»ºç”Ÿå‘½å‘¨æœŸã€‚  åœ¨å¤šä¸ªå¼€å‘å›¢é˜Ÿç¯å¢ƒæ—¶ï¼ŒMaven å¯ä»¥è®¾ç½®æŒ‰æ ‡å‡†åœ¨éå¸¸çŸ­çš„æ—¶é—´é‡Œå®Œæˆé…ç½®å·¥ä½œã€‚ç”±äºå¤§éƒ¨åˆ†é¡¹ç›®çš„è®¾ç½®éƒ½å¾ˆç®€å•ï¼Œå¹¶ä¸”å¯é‡å¤ä½¿ç”¨ï¼ŒMaven è®©å¼€å‘äººå‘˜çš„å·¥ä½œæ›´è½»æ¾ï¼ŒåŒæ—¶åˆ›å»ºæŠ¥è¡¨ï¼Œæ£€æŸ¥ï¼Œæ„å»ºå’Œæµ‹è¯•è‡ªåŠ¨åŒ–è®¾ç½®ã€‚åŠŸèƒ½  Builds-æ„å»º  Documentation-æ–‡æ¡£ç”Ÿæˆ  Reporting-æŠ¥å‘Š  Dependencies-ä¾èµ–  SCMs-SCMs  Releases-å‘å¸ƒ  Distribution-åˆ†å‘  mailing list-é‚®ä»¶åˆ—è¡¨Maven ä¸‹è½½å®‰è£…::: tip æç¤ºç¡®ä¿å·²å®‰è£… JDKï¼Œå¹¶è®¾ç½® JAVA_HOME ç¯å¢ƒå˜é‡åˆ° Windows ç¯å¢ƒå˜é‡ã€‚:::      ä¸‹è½½        æ·»åŠ  MAVEN_HOME ç¯å¢ƒå˜é‡åˆ° Windows ç¯å¢ƒå˜é‡ï¼Œå¹¶å°†å…¶æŒ‡å‘ä½ çš„ Maven æ–‡ä»¶å¤¹ã€‚        æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ - PATH        éªŒè¯ï¼šä½¿ç”¨å‘½ä»¤ï¼šmvn -version  Maven æœ¬åœ°ä»“åº“é…ç½®æ–‡ä»¶è·¯å¾„ä¸ºï¼š{MAVEN_HOME}\\conf\\setting.xml, æ›´æ–°æ–‡ä»¶ä¸­çš„&lt;localRepository&gt;D:/apache-maven-3.6.1/repo&lt;/localRepository&gt;ã€‚æ–°çš„ Maven æœ¬åœ°å­˜å‚¨åº“ç°åœ¨ä¸º D:/apache-maven-3.6.1/repoMaven ä¸­å¤®ä»“åº“å½“ä½ å»ºç«‹ä¸€ä¸ª Maven çš„é¡¹ç›®ï¼ŒMaven ä¼šæ£€æŸ¥ä½ çš„ pom.xml æ–‡ä»¶ï¼Œä»¥ç¡®å®šå“ªäº›ä¾èµ–ä¸‹è½½ã€‚é¦–å…ˆï¼ŒMaven å°†ä»æœ¬åœ°èµ„æºåº“è·å¾— Maven çš„æœ¬åœ°èµ„æºåº“ä¾èµ–èµ„æºï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œç„¶åæŠŠå®ƒä¼šä»é»˜è®¤çš„ Maven ä¸­å¤®å­˜å‚¨åº“ http://repo1.maven.org/maven2/ æŸ¥æ‰¾ä¸‹è½½ã€‚ä¿®æ”¹{MAVEN_HOME}\\conf\\setting.xmlæ–‡ä»¶ä¸­mirrorä¸ºé˜¿é‡Œäº‘çš„é…ç½® &lt;mirror&gt;      &lt;id&gt;nexu-aliyun&lt;/id&gt;      &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;      &lt;name&gt;Nexus aliyun&lt;/name&gt;      &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt;    &lt;/mirror&gt;Maven å¸¸ç”¨å‘½ä»¤      æ¸…ç†é¡¹ç›® mvn clean        ç¼–è¯‘æºä»£ç  mvn compile        æ‰“åŒ… mvn package        æ‰“åŒ…è·³è¿‡æµ‹è¯• mvn package -dmaven.test.skip=true        å®‰è£…åˆ°æœ¬åœ°ä»“åº“ mvn install æˆ– mvn clean install         æºç æ‰“åŒ… mvn source:jar      æˆ–      mvn source:jar-no-fork        å®‰è£…å¤–éƒ¨jaråˆ°æœ¬åœ°ä»“åº“ mvn install:install-file -Dfile=D:/bigdata_repository/Jar/jpinyin-1.1.8.jar -DgroupId=com.github.stuxuhai -DartifactId=jpinyin -Dversion=1.1.8 -Dpackaging=jaræˆ–è€…``` xml       ldapjdk     ldapjdk     system     1.0     ${basedir}\\src\\lib\\jpinyin-1.1.8.jar```"
},

{
"title": "IDEAä½¿ç”¨æŒ‡å—",
"url": "/posts/IDEA%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/",
"categories": "å„ç§ä½¿ç”¨æŒ‡å—",
"tags": "IDEAä½¿ç”¨æŒ‡å—, IDEA",
"date": "2018-04-06 10:39:06 +0800",







"snippet": "æ¦‚è¿°  IDEA å…¨ç§° IntelliJ IDEAï¼Œæ˜¯ Java è¯­è¨€å¼€å‘çš„é›†æˆç¯å¢ƒï¼ŒIntelliJ åœ¨ä¸šç•Œè¢«å…¬è®¤ä¸ºæœ€å¥½çš„ Java å¼€å‘å·¥å…·ä¹‹ä¸€ï¼Œå°¤å…¶åœ¨æ™ºèƒ½ä»£ç åŠ©æ‰‹ã€ä»£ç è‡ªåŠ¨æç¤ºã€é‡æ„ã€J2EE æ”¯æŒã€å„ç±»ç‰ˆæœ¬å·¥å…·(gitã€svnã€github ç­‰)ã€JUnitã€CVS æ•´åˆã€ä»£ç åˆ†æã€ åˆ›æ–°çš„ GUI è®¾è®¡ç­‰æ–¹é¢çš„åŠŸèƒ½å¯ä»¥è¯´æ˜¯è¶…å¸¸çš„ã€‚IDEA æ˜¯ JetBrains å…¬å¸çš„äº§å“ï¼Œè¿™å®¶å…¬...",
"content": "æ¦‚è¿°  IDEA å…¨ç§° IntelliJ IDEAï¼Œæ˜¯ Java è¯­è¨€å¼€å‘çš„é›†æˆç¯å¢ƒï¼ŒIntelliJ åœ¨ä¸šç•Œè¢«å…¬è®¤ä¸ºæœ€å¥½çš„ Java å¼€å‘å·¥å…·ä¹‹ä¸€ï¼Œå°¤å…¶åœ¨æ™ºèƒ½ä»£ç åŠ©æ‰‹ã€ä»£ç è‡ªåŠ¨æç¤ºã€é‡æ„ã€J2EE æ”¯æŒã€å„ç±»ç‰ˆæœ¬å·¥å…·(gitã€svnã€github ç­‰)ã€JUnitã€CVS æ•´åˆã€ä»£ç åˆ†æã€ åˆ›æ–°çš„ GUI è®¾è®¡ç­‰æ–¹é¢çš„åŠŸèƒ½å¯ä»¥è¯´æ˜¯è¶…å¸¸çš„ã€‚IDEA æ˜¯ JetBrains å…¬å¸çš„äº§å“ï¼Œè¿™å®¶å…¬å¸æ€»éƒ¨ä½äºæ·å…‹å…±å’Œå›½çš„é¦–éƒ½å¸ƒæ‹‰æ ¼ï¼Œå¼€å‘äººå‘˜ä»¥ä¸¥è°¨è‘—ç§°çš„ä¸œæ¬§ç¨‹åºå‘˜ä¸ºä¸»ã€‚å®ƒçš„æ——èˆ°ç‰ˆæœ¬è¿˜æ”¯æŒ HTMLï¼ŒCSSï¼ŒPHPï¼ŒMySQLï¼ŒPython ç­‰ã€‚å…è´¹ç‰ˆåªæ”¯æŒ Java ç­‰å°‘æ•°è¯­è¨€ã€‚ç‰¹è‰²åŠŸèƒ½  æ™ºèƒ½çš„é€‰å–ï¼šåœ¨å¾ˆå¤šæ—¶å€™æˆ‘ä»¬è¦é€‰å–æŸä¸ªæ–¹æ³•ï¼Œæˆ–æŸä¸ªå¾ªç¯æˆ–æƒ³ä¸€æ­¥ä¸€æ­¥ä»ä¸€ä¸ªå˜é‡åˆ°æ•´ä¸ªç±»æ…¢æ…¢æ‰©å……ç€é€‰å–ï¼ŒIDEAå°±æä¾›è¿™ç§åŸºäºè¯­æ³•çš„é€‰æ‹©ï¼Œåœ¨é»˜è®¤è®¾ç½®ä¸­ Ctrl + Wï¼Œå¯ä»¥å®ç°é€‰å–èŒƒå›´çš„ä¸æ–­æ‰©å……ï¼Œè¿™ç§æ–¹å¼åœ¨é‡æ„çš„æ—¶å€™å°¤å…¶æ˜¾å¾—æ–¹ä¾¿ã€‚  ä¸°å¯Œçš„å¯¼èˆªæ¨¡å¼ï¼šIDEA æä¾›äº†ä¸°å¯Œçš„å¯¼èˆªæŸ¥çœ‹æ¨¡å¼ï¼Œä¾‹å¦‚ Ctrl + E æ˜¾ç¤ºæœ€è¿‘æ‰“å¼€è¿‡çš„æ–‡ä»¶ï¼ŒCtrl + N æ˜¾ç¤ºä½ å¸Œæœ›æ˜¾ç¤ºçš„ç±»åæŸ¥æ‰¾æ¡†ï¼ˆè¯¥æ¡†åŒæ ·æœ‰æ™ºèƒ½è¡¥å……åŠŸèƒ½ï¼Œå½“ä½ è¾“å…¥å­—æ¯åIDEAå°†æ˜¾ç¤ºæ‰€æœ‰å€™é€‰ç±»åï¼‰ã€‚åœ¨æœ€åŸºæœ¬çš„ Project è§†å›¾ä¸­ï¼Œä½ è¿˜å¯ä»¥é€‰æ‹©å¤šç§çš„è§†å›¾æ–¹å¼ã€‚  å†å²è®°å½•åŠŸèƒ½ï¼šä¸ç”¨é€šè¿‡ç‰ˆæœ¬ç®¡ç†æœåŠ¡å™¨ï¼Œå•çº¯çš„ IDEA å°±å¯ä»¥æŸ¥çœ‹ä»»ä½•å·¥ç¨‹ä¸­æ–‡ä»¶çš„å†å²è®°å½•ï¼Œåœ¨ç‰ˆæœ¬æ¢å¤æ—¶ä½ å¯ä»¥å¾ˆå®¹æ˜“çš„å°†å…¶æ¢å¤ã€‚  JUnit çš„å®Œç¾æ”¯æŒ  å¯¹é‡æ„çš„ä¼˜è¶Šæ”¯æŒï¼šIDEA æ˜¯æ‰€æœ‰ IDE ä¸­æœ€æ—©æ”¯æŒé‡æ„çš„ï¼Œå…¶ä¼˜ç§€çš„é‡æ„èƒ½åŠ›ä¸€ç›´æ˜¯å…¶ä¸»è¦å–ç‚¹ä¹‹ä¸€ã€‚  ç¼–ç è¾…åŠ©ï¼šJava è§„èŒƒä¸­æå€¡çš„ toString()ã€hashCode()ã€equals() ä»¥åŠæ‰€æœ‰çš„ get/set æ–¹æ³•ï¼Œä½ å¯ä»¥ä¸ç”¨è¿›è¡Œä»»ä½•çš„è¾“å…¥å°±å¯ä»¥å®ç°ä»£ç çš„è‡ªåŠ¨ç”Ÿæˆï¼Œä»è€ŒæŠŠä½ ä»æ— èŠçš„åŸºæœ¬æ–¹æ³•ç¼–ç ä¸­è§£æ”¾å‡ºæ¥ã€‚  çµæ´»çš„æ’ç‰ˆåŠŸèƒ½ï¼šåŸºæœ¬æ‰€æœ‰çš„ IDE éƒ½æœ‰é‡æ’ç‰ˆåŠŸèƒ½ï¼Œä½†ä»…æœ‰ IDEA çš„æ˜¯äººæ€§çš„ï¼Œå› ä¸ºå®ƒæ”¯æŒæ’ç‰ˆæ¨¡å¼çš„å®šåˆ¶ï¼Œä½ å¯ä»¥æ ¹æ®ä¸åŒçš„é¡¹ç›®è¦æ±‚é‡‡ç”¨ä¸åŒçš„æ’ç‰ˆæ–¹å¼ã€‚  XML çš„å®Œç¾æ”¯æŒï¼šXML å…¨æç¤ºæ”¯æŒï¼šæ‰€æœ‰æµè¡Œæ¡†æ¶çš„ XML æ–‡ä»¶éƒ½æ”¯æŒå…¨æç¤ºï¼Œè°ç”¨è°çŸ¥é“ã€‚  åŠ¨æ€è¯­æ³•æ£€æµ‹ï¼šä»»ä½•ä¸ç¬¦åˆ Java è§„èŒƒã€è‡ªå·±é¢„å®šä¹‰çš„è§„èŒƒã€ç´¯èµ˜éƒ½å°†åœ¨é¡µé¢ä¸­åŠ äº®æ˜¾ç¤ºã€‚  ä»£ç æ£€æŸ¥ï¼šå¯¹ä»£ç è¿›è¡Œè‡ªåŠ¨åˆ†æï¼Œæ£€æµ‹ä¸ç¬¦åˆè§„èŒƒçš„ï¼Œå­˜åœ¨é£é™©çš„ä»£ç ï¼Œå¹¶åŠ äº®æ˜¾ç¤ºã€‚  å¯¹ JSP çš„å®Œå…¨æ”¯æŒï¼šä¸éœ€è¦ä»»ä½•çš„æ’ä»¶ï¼Œå®Œå…¨æ”¯æŒ JSPã€‚  æ™ºèƒ½ç¼–è¾‘ï¼šä»£ç è¾“å…¥è¿‡ç¨‹ä¸­ï¼Œè‡ªåŠ¨è¡¥å……æ–¹æ³•æˆ–ç±»ã€‚  EJB æ”¯æŒï¼šä¸éœ€è¦ä»»ä½•æ’ä»¶å®Œå…¨æ”¯æŒ EJB(6.0 æ”¯æŒ EJB 3.0)  åˆ—ç¼–è¾‘æ¨¡å¼ï¼šç”¨è¿‡ UtralEdit çš„è‚¯å®šå¯¹å…¶çš„åˆ—ç¼–è¾‘æ¨¡å¼èµèµä¸å·²ï¼Œå› ä¸ºå®ƒå‡å°‘äº†å¾ˆå¤šæ— èŠçš„é‡å¤å·¥ä½œï¼Œè€Œ IDEA å®Œå…¨æ”¯æŒè¯¥æ¨¡å¼ï¼Œä»è€Œæ›´åŠ æé«˜äº†ç¼–ç æ•ˆç‡ã€‚  é¢„ç½®æ¨¡æ¿ï¼šé¢„ç½®æ¨¡æ¿å¯ä»¥è®©ä½ æŠŠç»å¸¸ç”¨åˆ°çš„æ–¹æ³•ç¼–è¾‘è¿›æ¨¡æ¿ï¼Œä½¿ç”¨æ—¶ä½ åªç”¨è¾“å…¥ç®€å•çš„å‡ ä¸ªå­—æ¯å°±å¯ä»¥å®Œæˆå…¨éƒ¨ä»£ç çš„ç¼–å†™ã€‚ä¾‹å¦‚ä½¿ç”¨æ¯”è¾ƒé«˜çš„ public static void main(String[] args){} ä½ å¯ä»¥åœ¨æ¨¡æ¿ä¸­é¢„è®¾ pm ä¸ºè¯¥æ–¹æ³•ï¼Œè¾“å…¥æ—¶ä½ åªè¦è¾“å…¥ pm å†æŒ‰ä»£ç è¾…åŠ©é”®ï¼ŒIDEA å°†å®Œæˆä»£ç çš„è‡ªåŠ¨è¾“å…¥ã€‚  å®Œç¾çš„è‡ªåŠ¨ä»£ç å®Œæˆï¼šæ™ºèƒ½æ£€æŸ¥ç±»ä¸­çš„æ–¹æ³•ï¼Œå½“å‘ç°æ–¹æ³•ååªæœ‰ä¸€ä¸ªæ—¶è‡ªåŠ¨å®Œæˆä»£ç è¾“å…¥ï¼Œä»è€Œå‡å°‘å‰©ä¸‹ä»£ç çš„ç¼–å†™å·¥ä½œã€‚  ç‰ˆæœ¬æ§åˆ¶å®Œç¾æ”¯æŒï¼šé›†æˆäº†ç›®å‰å¸‚é¢ä¸Šå¸¸è§çš„æ‰€æœ‰ç‰ˆæœ¬æ§åˆ¶å·¥å…·æ’ä»¶ï¼ŒåŒ…æ‹¬ gitã€svnã€githubï¼Œè®©å¼€å‘äººå‘˜åœ¨ç¼–ç¨‹çš„å·¥ç¨‹ä¸­ç›´æ¥åœ¨ Intellij IDEA é‡Œå°±èƒ½å®Œæˆä»£ç çš„æäº¤ã€æ£€å‡ºã€è§£å†³å†²çªã€æŸ¥çœ‹ç‰ˆæœ¬æ§åˆ¶æœåŠ¡å™¨å†…å®¹ç­‰ç­‰ã€‚  ä¸ä½¿ç”¨ä»£ç çš„æ£€æŸ¥ï¼šè‡ªåŠ¨æ£€æŸ¥ä»£ç ä¸­ä¸ä½¿ç”¨çš„ä»£ç ï¼Œå¹¶ç»™å‡ºæç¤ºï¼Œä»è€Œä½¿ä»£ç æ›´é«˜æ•ˆã€‚  æ™ºèƒ½ä»£ç ï¼šè‡ªåŠ¨æ£€æŸ¥ä»£ç ï¼Œå‘ç°ä¸é¢„ç½®è§„èŒƒæœ‰å‡ºå…¥çš„ä»£ç ç»™å‡ºæç¤ºï¼Œè‹¥ç¨‹åºå‘˜åŒæ„ä¿®æ”¹è‡ªåŠ¨å®Œæˆä¿®æ”¹ã€‚ä¾‹å¦‚ä»£ç ï¼šString str = â€œHello Intellij â€œ + â€œIDEAâ€; IDEA å°†ç»™å‡ºä¼˜åŒ–æç¤ºï¼Œè‹¥ç¨‹åºå‘˜åŒæ„ä¿®æ”¹ IDEA å°†è‡ªåŠ¨å°†ä»£ç ä¿®æ”¹ä¸ºï¼šString str = â€œHello Intellij IDEAâ€;  æ­£åˆ™è¡¨è¾¾å¼çš„æŸ¥æ‰¾å’Œæ›¿æ¢åŠŸèƒ½ï¼šæŸ¥æ‰¾å’Œæ›¿æ¢æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ï¼Œä»è€Œæé«˜æ•ˆç‡ã€‚  JavaDoc é¢„è§ˆæ”¯æŒï¼šæ”¯æŒ JavaDoc çš„é¢„è§ˆåŠŸèƒ½ï¼Œåœ¨ JavaDoc ä»£ç ä¸­ Ctrl + Q æ˜¾ç¤º JavaDoc çš„ç»“æœï¼Œä»è€Œæé«˜ DOC æ–‡æ¡£çš„è´¨é‡ã€‚  ç¨‹åºå‘˜æ„å›¾æ”¯æŒï¼šç¨‹åºå‘˜ç¼–ç æ—¶ IDEA æ—¶æ—¶æ£€æµ‹ä½ çš„æ„å›¾ï¼Œæˆ–æä¾›å»ºè®®ï¼Œæˆ–ç›´æ¥å¸®ä½ å®Œæˆä»£ç ã€‚ç³»ç»Ÿè¦æ±‚  JDK ç‰ˆæœ¬ï¼šOracle JDK 1.6 æˆ–ä»¥ä¸Š  å†…å­˜ï¼šæœ€ä½è¦æ±‚ 1 GBï¼Œæ¨è 2 GB ä»¥ä¸Š  ç¡¬ç›˜ï¼šæœ€ä½è¦æ±‚ 2 GB  æ˜¾ç¤ºå™¨ï¼šæœ€ä½è¦æ±‚ 1024 X 768 åˆ†è¾¨ç‡ä¸‹è½½åœ°å€åŸºç¡€æ•™ç¨‹åŸºç¡€æ•™ç¨‹åŠä½¿ç”¨æŠ€å·§ -&gt; èœé¸Ÿæ•™ç¨‹ideaå¿«æ·é”®å¤§å…¨  Ctrl            å¿«æ·é”®      ä»‹ç»                  Ctrl + F      åœ¨å½“å‰æ–‡ä»¶è¿›è¡Œæ–‡æœ¬æŸ¥æ‰¾ ï¼ˆå¿…å¤‡ï¼‰              Ctrl + R      åœ¨å½“å‰æ–‡ä»¶è¿›è¡Œæ–‡æœ¬æ›¿æ¢ ï¼ˆå¿…å¤‡ï¼‰              Ctrl + Z      æ’¤é”€ ï¼ˆå¿…å¤‡ï¼‰              Ctrl + Y      åˆ é™¤å…‰æ ‡æ‰€åœ¨è¡Œ æˆ– åˆ é™¤é€‰ä¸­çš„è¡Œ ï¼ˆå¿…å¤‡ï¼‰              Ctrl + X      å‰ªåˆ‡å…‰æ ‡æ‰€åœ¨è¡Œ æˆ– å‰ªåˆ‡é€‰æ‹©å†…å®¹              Ctrl + C      å¤åˆ¶å…‰æ ‡æ‰€åœ¨è¡Œ æˆ– å¤åˆ¶é€‰æ‹©å†…å®¹              Ctrl + D      å¤åˆ¶å…‰æ ‡æ‰€åœ¨è¡Œ æˆ– å¤åˆ¶é€‰æ‹©å†…å®¹ï¼Œå¹¶æŠŠå¤åˆ¶å†…å®¹æ’å…¥å…‰æ ‡ä½ç½®ä¸‹é¢ ï¼ˆå¿…å¤‡ï¼‰              Ctrl + W      é€’è¿›å¼é€‰æ‹©ä»£ç å—ã€‚å¯é€‰ä¸­å…‰æ ‡æ‰€åœ¨çš„å•è¯æˆ–æ®µè½ï¼Œè¿ç»­æŒ‰ä¼šåœ¨åŸæœ‰é€‰ä¸­çš„åŸºç¡€ä¸Šå†æ‰©å±•é€‰ä¸­èŒƒå›´ ï¼ˆå¿…å¤‡ï¼‰              Ctrl + E      æ˜¾ç¤ºæœ€è¿‘æ‰“å¼€çš„æ–‡ä»¶è®°å½•åˆ—è¡¨              Ctrl + N      æ ¹æ®è¾“å…¥çš„ ç±»å æŸ¥æ‰¾ç±»æ–‡ä»¶              Ctrl + G      åœ¨å½“å‰æ–‡ä»¶è·³è½¬åˆ°æŒ‡å®šè¡Œå¤„              Ctrl + J      æ’å…¥è‡ªå®šä¹‰åŠ¨æ€ä»£ç æ¨¡æ¿              Ctrl + P      æ–¹æ³•å‚æ•°æç¤ºæ˜¾ç¤º              Ctrl + Q      å…‰æ ‡æ‰€åœ¨çš„å˜é‡ / ç±»å / æ–¹æ³•åç­‰ä¸Šé¢ï¼ˆä¹Ÿå¯ä»¥åœ¨æç¤ºè¡¥å……çš„æ—¶å€™æŒ‰ï¼‰ï¼Œæ˜¾ç¤ºæ–‡æ¡£å†…å®¹              Ctrl + U      å‰å¾€å½“å‰å…‰æ ‡æ‰€åœ¨çš„æ–¹æ³•çš„çˆ¶ç±»çš„æ–¹æ³• / æ¥å£å®šä¹‰              Ctrl + B      è¿›å…¥å…‰æ ‡æ‰€åœ¨çš„æ–¹æ³•/å˜é‡çš„æ¥å£æˆ–æ˜¯å®šä¹‰å‡ºï¼Œç­‰æ•ˆäº Ctrl + å·¦é”®å•å‡»              Ctrl + K      ç‰ˆæœ¬æ§åˆ¶æäº¤é¡¹ç›®ï¼Œéœ€è¦æ­¤é¡¹ç›®æœ‰åŠ å…¥åˆ°ç‰ˆæœ¬æ§åˆ¶æ‰å¯ç”¨              Ctrl + T      ç‰ˆæœ¬æ§åˆ¶æ›´æ–°é¡¹ç›®ï¼Œéœ€è¦æ­¤é¡¹ç›®æœ‰åŠ å…¥åˆ°ç‰ˆæœ¬æ§åˆ¶æ‰å¯ç”¨              Ctrl + H      æ˜¾ç¤ºå½“å‰ç±»çš„å±‚æ¬¡ç»“æ„              Ctrl + O      é€‰æ‹©å¯é‡å†™çš„æ–¹æ³•              Ctrl + I      é€‰æ‹©å¯ç»§æ‰¿çš„æ–¹æ³•              Ctrl + +      å±•å¼€ä»£ç               Ctrl + -      æŠ˜å ä»£ç               Ctrl + /      æ³¨é‡Šå…‰æ ‡æ‰€åœ¨è¡Œä»£ç ï¼Œä¼šæ ¹æ®å½“å‰ä¸åŒæ–‡ä»¶ç±»å‹ä½¿ç”¨ä¸åŒçš„æ³¨é‡Šç¬¦å· ï¼ˆå¿…å¤‡ï¼‰              Ctrl + [      ç§»åŠ¨å…‰æ ‡åˆ°å½“å‰æ‰€åœ¨ä»£ç çš„èŠ±æ‹¬å·å¼€å§‹ä½ç½®              Ctrl + ]      ç§»åŠ¨å…‰æ ‡åˆ°å½“å‰æ‰€åœ¨ä»£ç çš„èŠ±æ‹¬å·ç»“æŸä½ç½®              Ctrl + F1      åœ¨å…‰æ ‡æ‰€åœ¨çš„é”™è¯¯ä»£ç å‡ºæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯              Ctrl + F3      è°ƒè½¬åˆ°æ‰€é€‰ä¸­çš„è¯çš„ä¸‹ä¸€ä¸ªå¼•ç”¨ä½ç½®              Ctrl + F4      å…³é—­å½“å‰ç¼–è¾‘æ–‡ä»¶              Ctrl + F8      åœ¨ Debug æ¨¡å¼ä¸‹ï¼Œè®¾ç½®å…‰æ ‡å½“å‰è¡Œä¸ºæ–­ç‚¹ï¼Œå¦‚æœå½“å‰å·²ç»æ˜¯æ–­ç‚¹åˆ™å»æ‰æ–­ç‚¹              Ctrl + F9      æ‰§è¡Œ Make Project æ“ä½œ              Ctrl + F11      é€‰ä¸­æ–‡ä»¶ / æ–‡ä»¶å¤¹ï¼Œä½¿ç”¨åŠ©è®°ç¬¦è®¾å®š / å–æ¶ˆä¹¦ç­¾              Ctrl + F12      å¼¹å‡ºå½“å‰æ–‡ä»¶ç»“æ„å±‚ï¼Œå¯ä»¥åœ¨å¼¹å‡ºçš„å±‚ä¸Šç›´æ¥è¾“å…¥ï¼Œè¿›è¡Œç­›é€‰              Ctrl + Tab      ç¼–è¾‘çª—å£åˆ‡æ¢ï¼Œå¦‚æœåœ¨åˆ‡æ¢çš„è¿‡ç¨‹åˆåŠ æŒ‰ä¸Šdeleteï¼Œåˆ™æ˜¯å…³é—­å¯¹åº”é€‰ä¸­çš„çª—å£              Ctrl + Enter      æ™ºèƒ½åˆ†éš”è¡Œ              Ctrl + End      è·³åˆ°æ–‡ä»¶å°¾              Ctrl + Home      è·³åˆ°æ–‡ä»¶å¤´              Ctrl + Space      åŸºç¡€ä»£ç è¡¥å…¨ï¼Œé»˜è®¤åœ¨ Windows ç³»ç»Ÿä¸Šè¢«è¾“å…¥æ³•å ç”¨ï¼Œéœ€è¦è¿›è¡Œä¿®æ”¹ï¼Œå»ºè®®ä¿®æ”¹ä¸º Ctrl + é€—å· ï¼ˆå¿…å¤‡ï¼‰              Ctrl + Delete      åˆ é™¤å…‰æ ‡åé¢çš„å•è¯æˆ–æ˜¯ä¸­æ–‡å¥              Ctrl + BackSpace      åˆ é™¤å…‰æ ‡å‰é¢çš„å•è¯æˆ–æ˜¯ä¸­æ–‡å¥              Ctrl + 1,2,3â€¦9      å®šä½åˆ°å¯¹åº”æ•°å€¼çš„ä¹¦ç­¾ä½ç½®              Ctrl + å·¦é”®å•å‡»      åœ¨æ‰“å¼€çš„æ–‡ä»¶æ ‡é¢˜ä¸Šï¼Œå¼¹å‡ºè¯¥æ–‡ä»¶è·¯å¾„              Ctrl + å…‰æ ‡å®šä½      æŒ‰ Ctrl ä¸è¦æ¾å¼€ï¼Œä¼šæ˜¾ç¤ºå…‰æ ‡æ‰€åœ¨çš„ç±»ä¿¡æ¯æ‘˜è¦              Ctrl + å·¦æ–¹å‘é”®      å…‰æ ‡è·³è½¬åˆ°å½“å‰å•è¯ / ä¸­æ–‡å¥çš„å·¦ä¾§å¼€å¤´ä½ç½®              Ctrl + å³æ–¹å‘é”®      å…‰æ ‡è·³è½¬åˆ°å½“å‰å•è¯ / ä¸­æ–‡å¥çš„å³ä¾§å¼€å¤´ä½ç½®              Ctrl + å‰æ–¹å‘é”®      ç­‰æ•ˆäºé¼ æ ‡æ»šè½®å‘å‰æ•ˆæœ              Ctrl + åæ–¹å‘é”®      ç­‰æ•ˆäºé¼ æ ‡æ»šè½®å‘åæ•ˆæœ        Alt            å¿«æ·é”®      ä»‹ç»                  Alt + `      æ˜¾ç¤ºç‰ˆæœ¬æ§åˆ¶å¸¸ç”¨æ“ä½œèœå•å¼¹å‡ºå±‚              Alt + Q      å¼¹å‡ºä¸€ä¸ªæç¤ºï¼Œæ˜¾ç¤ºå½“å‰ç±»çš„å£°æ˜ / ä¸Šä¸‹æ–‡ä¿¡æ¯              Alt + F1      æ˜¾ç¤ºå½“å‰æ–‡ä»¶é€‰æ‹©ç›®æ ‡å¼¹å‡ºå±‚ï¼Œå¼¹å‡ºå±‚ä¸­æœ‰å¾ˆå¤šç›®æ ‡å¯ä»¥è¿›è¡Œé€‰æ‹©              Alt + F2      å¯¹äºå‰é¢é¡µé¢ï¼Œæ˜¾ç¤ºå„ç±»æµè§ˆå™¨æ‰“å¼€ç›®æ ‡é€‰æ‹©å¼¹å‡ºå±‚              Alt + F3      é€‰ä¸­æ–‡æœ¬ï¼Œé€ä¸ªå¾€ä¸‹æŸ¥æ‰¾ç›¸åŒæ–‡æœ¬ï¼Œå¹¶é«˜äº®æ˜¾ç¤º              Alt + F7      æŸ¥æ‰¾å…‰æ ‡æ‰€åœ¨çš„æ–¹æ³• / å˜é‡ / ç±»è¢«è°ƒç”¨çš„åœ°æ–¹              Alt + F8      åœ¨ Debug çš„çŠ¶æ€ä¸‹ï¼Œé€‰ä¸­å¯¹è±¡ï¼Œå¼¹å‡ºå¯è¾“å…¥è®¡ç®—è¡¨è¾¾å¼è°ƒè¯•æ¡†ï¼ŒæŸ¥çœ‹è¯¥è¾“å…¥å†…å®¹çš„è°ƒè¯•ç»“æœ              Alt + Home      å®šä½ / æ˜¾ç¤ºåˆ°å½“å‰æ–‡ä»¶çš„ Navigation Bar              Alt + Enter      IntelliJ IDEA æ ¹æ®å…‰æ ‡æ‰€åœ¨é—®é¢˜ï¼Œæä¾›å¿«é€Ÿä¿®å¤é€‰æ‹©ï¼Œå…‰æ ‡æ”¾åœ¨çš„ä½ç½®ä¸åŒæç¤ºçš„ç»“æœä¹Ÿä¸åŒ ï¼ˆå¿…å¤‡ï¼‰              Alt + Insert      ä»£ç è‡ªåŠ¨ç”Ÿæˆï¼Œå¦‚ç”Ÿæˆå¯¹è±¡çš„ set / get æ–¹æ³•ï¼Œæ„é€ å‡½æ•°ï¼ŒtoString() ç­‰              Alt + å·¦æ–¹å‘é”®      æŒ‰å·¦æ–¹å‘åˆ‡æ¢å½“å‰å·²æ‰“å¼€çš„æ–‡ä»¶è§†å›¾              Alt + å³æ–¹å‘é”®      æŒ‰å³æ–¹å‘åˆ‡æ¢å½“å‰å·²æ‰“å¼€çš„æ–‡ä»¶è§†å›¾              Alt + å‰æ–¹å‘é”®      å½“å‰å…‰æ ‡è·³è½¬åˆ°å½“å‰æ–‡ä»¶çš„å‰ä¸€ä¸ªæ–¹æ³•åä½ç½®              Alt + åæ–¹å‘é”®      å½“å‰å…‰æ ‡è·³è½¬åˆ°å½“å‰æ–‡ä»¶çš„åä¸€ä¸ªæ–¹æ³•åä½ç½®              Alt + 1,2,3â€¦9      æ˜¾ç¤ºå¯¹åº”æ•°å€¼çš„é€‰é¡¹å¡ï¼Œå…¶ä¸­ 1 æ˜¯ Project ç”¨å¾—æœ€å¤š        Shift            å¿«æ·é”®      ä»‹ç»                  Shift + F1      å¦‚æœæœ‰å¤–éƒ¨æ–‡æ¡£å¯ä»¥è¿æ¥å¤–éƒ¨æ–‡æ¡£              Shift + F2      è·³è½¬åˆ°ä¸Šä¸€ä¸ªé«˜äº®é”™è¯¯ æˆ– è­¦å‘Šä½ç½®              Shift + F3      åœ¨æŸ¥æ‰¾æ¨¡å¼ä¸‹ï¼ŒæŸ¥æ‰¾åŒ¹é…ä¸Šä¸€ä¸ª              Shift + F4      å¯¹å½“å‰æ‰“å¼€çš„æ–‡ä»¶ï¼Œä½¿ç”¨æ–°Windowsçª—å£æ‰“å¼€ï¼Œæ—§çª—å£ä¿ç•™              Shift + F6      å¯¹æ–‡ä»¶ / æ–‡ä»¶å¤¹ é‡å‘½å              Shift + F7      åœ¨ Debug æ¨¡å¼ä¸‹ï¼Œæ™ºèƒ½æ­¥å…¥ã€‚æ–­ç‚¹æ‰€åœ¨è¡Œä¸Šæœ‰å¤šä¸ªæ–¹æ³•è°ƒç”¨ï¼Œä¼šå¼¹å‡ºè¿›å…¥å“ªä¸ªæ–¹æ³•              Shift + F8      åœ¨ Debug æ¨¡å¼ä¸‹ï¼Œè·³å‡ºï¼Œè¡¨ç°å‡ºæ¥çš„æ•ˆæœè·Ÿ F9 ä¸€æ ·              Shift + F9      ç­‰æ•ˆäºç‚¹å‡»å·¥å…·æ çš„ Debug æŒ‰é’®              Shift + F10      ç­‰æ•ˆäºç‚¹å‡»å·¥å…·æ çš„ Run æŒ‰é’®              Shift + F11      å¼¹å‡ºä¹¦ç­¾æ˜¾ç¤ºå±‚              Shift + Tab      å–æ¶ˆç¼©è¿›              Shift + ESC      éšè—å½“å‰ æˆ– æœ€åä¸€ä¸ªæ¿€æ´»çš„å·¥å…·çª—å£              Shift + End      é€‰ä¸­å…‰æ ‡åˆ°å½“å‰è¡Œå°¾ä½ç½®              Shift + Home      é€‰ä¸­å…‰æ ‡åˆ°å½“å‰è¡Œå¤´ä½ç½®              Shift + Enter      å¼€å§‹æ–°ä¸€è¡Œã€‚å…‰æ ‡æ‰€åœ¨è¡Œä¸‹ç©ºå‡ºä¸€è¡Œï¼Œå…‰æ ‡å®šä½åˆ°æ–°è¡Œä½ç½®              Shift + å·¦é”®å•å‡»      åœ¨æ‰“å¼€çš„æ–‡ä»¶åä¸ŠæŒ‰æ­¤å¿«æ·é”®ï¼Œå¯ä»¥å…³é—­å½“å‰æ‰“å¼€æ–‡ä»¶              Shift + æ»šè½®å‰åæ»šåŠ¨      å½“å‰æ–‡ä»¶çš„æ¨ªå‘æ»šåŠ¨è½´æ»šåŠ¨        Ctrl + Alt            å¿«æ·é”®      ä»‹ç»                  Ctrl + Alt + L      æ ¼å¼åŒ–ä»£ç ï¼Œå¯ä»¥å¯¹å½“å‰æ–‡ä»¶å’Œæ•´ä¸ªåŒ…ç›®å½•ä½¿ç”¨ ï¼ˆå¿…å¤‡ï¼‰              Ctrl + Alt + O      ä¼˜åŒ–å¯¼å…¥çš„ç±»ï¼Œå¯ä»¥å¯¹å½“å‰æ–‡ä»¶å’Œæ•´ä¸ªåŒ…ç›®å½•ä½¿ç”¨ ï¼ˆå¿…å¤‡ï¼‰              Ctrl + Alt + I      å…‰æ ‡æ‰€åœ¨è¡Œ æˆ– é€‰ä¸­éƒ¨åˆ†è¿›è¡Œè‡ªåŠ¨ä»£ç ç¼©è¿›ï¼Œæœ‰ç‚¹ç±»ä¼¼æ ¼å¼åŒ–              Ctrl + Alt + T      å¯¹é€‰ä¸­çš„ä»£ç å¼¹å‡ºç¯ç»•é€‰é¡¹å¼¹å‡ºå±‚              Ctrl + Alt + J      å¼¹å‡ºæ¨¡æ¿é€‰æ‹©çª—å£ï¼Œè®²é€‰å®šçš„ä»£ç åŠ å…¥åŠ¨æ€æ¨¡æ¿ä¸­              Ctrl + Alt + H      è°ƒç”¨å±‚æ¬¡              Ctrl + Alt + B      åœ¨æŸä¸ªè°ƒç”¨çš„æ–¹æ³•åä¸Šä½¿ç”¨ä¼šè·³åˆ°å…·ä½“çš„å®ç°å¤„ï¼Œå¯ä»¥è·³è¿‡æ¥å£              Ctrl + Alt + V      å¿«é€Ÿå¼•è¿›å˜é‡              Ctrl + Alt + Y      åŒæ­¥ã€åˆ·æ–°              Ctrl + Alt + S      æ‰“å¼€ IntelliJ IDEA ç³»ç»Ÿè®¾ç½®              Ctrl + Alt + F7      æ˜¾ç¤ºä½¿ç”¨çš„åœ°æ–¹ã€‚å¯»æ‰¾è¢«è¯¥ç±»æˆ–æ˜¯å˜é‡è¢«è°ƒç”¨çš„åœ°æ–¹ï¼Œç”¨å¼¹å‡ºæ¡†çš„æ–¹å¼æ‰¾å‡ºæ¥              Ctrl + Alt + F11      åˆ‡æ¢å…¨å±æ¨¡å¼              Ctrl + Alt + Enter      å…‰æ ‡æ‰€åœ¨è¡Œä¸Šç©ºå‡ºä¸€è¡Œï¼Œå…‰æ ‡å®šä½åˆ°æ–°è¡Œ              Ctrl + Alt + Home      å¼¹å‡ºè·Ÿå½“å‰æ–‡ä»¶æœ‰å…³è”çš„æ–‡ä»¶å¼¹å‡ºå±‚              Ctrl + Alt + Space      ç±»åè‡ªåŠ¨å®Œæˆ              Ctrl + Alt + å·¦æ–¹å‘é”®      é€€å›åˆ°ä¸Šä¸€ä¸ªæ“ä½œçš„åœ°æ–¹ ï¼ˆå¿…å¤‡ï¼‰              Ctrl + Alt + å³æ–¹å‘é”®      å‰è¿›åˆ°ä¸Šä¸€ä¸ªæ“ä½œçš„åœ°æ–¹ ï¼ˆå¿…å¤‡ï¼‰              Ctrl + Alt + å‰æ–¹å‘é”®      åœ¨æŸ¥æ‰¾æ¨¡å¼ä¸‹ï¼Œè·³åˆ°ä¸Šä¸ªæŸ¥æ‰¾çš„æ–‡ä»¶              Ctrl + Alt + åæ–¹å‘é”®      åœ¨æŸ¥æ‰¾æ¨¡å¼ä¸‹ï¼Œè·³åˆ°ä¸‹ä¸ªæŸ¥æ‰¾çš„æ–‡ä»¶        Ctrl + Shift            å¿«æ·é”®      ä»‹ç»                  Ctrl + Shift + F      æ ¹æ®è¾“å…¥å†…å®¹æŸ¥æ‰¾æ•´ä¸ªé¡¹ç›® æˆ– æŒ‡å®šç›®å½•å†…æ–‡ä»¶ ï¼ˆå¿…å¤‡ï¼‰              Ctrl + Shift + R      æ ¹æ®è¾“å…¥å†…å®¹æ›¿æ¢å¯¹åº”å†…å®¹ï¼ŒèŒƒå›´ä¸ºæ•´ä¸ªé¡¹ç›® æˆ– æŒ‡å®šç›®å½•å†…æ–‡ä»¶ ï¼ˆå¿…å¤‡ï¼‰              Ctrl + Shift + J      è‡ªåŠ¨å°†ä¸‹ä¸€è¡Œåˆå¹¶åˆ°å½“å‰è¡Œæœ«å°¾ ï¼ˆå¿…å¤‡ï¼‰              Ctrl + Shift + Z      å–æ¶ˆæ’¤é”€ ï¼ˆå¿…å¤‡ï¼‰              Ctrl + Shift + W      é€’è¿›å¼å–æ¶ˆé€‰æ‹©ä»£ç å—ã€‚å¯é€‰ä¸­å…‰æ ‡æ‰€åœ¨çš„å•è¯æˆ–æ®µè½ï¼Œè¿ç»­æŒ‰ä¼šåœ¨åŸæœ‰é€‰ä¸­çš„åŸºç¡€ä¸Šå†æ‰©å±•å–æ¶ˆé€‰ä¸­èŒƒå›´ ï¼ˆå¿…å¤‡ï¼‰              Ctrl + Shift + N      é€šè¿‡æ–‡ä»¶åå®šä½ / æ‰“å¼€æ–‡ä»¶ / ç›®å½•ï¼Œæ‰“å¼€ç›®å½•éœ€è¦åœ¨è¾“å…¥çš„å†…å®¹åé¢å¤šåŠ ä¸€ä¸ªæ­£æ–œæ  ï¼ˆå¿…å¤‡ï¼‰              Ctrl + Shift + U      å¯¹é€‰ä¸­çš„ä»£ç è¿›è¡Œå¤§ / å°å†™è½®æµè½¬æ¢ ï¼ˆå¿…å¤‡ï¼‰              Ctrl + Shift + T      å¯¹å½“å‰ç±»ç”Ÿæˆå•å…ƒæµ‹è¯•ç±»ï¼Œå¦‚æœå·²ç»å­˜åœ¨çš„å•å…ƒæµ‹è¯•ç±»åˆ™å¯ä»¥è¿›è¡Œé€‰æ‹©              Ctrl + Shift + C      å¤åˆ¶å½“å‰æ–‡ä»¶ç£ç›˜è·¯å¾„åˆ°å‰ªè´´æ¿              Ctrl + Shift + V      å¼¹å‡ºç¼“å­˜çš„æœ€è¿‘æ‹·è´çš„å†…å®¹ç®¡ç†å™¨å¼¹å‡ºå±‚              Ctrl + Shift + E      æ˜¾ç¤ºæœ€è¿‘ä¿®æ”¹çš„æ–‡ä»¶åˆ—è¡¨çš„å¼¹å‡ºå±‚              Ctrl + Shift + H      æ˜¾ç¤ºæ–¹æ³•å±‚æ¬¡ç»“æ„              Ctrl + Shift + B      è·³è½¬åˆ°ç±»å‹å£°æ˜å¤„              Ctrl + Shift + I      å¿«é€ŸæŸ¥çœ‹å…‰æ ‡æ‰€åœ¨çš„æ–¹æ³• æˆ– ç±»çš„å®šä¹‰              Ctrl + Shift + A      æŸ¥æ‰¾åŠ¨ä½œ / è®¾ç½®              Ctrl + Shift + /      ä»£ç å—æ³¨é‡Š ï¼ˆå¿…å¤‡ï¼‰              Ctrl + Shift + [      é€‰ä¸­ä»å…‰æ ‡æ‰€åœ¨ä½ç½®åˆ°å®ƒçš„é¡¶éƒ¨ä¸­æ‹¬å·ä½ç½®              Ctrl + Shift + ]      é€‰ä¸­ä»å…‰æ ‡æ‰€åœ¨ä½ç½®åˆ°å®ƒçš„åº•éƒ¨ä¸­æ‹¬å·ä½ç½®              Ctrl + Shift + +      å±•å¼€æ‰€æœ‰ä»£ç               Ctrl + Shift + -      æŠ˜å æ‰€æœ‰ä»£ç               Ctrl + Shift + F7      é«˜äº®æ˜¾ç¤ºæ‰€æœ‰è¯¥é€‰ä¸­æ–‡æœ¬ï¼ŒæŒ‰Escé«˜äº®æ¶ˆå¤±              Ctrl + Shift + F8      åœ¨ Debug æ¨¡å¼ä¸‹ï¼ŒæŒ‡å®šæ–­ç‚¹è¿›å…¥æ¡ä»¶              Ctrl + Shift + F9      ç¼–è¯‘é€‰ä¸­çš„æ–‡ä»¶ / åŒ… / Module              Ctrl + Shift + F12      ç¼–è¾‘å™¨æœ€å¤§åŒ–              Ctrl + Shift + Space      æ™ºèƒ½ä»£ç æç¤º              Ctrl + Shift + Enter      è‡ªåŠ¨ç»“æŸä»£ç ï¼Œè¡Œæœ«è‡ªåŠ¨æ·»åŠ åˆ†å· ï¼ˆå¿…å¤‡ï¼‰              Ctrl + Shift + Backspace      é€€å›åˆ°ä¸Šæ¬¡ä¿®æ”¹çš„åœ°æ–¹              Ctrl + Shift + 1,2,3â€¦9      å¿«é€Ÿæ·»åŠ æŒ‡å®šæ•°å€¼çš„ä¹¦ç­¾              Ctrl + Shift + å·¦æ–¹å‘é”®      åœ¨ä»£ç æ–‡ä»¶ä¸Šï¼Œå…‰æ ‡è·³è½¬åˆ°å½“å‰å•è¯ / ä¸­æ–‡å¥çš„å·¦ä¾§å¼€å¤´ä½ç½®ï¼ŒåŒæ—¶é€‰ä¸­è¯¥å•è¯ / ä¸­æ–‡å¥              Ctrl + Shift + å³æ–¹å‘é”®      åœ¨ä»£ç æ–‡ä»¶ä¸Šï¼Œå…‰æ ‡è·³è½¬åˆ°å½“å‰å•è¯ / ä¸­æ–‡å¥çš„å³ä¾§å¼€å¤´ä½ç½®ï¼ŒåŒæ—¶é€‰ä¸­è¯¥å•è¯ / ä¸­æ–‡å¥              Ctrl + Shift + å·¦æ–¹å‘é”®      åœ¨å…‰æ ‡ç„¦ç‚¹æ˜¯åœ¨å·¥å…·é€‰é¡¹å¡ä¸Šï¼Œç¼©å°é€‰é¡¹å¡åŒºåŸŸ              Ctrl + Shift + å³æ–¹å‘é”®      åœ¨å…‰æ ‡ç„¦ç‚¹æ˜¯åœ¨å·¥å…·é€‰é¡¹å¡ä¸Šï¼Œæ‰©å¤§é€‰é¡¹å¡åŒºåŸŸ              Ctrl + Shift + å‰æ–¹å‘é”®      å…‰æ ‡æ”¾åœ¨æ–¹æ³•åä¸Šï¼Œå°†æ–¹æ³•ç§»åŠ¨åˆ°ä¸Šä¸€ä¸ªæ–¹æ³•å‰é¢ï¼Œè°ƒæ•´æ–¹æ³•æ’åº              Ctrl + Shift + åæ–¹å‘é”®      å…‰æ ‡æ”¾åœ¨æ–¹æ³•åä¸Šï¼Œå°†æ–¹æ³•ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªæ–¹æ³•å‰é¢ï¼Œè°ƒæ•´æ–¹æ³•æ’åº        Alt + Shift            å¿«æ·é”®      ä»‹ç»                  Alt + Shift + N      é€‰æ‹© / æ·»åŠ  task              Alt + Shift + F      æ˜¾ç¤ºæ·»åŠ åˆ°æ”¶è—å¤¹å¼¹å‡ºå±‚              Alt + Shift + C      æŸ¥çœ‹æœ€è¿‘æ“ä½œé¡¹ç›®çš„å˜åŒ–æƒ…å†µåˆ—è¡¨              Alt + Shift + F      æ·»åŠ åˆ°æ”¶è—å¤¹              Alt + Shift + I      æŸ¥çœ‹é¡¹ç›®å½“å‰æ–‡ä»¶              Alt + Shift + F7      åœ¨ Debug æ¨¡å¼ä¸‹ï¼Œä¸‹ä¸€æ­¥ï¼Œè¿›å…¥å½“å‰æ–¹æ³•ä½“å†…ï¼Œå¦‚æœæ–¹æ³•ä½“è¿˜æœ‰æ–¹æ³•ï¼Œåˆ™ä¼šè¿›å…¥è¯¥å†…åµŒçš„æ–¹æ³•ä¸­ï¼Œä¾æ­¤å¾ªç¯è¿›å…¥              Alt + Shift + F9      å¼¹å‡º Debug çš„å¯é€‰æ‹©èœå•              Alt + Shift + F10      å¼¹å‡º Run çš„å¯é€‰æ‹©èœå•              Alt + Shift + å·¦é”®åŒå‡»      é€‰æ‹©è¢«åŒå‡»çš„å•è¯ / ä¸­æ–‡å¥ï¼ŒæŒ‰ä½ä¸æ”¾ï¼Œå¯ä»¥åŒæ—¶é€‰æ‹©å…¶ä»–å•è¯ / ä¸­æ–‡å¥              Alt + Shift + å‰æ–¹å‘é”®      ç§»åŠ¨å…‰æ ‡æ‰€åœ¨è¡Œå‘ä¸Šç§»åŠ¨              Alt + Shift + åæ–¹å‘é”®      ç§»åŠ¨å…‰æ ‡æ‰€åœ¨è¡Œå‘ä¸‹ç§»åŠ¨        Ctrl + Shift + Alt            å¿«æ·é”®      ä»‹ç»                  Ctrl + Shift + Alt + V      æ— æ ¼å¼é»è´´              Ctrl + Shift + Alt + N      å‰å¾€æŒ‡å®šçš„å˜é‡ / æ–¹æ³•              Ctrl + Shift + Alt + S      æ‰“å¼€å½“å‰é¡¹ç›®è®¾ç½®              Ctrl + Shift + Alt + C      å¤åˆ¶å‚è€ƒä¿¡æ¯        å…¶ä»–            å¿«æ·é”®      ä»‹ç»                  F2      è·³è½¬åˆ°ä¸‹ä¸€ä¸ªé«˜äº®é”™è¯¯ æˆ– è­¦å‘Šä½ç½® ï¼ˆå¿…å¤‡ï¼‰              F3      åœ¨æŸ¥æ‰¾æ¨¡å¼ä¸‹ï¼Œå®šä½åˆ°ä¸‹ä¸€ä¸ªåŒ¹é…å¤„              F4      ç¼–è¾‘æº              F7      åœ¨ Debug æ¨¡å¼ä¸‹ï¼Œè¿›å…¥ä¸‹ä¸€æ­¥ï¼Œå¦‚æœå½“å‰è¡Œæ–­ç‚¹æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œåˆ™è¿›å…¥å½“å‰æ–¹æ³•ä½“å†…ï¼Œå¦‚æœè¯¥æ–¹æ³•ä½“è¿˜æœ‰æ–¹æ³•ï¼Œåˆ™ä¸ä¼šè¿›å…¥è¯¥å†…åµŒçš„æ–¹æ³•ä¸­              F8      åœ¨ Debug æ¨¡å¼ä¸‹ï¼Œè¿›å…¥ä¸‹ä¸€æ­¥ï¼Œå¦‚æœå½“å‰è¡Œæ–­ç‚¹æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œåˆ™ä¸è¿›å…¥å½“å‰æ–¹æ³•ä½“å†…              F9      åœ¨ Debug æ¨¡å¼ä¸‹ï¼Œæ¢å¤ç¨‹åºè¿è¡Œï¼Œä½†æ˜¯å¦‚æœè¯¥æ–­ç‚¹ä¸‹é¢ä»£ç è¿˜æœ‰æ–­ç‚¹åˆ™åœåœ¨ä¸‹ä¸€ä¸ªæ–­ç‚¹ä¸Š              F11      æ·»åŠ ä¹¦ç­¾              F12      å›åˆ°å‰ä¸€ä¸ªå·¥å…·çª—å£              Tab      ç¼©è¿›              ESC      ä»å·¥å…·çª—å£è¿›å…¥ä»£ç æ–‡ä»¶çª—å£              è¿æŒ‰ä¸¤æ¬¡Shift      å¼¹å‡º Search Everywhere å¼¹å‡ºå±‚      "
},

{
"title": "markdownä½¿ç”¨æŒ‡å—",
"url": "/posts/markdown%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/",
"categories": "å„ç§ä½¿ç”¨æŒ‡å—",
"tags": "markdown, markdownè¯­æ³•, markdownä½¿ç”¨",
"date": "2018-04-05 10:39:06 +0800",







"snippet": "markdownè¯­æ³•ç›®å½•ç”Ÿæˆ[toc]æ ‡é¢˜# è¿™æ˜¯ä¸€çº§æ ‡é¢˜## è¿™æ˜¯äºŒçº§æ ‡é¢˜### è¿™æ˜¯ä¸‰çº§æ ‡é¢˜#### è¿™æ˜¯å››çº§æ ‡é¢˜##### è¿™æ˜¯äº”çº§æ ‡é¢˜æ®µè½   ä¸¤ä¸ªä»¥ä¸Šç©ºæ ¼åŠ ä¸Šå›è½¦å›¾ç‰‡![alt](http://img.jpg \"title\")altå›¾ç‰‡ä¸‹é¢çš„æ–‡å­—ï¼Œå›¾ç‰‡å†…å®¹çš„è§£é‡Šã€‚titleå›¾ç‰‡çš„æ ‡é¢˜ï¼Œé¼ æ ‡ç§»åˆ°å›¾ç‰‡ä¸Šæ—¶æ˜¾ç¤ºã€‚è¶…é“¾æ¥[ç™¾åº¦](https://baidu.com)ç¤ºä¾‹ï¼šå”æ‚¦ç®å­—ä½“**åŠ ç²—...",
"content": "markdownè¯­æ³•ç›®å½•ç”Ÿæˆ[toc]æ ‡é¢˜# è¿™æ˜¯ä¸€çº§æ ‡é¢˜## è¿™æ˜¯äºŒçº§æ ‡é¢˜### è¿™æ˜¯ä¸‰çº§æ ‡é¢˜#### è¿™æ˜¯å››çº§æ ‡é¢˜##### è¿™æ˜¯äº”çº§æ ‡é¢˜æ®µè½   ä¸¤ä¸ªä»¥ä¸Šç©ºæ ¼åŠ ä¸Šå›è½¦å›¾ç‰‡![alt](http://img.jpg \"title\")altå›¾ç‰‡ä¸‹é¢çš„æ–‡å­—ï¼Œå›¾ç‰‡å†…å®¹çš„è§£é‡Šã€‚titleå›¾ç‰‡çš„æ ‡é¢˜ï¼Œé¼ æ ‡ç§»åˆ°å›¾ç‰‡ä¸Šæ—¶æ˜¾ç¤ºã€‚è¶…é“¾æ¥[ç™¾åº¦](https://baidu.com)ç¤ºä¾‹ï¼šå”æ‚¦ç®å­—ä½“**åŠ ç²—**  æˆ–&lt;b&gt;&lt;/b&gt;åŒ…å›´*å€¾æ–œ****æ–œä½“åŠ ç²—***~~åˆ é™¤çº¿~~åŠ ç²—å€¾æ–œæ–œä½“åŠ ç²—åˆ é™¤çº¿å¼•ç”¨&gt;å¼•ç”¨çš„å†…å®¹&gt;&gt;å¼•ç”¨çš„å†…å®¹&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;å¼•ç”¨çš„å†…å®¹  å¼•ç”¨çš„å†…å®¹      å¼•ç”¨çš„å†…å®¹                                                                                                            å¼•ç”¨çš„å†…å®¹                                                                                          æ— åºåˆ—è¡¨  æ— åºåˆ—è¡¨``` markdown          åˆ—è¡¨      åˆ—è¡¨      åˆ—è¡¨  tipsï¼š- + * è·Ÿå†…å®¹åé¢æœ‰ç©ºæ ¼```        åˆ—è¡¨  åˆ—è¡¨  åˆ—è¡¨æœ‰åºåˆ—è¡¨    1. åˆ—è¡¨å†…å®¹        - 111        - 111    2. åˆ—è¡¨å†…å®¹        1. 222        2. 222    3. åˆ—è¡¨å†…å®¹        - 333            1. 333            2. 333        - 444            - 444            - 444    tipsï¼šåºå·è·Ÿå†…å®¹åé¢æœ‰ç©ºæ ¼  åˆ—è¡¨å†…å®¹          111      111        åˆ—è¡¨å†…å®¹  222  222  åˆ—è¡¨å†…å®¹          333              333      333     - 444                  444          444                    è¡¨æ ¼  è¡¨å¤´|è¡¨å¤´|è¡¨å¤´  ---|:---:|---:  å†…å®¹|å†…å®¹|å†…å®¹  æ–‡å­—é»˜è®¤å±…å·¦  ä¸¤è¾¹åŠ ï¼šæ–‡å­—å±…ä¸­  å³è¾¹åŠ ï¼šæ–‡å­—å±…å³  tipsï¼šåŸç”Ÿè¯­æ³•ä¸¤è¾¹éƒ½ç”¨ |            åç§°      æ€§åˆ«      æŠ€èƒ½                  tyw      ç”·      å…¨æ ˆ      ä»£ç     `å•è¡Œä»£ç `    (```)      ä»£ç å—...    (```)    æˆ–è€…    ```    ä»£ç å—...    ```åˆ†å‰²çº¿    ---    ----    ***    *****æç¤º    ::: tip æç¤º    this is a tip    :::    ::: warning æ³¨æ„    this is a tip    :::    ::: danger è­¦å‘Š    this is a tip    :::::: tip æç¤ºæç¤º tip:::::: warning æ³¨æ„æ³¨æ„ tip:::::: danger è­¦å‘Šè­¦å‘Š tip:::"
},

{
"title": "å¼€å‘å¸¸ç”¨å·¥å…·ç±»",
"url": "/posts/%E5%BC%80%E5%8F%91%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7%E7%B1%BB/",
"categories": "å¼€å‘å¸¸ç”¨å·¥å…·ç±»",
"tags": "guava, JSON",
"date": "2018-03-03 10:39:06 +0800",







"snippet": "å¼€å‘å¸¸ç”¨å·¥å…·ç±»Google guavaguavaçš„ä¼˜ç‚¹  é«˜æ•ˆè®¾è®¡è‰¯å¥½çš„APIï¼Œè¢«Googleçš„å¼€å‘è€…è®¾è®¡ï¼Œå®ç°å’Œä½¿ç”¨  éµå¾ªé«˜æ•ˆçš„javaè¯­æ³•å®è·µ  ä½¿ä»£ç æ›´åˆ»åº¦ï¼Œç®€æ´ï¼Œç®€å•  èŠ‚çº¦æ—¶é—´ï¼Œèµ„æºï¼Œæé«˜ç”Ÿäº§åŠ›    guavaçš„æ ¸å¿ƒåº“    é›†åˆ [collections]  ç¼“å­˜ [caching]  åŸç”Ÿç±»å‹æ”¯æŒ [primitives support]  å¹¶å‘åº“ [concurrency...",
"content": "å¼€å‘å¸¸ç”¨å·¥å…·ç±»Google guavaguavaçš„ä¼˜ç‚¹  é«˜æ•ˆè®¾è®¡è‰¯å¥½çš„APIï¼Œè¢«Googleçš„å¼€å‘è€…è®¾è®¡ï¼Œå®ç°å’Œä½¿ç”¨  éµå¾ªé«˜æ•ˆçš„javaè¯­æ³•å®è·µ  ä½¿ä»£ç æ›´åˆ»åº¦ï¼Œç®€æ´ï¼Œç®€å•  èŠ‚çº¦æ—¶é—´ï¼Œèµ„æºï¼Œæé«˜ç”Ÿäº§åŠ›    guavaçš„æ ¸å¿ƒåº“    é›†åˆ [collections]  ç¼“å­˜ [caching]  åŸç”Ÿç±»å‹æ”¯æŒ [primitives support]  å¹¶å‘åº“ [concurrency libraries]  é€šç”¨æ³¨è§£ [common annotations]  å­—ç¬¦ä¸²å¤„ç† [string processing]  I/O ç­‰ç­‰ã€‚mavenå¼•å…¥&lt;dependency&gt;    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;    &lt;artifactId&gt;guava&lt;/artifactId&gt;    &lt;version&gt;23.0&lt;/version&gt;&lt;/dependency&gt;åŸºæœ¬å·¥å…·[Basic utilities]é›†åˆ[Collections]MultiMapMultiSetç»Ÿè®¡ä¸€ä¸ªè¯åœ¨æ–‡æ¡£ä¸­å‡ºç°äº†å¤šå°‘æ¬¡ï¼Œä¼ ç»Ÿçš„åšæ³•æ˜¯è¿™æ ·çš„ï¼šMap&lt;String, Integer&gt; counts = new HashMap&lt;String, Integer&gt;();for (String word : words) {    Integer count = counts.get(word);    if (count == null) {        counts.put(word, 1);    } else {        counts.put(word, count + 1);    }}Multiset.addAll(Collection)å¯ä»¥æ·»åŠ Collectionä¸­çš„æ‰€æœ‰å…ƒç´ å¹¶è¿›è¡Œè®¡æ•°Tableå½“ä½ æƒ³ä½¿ç”¨å¤šä¸ªé”®åšç´¢å¼•çš„æ—¶å€™ï¼Œä½ å¯èƒ½ä¼šç”¨ç±»ä¼¼Map&lt;FirstName, Map&lt;LastName, PersonÂ»çš„å®ç°ï¼Œè¿™ç§æ–¹å¼å¾ˆä¸‘é™‹ï¼Œä½¿ç”¨ä¸Šä¹Ÿä¸å‹å¥½ã€‚Guavaä¸ºæ­¤æä¾›äº†æ–°é›†åˆç±»å‹Tableï¼Œå®ƒæœ‰ä¸¤ä¸ªæ”¯æŒæ‰€æœ‰ç±»å‹çš„é”®ï¼šâ€è¡Œâ€å’Œâ€åˆ—â€ã€‚Tableæä¾›å¤šç§è§†å›¾ï¼Œä»¥ä¾¿ä½ ä»å„ç§è§’åº¦ä½¿ç”¨å®ƒï¼š  rowMap()ï¼šç”¨Map&lt;R, Map&lt;C, VÂ»è¡¨ç°Table&lt;R, C, V&gt;ã€‚åŒæ ·çš„ï¼Œ rowKeySet()è¿”å›â€è¡Œâ€çš„é›†åˆSetã€‚  row(r) ï¼šç”¨Map&lt;C, V&gt;è¿”å›ç»™å®šâ€è¡Œâ€çš„æ‰€æœ‰åˆ—ï¼Œå¯¹è¿™ä¸ªmapè¿›è¡Œçš„å†™æ“ä½œä¹Ÿå°†å†™å…¥Tableä¸­ã€‚  ç±»ä¼¼çš„åˆ—è®¿é—®æ–¹æ³•ï¼šcolumnMap()ã€columnKeySet()ã€column(c)ã€‚ï¼ˆåŸºäºåˆ—çš„è®¿é—®ä¼šæ¯”åŸºäºçš„è¡Œè®¿é—®ç¨å¾®ä½æ•ˆç‚¹ï¼‰  cellSet()ï¼šç”¨å…ƒç´ ç±»å‹ä¸ºTable.Cell&lt;R, C, V&gt;çš„Setè¡¨ç°Table&lt;R, C, V&gt;ã€‚Cellç±»ä¼¼äºMap.Entryï¼Œä½†å®ƒæ˜¯ç”¨è¡Œå’Œåˆ—ä¸¤ä¸ªé”®åŒºåˆ†çš„ã€‚Tableæœ‰å¦‚ä¸‹å‡ ç§å®ç°ï¼š  HashBasedTableï¼šæœ¬è´¨ä¸Šç”¨HashMap&lt;R, HashMap&lt;C, VÂ»å®ç°ï¼›  TreeBasedTableï¼šæœ¬è´¨ä¸Šç”¨TreeMap&lt;R, TreeMap&lt;C,VÂ»å®ç°ï¼›  ImmutableTableï¼šæœ¬è´¨ä¸Šç”¨ImmutableMap&lt;R, ImmutableMap&lt;C, VÂ»å®ç°ï¼›æ³¨ï¼šImmutableTableå¯¹ç¨€ç–æˆ–å¯†é›†çš„æ•°æ®é›†éƒ½æœ‰ä¼˜åŒ–ã€‚  ArrayTableï¼šè¦æ±‚åœ¨æ„é€ æ—¶å°±æŒ‡å®šè¡Œå’Œåˆ—çš„å¤§å°ï¼Œæœ¬è´¨ä¸Šç”±ä¸€ä¸ªäºŒç»´æ•°ç»„å®ç°ï¼Œä»¥æå‡è®¿é—®é€Ÿåº¦å’Œå¯†é›†Tableçš„å†…å­˜åˆ©ç”¨ç‡ã€‚ArrayTableä¸å…¶ä»–Tableçš„å·¥ä½œåŸç†æœ‰ç‚¹ä¸åŒï¼Œè¯·å‚è§Javadocäº†è§£è¯¦æƒ…ã€‚BiMap  è¦å®ç°é”®å€¼å¯¹çš„åŒå‘æ˜ å°„éœ€è¦ç»´æŠ¤ä¸¤ä¸ªå•ç‹¬çš„mapï¼Œå¹¶ä¿æŒå®ƒä»¬é—´çš„åŒæ­¥ã€‚ä¾‹å¦‚ï¼šMap&lt;String, Integer&gt; nameAndId = Maps.newHashMap();Map&lt;Integer, String&gt; idAndName = Maps.newHashMap();nameAndId.put(\"Bob\", 42);idAndName.put(42, \"Bob\");è¿™ç§æ–¹å¼å®¹æ˜“å‡ºé”™ï¼Œè€Œä¸”å¯¹äºå€¼å·²ç»åœ¨mapä¸­çš„æƒ…å†µï¼Œä¼šå˜å¾—éå¸¸æ··ä¹±ã€‚åœ¨BiMapä¸­å¯ä»¥è¿™æ ·ï¼šBiMap&lt;String, Integer&gt; userId = HashBiMap.create();...String userForId = userId.inverse().get(id);ClassToInstanceMapClassToInstanceMapæ˜¯ä¸€ç§ç‰¹æ®Šçš„Mapï¼šå®ƒçš„é”®æ˜¯ç±»å‹ï¼Œè€Œå€¼æ˜¯ç¬¦åˆé”®æ‰€æŒ‡ç±»å‹çš„å¯¹è±¡ã€‚ä¸ºäº†æ‰©å±•Mapæ¥å£ï¼ŒClassToInstanceMapé¢å¤–å£°æ˜äº†ä¸¤ä¸ªæ–¹æ³•ï¼šT getInstance(Class) å’ŒT putInstance(Class, T)ï¼Œä»è€Œé¿å…å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼ŒåŒæ—¶ä¿è¯äº†ç±»å‹å®‰å…¨ã€‚ClassToInstanceMapæœ‰å”¯ä¸€çš„æ³›å‹å‚æ•°ï¼Œé€šå¸¸ç§°ä¸ºBï¼Œä»£è¡¨Mapæ”¯æŒçš„æ‰€æœ‰ç±»å‹çš„ä¸Šç•Œã€‚ä¾‹å¦‚ï¼šClassToInstanceMap&lt;Number&gt; numberDefaults=MutableClassToInstanceMap.create();numberDefaults.putInstance(Integer.class, Integer.valueOf(0));ä»æŠ€æœ¯ä¸Šè®²ï¼ŒClassToInstanceMapå®ç°äº†Map&lt;Class&lt;? extends B&gt;, B&gt;â€”â€”æˆ–è€…è¯´ï¼Œæ˜¯ä¸€ä¸ªæ˜ å°„Bçš„å­ç±»å‹åˆ°å¯¹åº”å®ä¾‹çš„Mapã€‚è¿™è®©ClassToInstanceMapåŒ…å«çš„æ³›å‹å£°æ˜æœ‰ç‚¹ä»¤äººå›°æƒ‘ï¼Œä½†Bå§‹ç»ˆæ˜¯Mapæ‰€æ”¯æŒç±»å‹çš„ä¸Šç•Œâ€”â€”é€šå¸¸Bå°±æ˜¯Objectã€‚å¯¹äºClassToInstanceMapï¼ŒGuavaæä¾›äº†ä¸¤ç§æœ‰ç”¨çš„å®ç°ï¼šMutableClassToInstanceMapå’Œ ImmutableClassToInstanceMapã€‚Apache common Lang/BeanUtilsapache common Langapacheæä¾›çš„ä¼—å¤šcommonså·¥å…·åŒ…ï¼Œå·ç§°Javaç¬¬äºŒAPIï¼Œè€Œcommoné‡Œé¢lang3åŒ…æ›´æ˜¯è¢«æˆ‘ä»¬ä½¿ç”¨å¾—æœ€å¤šçš„ã€‚ä½¿ç”¨apache common LangHutool            Â       Â                   æ¨¡å—      ä»‹ç»              hutool-aop\tJ      DKåŠ¨æ€ä»£ç†å°è£…ï¼Œæä¾›éIOCä¸‹çš„åˆ‡é¢æ”¯æŒ              hutool-bloomFilter      å¸ƒéš†è¿‡æ»¤ï¼Œæä¾›ä¸€äº›Hashç®—æ³•çš„å¸ƒéš†è¿‡æ»¤              hutool-cache      ç®€å•ç¼“å­˜å®ç°              hutool-core      æ ¸å¿ƒï¼ŒåŒ…æ‹¬Beanæ“ä½œã€æ—¥æœŸã€å„ç§Utilç­‰              hutool-cron      å®šæ—¶ä»»åŠ¡æ¨¡å—ï¼Œæä¾›ç±»Crontabè¡¨è¾¾å¼çš„å®šæ—¶ä»»åŠ¡              hutool-crypto      åŠ å¯†è§£å¯†æ¨¡å—ï¼Œæä¾›å¯¹ç§°ã€éå¯¹ç§°å’Œæ‘˜è¦ç®—æ³•å°è£…              hutool-db      JDBCå°è£…åçš„æ•°æ®æ“ä½œï¼ŒåŸºäºActiveRecordæ€æƒ³              hutool-dfa      åŸºäºDFAæ¨¡å‹çš„å¤šå…³é”®å­—æŸ¥æ‰¾              hutool-extra      æ‰©å±•æ¨¡å—ï¼Œå¯¹ç¬¬ä¸‰æ–¹å°è£…ï¼ˆæ¨¡æ¿å¼•æ“ã€é‚®ä»¶ã€Servletã€äºŒç»´ç ã€Emojiã€FTPã€åˆ†è¯ç­‰ï¼‰              hutool-http      åŸºäºHttpUrlConnectionçš„Httpå®¢æˆ·ç«¯å°è£…              hutool-log      è‡ªåŠ¨è¯†åˆ«æ—¥å¿—å®ç°çš„æ—¥å¿—é—¨é¢              hutool-script      è„šæœ¬æ‰§è¡Œå°è£…ï¼Œä¾‹å¦‚Javascript              hutool-setting      åŠŸèƒ½æ›´å¼ºå¤§çš„Settingé…ç½®æ–‡ä»¶å’ŒPropertieså°è£…              hutool-system      ç³»ç»Ÿå‚æ•°è°ƒç”¨å°è£…ï¼ˆJVMä¿¡æ¯ç­‰ï¼‰              hutool-json      JSONå®ç°              hutool-captcha      å›¾ç‰‡éªŒè¯ç å®ç°              hutool-poi      é’ˆå¯¹POIä¸­Excelå’ŒWordçš„å°è£…              hutool-socket      åŸºäºJavaçš„NIOå’ŒAIOçš„Socketå°è£…              hutool-jwt      JSON Web Token (JWT)å°è£…å®ç°        ä½¿ç”¨Hutoolfastjsonåœ¨æ—¥å¿—è§£æ,å‰åç«¯æ•°æ®ä¼ è¾“äº¤äº’ä¸­,ç»å¸¸ä¼šé‡åˆ°å­—ç¬¦ä¸²(String)ä¸json,XMLç­‰æ ¼å¼ç›¸äº’è½¬æ¢ä¸è§£æï¼Œå…¶ä¸­jsonä»¥è·¨è¯­è¨€ï¼Œè·¨å‰åç«¯çš„ä¼˜ç‚¹åœ¨å¼€å‘ä¸­è¢«é¢‘ç¹ä½¿ç”¨ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥è¯´æ˜¯æ ‡å‡†çš„æ•°æ®äº¤æ¢æ ¼å¼ã€‚fastjsonæ˜¯ä¸€ä¸ªjavaè¯­è¨€ç¼–å†™çš„é«˜æ€§èƒ½ä¸”åŠŸèƒ½å®Œå–„çš„JSONåº“ï¼Œå®ƒé‡‡ç”¨ä¸€ç§â€œå‡å®šæœ‰åºå¿«é€ŸåŒ¹é…â€çš„ç®—æ³•ï¼ŒæŠŠJSON Parse çš„æ€§èƒ½æå‡åˆ°äº†æè‡´ã€‚å®ƒçš„æ¥å£ç®€å•æ˜“ç”¨ï¼Œå·²ç»è¢«å¹¿æ³›ä½¿ç”¨åœ¨ç¼“å­˜åºåˆ—åŒ–ï¼Œåè®®äº¤äº’ï¼ŒWebè¾“å‡ºç­‰å„ç§åº”ç”¨åœºæ™¯ä¸­ã€‚ JSON.parseObject(jsonStr, Model.class); JSON.parseArray(jsonStr, Model.class);gsonGSONæ˜¯Googleæä¾›çš„ç”¨æ¥åœ¨Javaå¯¹è±¡å’ŒJSONæ•°æ®ä¹‹é—´è¿›è¡Œæ˜ å°„çš„Javaç±»åº“ã€‚å¯ä»¥å°†ä¸€ä¸ªJsonå­—ç¬¦è½¬æˆä¸€ä¸ªJavaå¯¹è±¡ï¼Œæˆ–è€…å°†ä¸€ä¸ªJavaè½¬åŒ–ä¸ºJsonå­—ç¬¦ä¸²ã€‚ç‰¹ç‚¹ï¼š  å¿«é€Ÿã€é«˜æ•ˆ  ä»£ç é‡å°‘ã€ç®€æ´  é¢å‘å¯¹è±¡  æ•°æ®ä¼ é€’å’Œè§£ææ–¹ä¾¿&lt;dependency&gt;    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;    &lt;artifactId&gt;gson&lt;/artifactId&gt;    &lt;version&gt;2.8.0&lt;/version&gt;&lt;/dependency&gt;Gson gson = new gson();"
},

{
"title": "å‰ç«¯ JS é¡¹ç›®å¼€å‘è§„èŒƒ",
"url": "/posts/%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83/",
"categories": "å‰ç«¯",
"tags": "å‰ç«¯, é¡¹ç›®å¼€å‘è§„èŒƒ",
"date": "2018-01-01 10:39:06 +0800",







"snippet": "å‰ç«¯ JS é¡¹ç›®å¼€å‘è§„èŒƒ  ç°ä»£è½¯ä»¶æ¶æ„çš„å¤æ‚æ€§éœ€è¦ååŒå¼€å‘å®Œæˆï¼Œå¦‚ä½•é«˜æ•ˆåœ°ååŒå‘¢ï¼Ÿæ— è§„çŸ©ä¸æˆæ–¹åœ†ï¼Œæ— è§„èŒƒéš¾ä»¥ååŒï¼Œæ¯”å¦‚ï¼Œåˆ¶è®¢äº¤é€šæ³•è§„è¡¨é¢ä¸Šæ˜¯è¦é™åˆ¶è¡Œè½¦æƒï¼Œå®é™…ä¸Šæ˜¯ä¿éšœå…¬ä¼—çš„äººèº«å®‰å…¨ï¼Œè¯•æƒ³å¦‚æœæ²¡æœ‰é™é€Ÿï¼Œæ²¡æœ‰çº¢ç»¿ç¯ï¼Œè°è¿˜æ•¢ä¸Šè·¯è¡Œé©¶ã€‚å¯¹è½¯ä»¶æ¥è¯´ï¼Œé€‚å½“çš„è§„èŒƒå’Œæ ‡å‡†ç»ä¸æ˜¯æ¶ˆç­ä»£ç å†…å®¹çš„åˆ›é€ æ€§ã€ä¼˜é›…æ€§ï¼Œè€Œæ˜¯é™åˆ¶è¿‡åº¦ä¸ªæ€§åŒ–ï¼Œä»¥ä¸€ç§æ™®éè®¤å¯çš„ç»Ÿä¸€æ–¹å¼ä¸€èµ·åšäº‹ï¼Œæå‡åä½œæ•ˆç‡ï¼Œé™ä½æ²Ÿé€šæˆæœ¬ã€‚ä»£ç çš„å­—é‡Œè¡Œé—´æµæ·Œ...",
"content": "å‰ç«¯ JS é¡¹ç›®å¼€å‘è§„èŒƒ  ç°ä»£è½¯ä»¶æ¶æ„çš„å¤æ‚æ€§éœ€è¦ååŒå¼€å‘å®Œæˆï¼Œå¦‚ä½•é«˜æ•ˆåœ°ååŒå‘¢ï¼Ÿæ— è§„çŸ©ä¸æˆæ–¹åœ†ï¼Œæ— è§„èŒƒéš¾ä»¥ååŒï¼Œæ¯”å¦‚ï¼Œåˆ¶è®¢äº¤é€šæ³•è§„è¡¨é¢ä¸Šæ˜¯è¦é™åˆ¶è¡Œè½¦æƒï¼Œå®é™…ä¸Šæ˜¯ä¿éšœå…¬ä¼—çš„äººèº«å®‰å…¨ï¼Œè¯•æƒ³å¦‚æœæ²¡æœ‰é™é€Ÿï¼Œæ²¡æœ‰çº¢ç»¿ç¯ï¼Œè°è¿˜æ•¢ä¸Šè·¯è¡Œé©¶ã€‚å¯¹è½¯ä»¶æ¥è¯´ï¼Œé€‚å½“çš„è§„èŒƒå’Œæ ‡å‡†ç»ä¸æ˜¯æ¶ˆç­ä»£ç å†…å®¹çš„åˆ›é€ æ€§ã€ä¼˜é›…æ€§ï¼Œè€Œæ˜¯é™åˆ¶è¿‡åº¦ä¸ªæ€§åŒ–ï¼Œä»¥ä¸€ç§æ™®éè®¤å¯çš„ç»Ÿä¸€æ–¹å¼ä¸€èµ·åšäº‹ï¼Œæå‡åä½œæ•ˆç‡ï¼Œé™ä½æ²Ÿé€šæˆæœ¬ã€‚ä»£ç çš„å­—é‡Œè¡Œé—´æµæ·Œçš„æ˜¯è½¯ä»¶ç³»ç»Ÿçš„è¡€æ¶²ï¼Œè´¨é‡çš„æå‡æ˜¯å°½å¯èƒ½å°‘è¸©å‘ï¼Œæœç»è¸©é‡å¤çš„å‘ï¼Œåˆ‡å®æå‡ç³»ç»Ÿç¨³å®šæ€§ï¼Œç å‡ºè´¨é‡ã€‚ä¸€ã€ç¼–ç¨‹è§„çº¦(ä¸€)å‘½åè§„èŒƒ1.1.1 é¡¹ç›®å‘½åå…¨éƒ¨é‡‡ç”¨å°å†™æ–¹å¼ï¼Œ ä»¥ä¸­åˆ’çº¿åˆ†éš”ã€‚æ­£ä¾‹ï¼šmall-management-systemåä¾‹ï¼šmall_management-system / mallManagementSystem1.1.2 ç›®å½•å‘½åå…¨éƒ¨é‡‡ç”¨å°å†™æ–¹å¼ï¼Œ ä»¥ä¸­åˆ’çº¿åˆ†éš”ï¼Œæœ‰å¤æ•°ç»“æ„æ—¶ï¼Œè¦é‡‡ç”¨å¤æ•°å‘½åæ³•ï¼Œ ç¼©å†™ä¸ç”¨å¤æ•°æ­£ä¾‹ï¼š scripts / styles / components / images / utils / layouts / demo-styles / demo-scripts / img / docåä¾‹ï¼š script / style / demo_scripts / demoStyles / imgs / docsã€ç‰¹æ®Šã€‘VUE çš„é¡¹ç›®ä¸­çš„ components ä¸­çš„ç»„ä»¶ç›®å½•ï¼Œä½¿ç”¨ kebab-case å‘½åæ­£ä¾‹ï¼š head-search / page-loading / authorized / notice-iconåä¾‹ï¼š HeadSearch / PageLoadingã€ç‰¹æ®Šã€‘VUE çš„é¡¹ç›®ä¸­çš„é™¤ components ç»„ä»¶ç›®å½•å¤–çš„æ‰€æœ‰ç›®å½•ä¹Ÿä½¿ç”¨ kebab-case å‘½åæ­£ä¾‹ï¼š page-one / shopping-car / user-managementåä¾‹ï¼š ShoppingCar / UserManagement1.1.3 JSã€CSSã€SCSSã€HTMLã€PNG æ–‡ä»¶å‘½åå…¨éƒ¨é‡‡ç”¨å°å†™æ–¹å¼ï¼Œ ä»¥ä¸­åˆ’çº¿åˆ†éš”æ­£ä¾‹ï¼š render-dom.js / signup.css / index.html / company-logo.pngåä¾‹ï¼š renderDom.js / UserManagement.html1.1.4 å‘½åä¸¥è°¨æ€§ä»£ç ä¸­çš„å‘½åä¸¥ç¦ä½¿ç”¨æ‹¼éŸ³ä¸è‹±æ–‡æ··åˆçš„æ–¹å¼ï¼Œæ›´ä¸å…è®¸ç›´æ¥ä½¿ç”¨ä¸­æ–‡çš„æ–¹å¼ã€‚ è¯´æ˜ï¼šæ­£ç¡®çš„è‹±æ–‡æ‹¼å†™å’Œè¯­æ³•å¯ä»¥è®©é˜…è¯»è€…æ˜“äºç†è§£ï¼Œé¿å…æ­§ä¹‰ã€‚æ³¨æ„ï¼Œå³ä½¿çº¯æ‹¼éŸ³å‘½åæ–¹å¼ä¹Ÿè¦é¿å…é‡‡ç”¨æ­£ä¾‹ï¼šhenan / luoyang / rmb ç­‰å›½é™…é€šç”¨çš„åç§°ï¼Œå¯è§†åŒè‹±æ–‡ã€‚åä¾‹ï¼šDaZhePromotion [æ‰“æŠ˜] / getPingfenByName() [è¯„åˆ†] / int æŸå˜é‡ = 3æœç»å®Œå…¨ä¸è§„èŒƒçš„ç¼©å†™ï¼Œé¿å…æœ›æ–‡ä¸çŸ¥ä¹‰ï¼šåä¾‹ï¼šAbstractClassâ€œç¼©å†™â€å‘½åæˆ AbsClassï¼›conditionâ€œç¼©å†™â€å‘½åæˆ condiï¼Œæ­¤ç±»éšæ„ç¼©å†™ä¸¥é‡é™ä½äº†ä»£ç çš„å¯é˜…è¯»æ€§ã€‚(äºŒ)HTML è§„èŒƒ ï¼ˆVue Template åŒæ ·é€‚ç”¨ï¼‰1.2.1 HTML ç±»å‹æ¨èä½¿ç”¨ HTML5 çš„æ–‡æ¡£ç±»å‹ç”³æ˜ï¼š &lt;!DOCTYPE html&gt;.ï¼ˆå»ºè®®ä½¿ç”¨ text/html æ ¼å¼çš„ HTMLã€‚é¿å…ä½¿ç”¨ XHTMLã€‚XHTML ä»¥åŠå®ƒçš„å±æ€§ï¼Œæ¯”å¦‚ application/xhtml+xml åœ¨æµè§ˆå™¨ä¸­çš„åº”ç”¨æ”¯æŒä¸ä¼˜åŒ–ç©ºé—´éƒ½ååˆ†æœ‰é™ï¼‰ã€‚  è§„å®šå­—ç¬¦ç¼–ç   IE å…¼å®¹æ¨¡å¼  è§„å®šå­—ç¬¦ç¼–ç   doctype å¤§å†™æ­£ä¾‹ï¼š&lt;!DOCTYPE html&gt;&lt;html&gt;  &lt;head&gt;    &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=Edge\" /&gt;    &lt;meta charset=\"UTF-8\" /&gt;    &lt;title&gt;Page title&lt;/title&gt;  &lt;/head&gt;  &lt;body&gt;    &lt;img src=\"images/company-logo.png\" alt=\"Company\" /&gt;  &lt;/body&gt;&lt;/html&gt;1.2.2 ç¼©è¿›ç¼©è¿›ä½¿ç”¨ 2 ä¸ªç©ºæ ¼ï¼ˆä¸€ä¸ª tabï¼‰åµŒå¥—çš„èŠ‚ç‚¹åº”è¯¥ç¼©è¿›ã€‚1.2.3 åˆ†å—æ³¨é‡Šåœ¨æ¯ä¸€ä¸ªå—çŠ¶å…ƒç´ ï¼Œåˆ—è¡¨å…ƒç´ å’Œè¡¨æ ¼å…ƒç´ åï¼ŒåŠ ä¸Šä¸€å¯¹ HTML æ³¨é‡Šã€‚æ³¨é‡Šæ ¼å¼&lt;!â€“ è‹±æ–‡ ä¸­æ–‡ start &gt;&lt;!â€“ è‹±æ–‡ ä¸­æ–‡ end &gt;æ­£ä¾‹ï¼š&lt;body&gt;  &lt;!-- header å¤´éƒ¨ start --&gt;  &lt;header&gt;    &lt;div class=\"container\"&gt;      &lt;a href=\"#\"&gt;        &lt;!-- å›¾ç‰‡ä¼šæŠŠaæ ‡ç­¾ç»™æ’‘å¼€ï¼Œæ‰€ä»¥ä¸ç”¨è®¾ç½®aæ ‡ç­¾çš„å¤§å° --&gt;        &lt;img src=\"images/header.jpg\" /&gt;      &lt;/a&gt;    &lt;/div&gt;  &lt;/header&gt;  &lt;!-- header å¤´éƒ¨ end --&gt;&lt;/body&gt;1.2.4 è¯­ä¹‰åŒ–æ ‡ç­¾HTML5 ä¸­æ–°å¢å¾ˆå¤šè¯­ä¹‰åŒ–æ ‡ç­¾ï¼Œæ‰€ä»¥ä¼˜å…ˆä½¿ç”¨è¯­ä¹‰åŒ–æ ‡ç­¾ï¼Œé¿å…ä¸€ä¸ªé¡µé¢éƒ½æ˜¯ div æˆ–è€… p æ ‡ç­¾æ­£ä¾‹&lt;header&gt;&lt;/header&gt;&lt;footer&gt;&lt;/footer&gt;åä¾‹&lt;div&gt;  &lt;p&gt;&lt;/p&gt;&lt;/div&gt;1.2.5 å¼•å·ä½¿ç”¨åŒå¼•å·(â€œ â€œ) è€Œä¸æ˜¯å•å¼•å·(â€˜ â€˜) ã€‚æ­£ä¾‹ï¼š &lt;div class=\"news-div\"&gt;&lt;/div&gt;åä¾‹ï¼š &lt;div class='news-div'&gt;&lt;/div&gt;(ä¸‰) CSS è§„èŒƒ1.3.1 å‘½å  ç±»åä½¿ç”¨å°å†™å­—æ¯ï¼Œä»¥ä¸­åˆ’çº¿åˆ†éš”  id é‡‡ç”¨é©¼å³°å¼å‘½å  scss ä¸­çš„å˜é‡ã€å‡½æ•°ã€æ··åˆã€placeholder é‡‡ç”¨é©¼å³°å¼å‘½åID å’Œ class çš„åç§°æ€»æ˜¯ä½¿ç”¨å¯ä»¥ååº”å…ƒç´ ç›®çš„å’Œç”¨é€”çš„åç§°ï¼Œæˆ–å…¶ä»–é€šç”¨çš„åç§°ï¼Œä»£æ›¿è¡¨è±¡å’Œæ™¦æ¶©éš¾æ‡‚çš„åç§°ä¸æ¨èï¼š.fw-800 {  font-weight: 800;}.red {  color: red;}æ¨è:.heavy {  font-weight: 800;}.important {  color: red;}1.3.2 é€‰æ‹©å™¨1)css é€‰æ‹©å™¨ä¸­é¿å…ä½¿ç”¨æ ‡ç­¾åä»ç»“æ„ã€è¡¨ç°ã€è¡Œä¸ºåˆ†ç¦»çš„åŸåˆ™æ¥çœ‹ï¼Œåº”è¯¥å°½é‡é¿å… css ä¸­å‡ºç° HTML æ ‡ç­¾ï¼Œå¹¶ä¸”åœ¨ css é€‰æ‹©å™¨ä¸­å‡ºç°æ ‡ç­¾åä¼šå­˜åœ¨æ½œåœ¨çš„é—®é¢˜ã€‚2)å¾ˆå¤šå‰ç«¯å¼€å‘äººå‘˜å†™é€‰æ‹©å™¨é“¾çš„æ—¶å€™ä¸ä½¿ç”¨ ç›´æ¥å­é€‰æ‹©å™¨ï¼ˆæ³¨ï¼šç›´æ¥å­é€‰æ‹©å™¨å’Œåä»£é€‰æ‹©å™¨çš„åŒºåˆ«ï¼‰ã€‚æœ‰æ—¶ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´ç–¼ç—›çš„è®¾è®¡é—®é¢˜å¹¶ä¸”æœ‰æ—¶å€™å¯èƒ½ä¼šå¾ˆè€—æ€§èƒ½ã€‚ç„¶è€Œï¼Œåœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸ä¸å¥½çš„åšæ³•ã€‚å¦‚æœä½ ä¸å†™å¾ˆé€šç”¨çš„ï¼Œéœ€è¦åŒ¹é…åˆ° DOM æœ«ç«¯çš„é€‰æ‹©å™¨ï¼Œ ä½ åº”è¯¥æ€»æ˜¯è€ƒè™‘ç›´æ¥å­é€‰æ‹©å™¨ã€‚ä¸æ¨è:.content .title {  font-size: 2rem;}æ¨è:.content &gt; .title {  font-size: 2rem;}1.3.3 å°½é‡ä½¿ç”¨ç¼©å†™å±æ€§ä¸æ¨èï¼šborder-top-style: none;font-family: palatino, georgia, serif;font-size: 100%;line-height: 1.6;padding-bottom: 2em;padding-left: 1em;padding-right: 1em;padding-top: 0;æ¨èï¼šborder-top: 0;font: 100%/1.6 palatino, georgia, serif;padding: 0 1em 2em;1.3.4 æ¯ä¸ªé€‰æ‹©å™¨åŠå±æ€§ç‹¬å ä¸€è¡Œä¸æ¨èï¼šbutton{  width:100px;height:50px;color:#fff;background:#00a0e9;}æ¨èï¼šbutton{  width:100px;  height:50px;  color:#fff;  background:#00a0e9;}1.3.5 çœç•¥0åé¢çš„å•ä½ä¸æ¨èï¼šdiv{  padding-bottom: 0px;  margin: 0em;}æ¨èï¼šdiv{  padding-bottom: 0;  margin: 0;}1.3.6 é¿å…ä½¿ç”¨IDé€‰æ‹©å™¨åŠå…¨å±€æ ‡ç­¾é€‰æ‹©å™¨é˜²æ­¢æ±¡æŸ“å…¨å±€æ ·å¼ä¸æ¨èï¼š#header{  padding-bottom: 0px;  margin: 0em;}æ¨èï¼š.header{  padding-bottom: 0px;  margin: 0em;}(å››) LESS è§„èŒƒ1.4.1 ä»£ç ç»„ç»‡1)å°†å…¬å…±lessæ–‡ä»¶æ”¾ç½®åœ¨style/less/commonæ–‡ä»¶å¤¹ä¾‹:// color.less,common.less2)æŒ‰ä»¥ä¸‹é¡ºåºç»„ç»‡1ã€@import;2ã€å˜é‡å£°æ˜;3ã€æ ·å¼å£°æ˜;@import \"mixins/size.less\";@default-text-color: #333;.page {  width: 960px;  margin: 0 auto;}1.4.2 é¿å…åµŒå¥—å±‚çº§è¿‡å¤šå°†åµŒå¥—æ·±åº¦é™åˆ¶åœ¨3çº§ã€‚å¯¹äºè¶…è¿‡4çº§çš„åµŒå¥—ï¼Œç»™äºˆé‡æ–°è¯„ä¼°ã€‚è¿™å¯ä»¥é¿å…å‡ºç°è¿‡äºè¯¦å®çš„CSSé€‰æ‹©å™¨ã€‚é¿å…å¤§é‡çš„åµŒå¥—è§„åˆ™ã€‚å½“å¯è¯»æ€§å—åˆ°å½±å“æ—¶ï¼Œå°†ä¹‹æ‰“æ–­ã€‚æ¨èé¿å…å‡ºç°å¤šäº20è¡Œçš„åµŒå¥—è§„åˆ™å‡ºç°ä¸æ¨èï¼š.main{  .title{    .name{       color:#fff    }  }}æ¨èï¼š.main-title{   .name{      color:#fff   }}(äº”) Javascript è§„èŒƒ1.5.1 å‘½å1) é‡‡ç”¨å°å†™é©¼å³°å‘½å lowerCamelCaseï¼Œä»£ç ä¸­çš„å‘½åå‡ä¸èƒ½ä»¥ä¸‹åˆ’çº¿ï¼Œä¹Ÿä¸èƒ½ä»¥ä¸‹åˆ’çº¿æˆ–ç¾å…ƒç¬¦å·ç»“æŸåä¾‹ï¼š _name / name_ / name$2) æ–¹æ³•åã€å‚æ•°åã€æˆå‘˜å˜é‡ã€å±€éƒ¨å˜é‡éƒ½ç»Ÿä¸€ä½¿ç”¨ lowerCamelCase é£æ ¼ï¼Œå¿…é¡»éµä»é©¼å³°å½¢å¼ã€‚æ­£ä¾‹ï¼š localValue / getHttpMessage() / inputUserId**å…¶ä¸­ method æ–¹æ³•å‘½åå¿…é¡»æ˜¯ åŠ¨è¯ æˆ–è€… åŠ¨è¯+åè¯ å½¢å¼**æ­£ä¾‹ï¼šsaveShopCarData /openShopCarInfoDialogåä¾‹ï¼šsave / open / show / go**ç‰¹æ­¤è¯´æ˜ï¼Œå¢åˆ æŸ¥æ”¹ï¼Œè¯¦æƒ…ç»Ÿä¸€ä½¿ç”¨å¦‚ä¸‹ 5 ä¸ªå•è¯ï¼Œä¸å¾—ä½¿ç”¨å…¶ä»–ï¼ˆç›®çš„æ˜¯ä¸ºäº†ç»Ÿä¸€å„ä¸ªç«¯ï¼‰**add / update / delete / detail / geté™„ï¼š å‡½æ•°æ–¹æ³•å¸¸ç”¨çš„åŠ¨è¯:get è·å–/set è®¾ç½®,add å¢åŠ /remove åˆ é™¤create åˆ›å»º/destory ç§»é™¤start å¯åŠ¨/stop åœæ­¢open æ‰“å¼€/close å…³é—­,read è¯»å–/write å†™å…¥load è½½å…¥/save ä¿å­˜,create åˆ›å»º/destroy é”€æ¯begin å¼€å§‹/end ç»“æŸ,backup å¤‡ä»½/restore æ¢å¤import å¯¼å…¥/export å¯¼å‡º,split åˆ†å‰²/merge åˆå¹¶inject æ³¨å…¥/extract æå–,attach é™„ç€/detach è„±ç¦»bind ç»‘å®š/separate åˆ†ç¦»,view æŸ¥çœ‹/browse æµè§ˆedit ç¼–è¾‘/modify ä¿®æ”¹,select é€‰å–/mark æ ‡è®°copy å¤åˆ¶/paste ç²˜è´´,undo æ’¤é”€/redo é‡åšinsert æ’å…¥/delete ç§»é™¤,add åŠ å…¥/append æ·»åŠ clean æ¸…ç†/clear æ¸…é™¤,index ç´¢å¼•/sort æ’åºfind æŸ¥æ‰¾/search æœç´¢,increase å¢åŠ /decrease å‡å°‘play æ’­æ”¾/pause æš‚åœ,launch å¯åŠ¨/run è¿è¡Œcompile ç¼–è¯‘/execute æ‰§è¡Œ,debug è°ƒè¯•/trace è·Ÿè¸ªobserve è§‚å¯Ÿ/listen ç›‘å¬,build æ„å»º/publish å‘å¸ƒinput è¾“å…¥/output è¾“å‡º,encode ç¼–ç /decode è§£ç encrypt åŠ å¯†/decrypt è§£å¯†,compress å‹ç¼©/decompress è§£å‹ç¼©pack æ‰“åŒ…/unpack è§£åŒ…,parse è§£æ/emit ç”Ÿæˆconnect è¿æ¥/disconnect æ–­å¼€,send å‘é€/receive æ¥æ”¶download ä¸‹è½½/upload ä¸Šä¼ ,refresh åˆ·æ–°/synchronize åŒæ­¥update æ›´æ–°/revert å¤åŸ,lock é”å®š/unlock è§£é”check out ç­¾å‡º/check in ç­¾å…¥,submit æäº¤/commit äº¤ä»˜push æ¨/pull æ‹‰,expand å±•å¼€/collapse æŠ˜å begin èµ·å§‹/end ç»“æŸ,start å¼€å§‹/finish å®Œæˆenter è¿›å…¥/exit é€€å‡º,abort æ”¾å¼ƒ/quit ç¦»å¼€obsolete åºŸå¼ƒ/depreciate åºŸæ—§,collect æ”¶é›†/aggregate èšé›†3) å¸¸é‡å‘½åå…¨éƒ¨å¤§å†™ï¼Œå•è¯é—´ç”¨ä¸‹åˆ’çº¿éš”å¼€ï¼ŒåŠ›æ±‚è¯­ä¹‰è¡¨è¾¾å®Œæ•´æ¸…æ¥šï¼Œä¸è¦å«Œåå­—é•¿ã€‚æ­£ä¾‹ï¼š MAX_STOCK_COUNTåä¾‹ï¼š MAX_COUNT1.5.2 ä»£ç æ ¼å¼1) ä½¿ç”¨ 2 ä¸ªç©ºæ ¼è¿›è¡Œç¼©è¿›æ­£ä¾‹ï¼šif (x &lt; y) {  x += 10;} else {  x += 1;}2) ä¸åŒé€»è¾‘ã€ä¸åŒè¯­ä¹‰ã€ä¸åŒä¸šåŠ¡çš„ä»£ç ä¹‹é—´æ’å…¥ä¸€ä¸ªç©ºè¡Œåˆ†éš”å¼€æ¥ä»¥æå‡å¯è¯»æ€§ã€‚  è¯´æ˜ï¼šä»»ä½•æƒ…å½¢ï¼Œæ²¡æœ‰å¿…è¦æ’å…¥å¤šä¸ªç©ºè¡Œè¿›è¡Œéš”å¼€ã€‚1.5.3 å­—ç¬¦ä¸²ç»Ÿä¸€ä½¿ç”¨å•å¼•å·(â€˜)ï¼Œä¸ä½¿ç”¨åŒå¼•å·(â€œ)ã€‚è¿™åœ¨åˆ›å»º HTML å­—ç¬¦ä¸²éå¸¸æœ‰å¥½å¤„ï¼šæ­£ä¾‹:let str = 'foo';let testDiv = '&lt;div id=\"test\"&gt;&lt;/div&gt;';åä¾‹:let str = 'foo';let testDiv = \"&lt;div id='test'&gt;&lt;/div&gt;\";1.5.4 å¯¹è±¡å£°æ˜1)ä½¿ç”¨å­—é¢å€¼åˆ›å»ºå¯¹è±¡æ­£ä¾‹ï¼š let user = {};åä¾‹ï¼š let user = new Object();2) ä½¿ç”¨å­—é¢é‡æ¥ä»£æ›¿å¯¹è±¡æ„é€ å™¨æ­£ä¾‹ï¼švar user = {  age: 0,  name: 1,  city: 3};åä¾‹ï¼švar user = new Object();user.age = 0;user.name = 0;user.city = 0;1.5.5 ä½¿ç”¨ ES6,7å¿…é¡»ä¼˜å…ˆä½¿ç”¨ ES6,7 ä¸­æ–°å¢çš„è¯­æ³•ç³–å’Œå‡½æ•°ã€‚è¿™å°†ç®€åŒ–ä½ çš„ç¨‹åºï¼Œå¹¶è®©ä½ çš„ä»£ç æ›´åŠ çµæ´»å’Œå¯å¤ç”¨ã€‚  å¿…é¡»å¼ºåˆ¶ä½¿ç”¨ ES6, ES7 çš„æ–°è¯­æ³•ï¼Œæ¯”å¦‚ç®­å¤´å‡½æ•°ã€await/async ï¼Œ è§£æ„ï¼Œ let ï¼Œ forâ€¦of ç­‰ç­‰1.5.6 æ‹¬å·ä¸‹åˆ—å…³é”®å­—åå¿…é¡»æœ‰å¤§æ‹¬å·ï¼ˆå³ä½¿ä»£ç å—çš„å†…å®¹åªæœ‰ä¸€è¡Œï¼‰ï¼šif, else, for, while, do, switch, try, catch, finally, withã€‚æ­£ä¾‹ï¼šif (condition) {  doSomething();}åä¾‹ï¼šif (condition) doSomething();1.5.7 undefined åˆ¤æ–­æ°¸è¿œä¸è¦ç›´æ¥ä½¿ç”¨ undefined è¿›è¡Œå˜é‡åˆ¤æ–­ï¼›ä½¿ç”¨ typeof å’Œå­—ç¬¦ä¸²â€™undefinedâ€™å¯¹å˜é‡è¿›è¡Œåˆ¤æ–­ã€‚æ­£ä¾‹ï¼šif (typeof person === 'undefined') {    ...}åä¾‹ï¼šif (person === undefined) {    ...}1.5.8 æ¡ä»¶åˆ¤æ–­å’Œå¾ªç¯æœ€å¤šä¸‰å±‚æ¡ä»¶åˆ¤æ–­èƒ½ä½¿ç”¨ä¸‰ç›®è¿ç®—ç¬¦å’Œé€»è¾‘è¿ç®—ç¬¦è§£å†³çš„ï¼Œå°±ä¸è¦ä½¿ç”¨æ¡ä»¶åˆ¤æ–­ï¼Œä½†æ˜¯è°¨è®°ä¸è¦å†™å¤ªé•¿çš„ä¸‰ç›®è¿ç®—ç¬¦ã€‚å¦‚æœè¶…è¿‡ 3 å±‚è¯·æŠ½æˆå‡½æ•°ï¼Œå¹¶å†™æ¸…æ¥šæ³¨é‡Šã€‚1.5.9 this çš„è½¬æ¢å‘½åå¯¹ä¸Šä¸‹æ–‡ this çš„å¼•ç”¨åªèƒ½ä½¿ç”¨â€™selfâ€™æ¥å‘½å1.5.10 æ…ç”¨ console.logå›  console.log å¤§é‡ä½¿ç”¨ä¼šæœ‰æ€§èƒ½é—®é¢˜ï¼Œæ‰€ä»¥åœ¨é webpack é¡¹ç›®ä¸­è°¨æ…ä½¿ç”¨ log åŠŸèƒ½äºŒã€Vue é¡¹ç›®è§„èŒƒ(ä¸€) Vue ç¼–ç åŸºç¡€vue é¡¹ç›®è§„èŒƒä»¥ Vue å®˜æ–¹è§„èŒƒ ï¼ˆhttps://cn.vuejs.org/v2/style-guide/ï¼‰ ä¸­çš„ A è§„èŒƒä¸ºåŸºç¡€ï¼Œåœ¨å…¶ä¸Šé¢è¿›è¡Œé¡¹ç›®å¼€å‘ï¼Œæ•…æ‰€æœ‰ä»£ç å‡éµå®ˆè¯¥è§„èŒƒã€‚  è¯·ä»”ä»”ç»†ç»†é˜…è¯» Vue å®˜æ–¹è§„èŒƒï¼Œåˆ‡è®°ï¼Œæ­¤ä¸ºç¬¬ä¸€æ­¥ã€‚2.1.1. ç»„ä»¶è§„èŒƒ1) ç»„ä»¶åä¸ºå¤šä¸ªå•è¯ã€‚ç»„ä»¶ååº”è¯¥å§‹ç»ˆæ˜¯å¤šä¸ªå•è¯ç»„æˆï¼ˆå¤§äºç­‰äº 2ï¼‰ï¼Œä¸”å‘½åè§„èŒƒä¸ºKebabCaseæ ¼å¼ã€‚è¿™æ ·åšå¯ä»¥é¿å…è·Ÿç°æœ‰çš„ä»¥åŠæœªæ¥çš„ HTML å…ƒç´ ç›¸å†²çªï¼Œå› ä¸ºæ‰€æœ‰çš„ HTML å…ƒç´ åç§°éƒ½æ˜¯å•ä¸ªå•è¯çš„ã€‚æ­£ä¾‹ï¼šexport default {  name: 'TodoItem'  // ...};åä¾‹ï¼šexport default {  name: 'Todo',  // ...}export default {  name: 'todo-item',  // ...}2) ç»„ä»¶æ–‡ä»¶åä¸º pascal-case æ ¼å¼æ­£ä¾‹ï¼šcomponents/|- my-component.vueåä¾‹ï¼šcomponents/|- myComponent.vue|- MyComponent.vue3) åŸºç¡€ç»„ä»¶æ–‡ä»¶åä¸º base å¼€å¤´ï¼Œä½¿ç”¨å®Œæ•´å•è¯è€Œä¸æ˜¯ç¼©å†™ã€‚æ­£ä¾‹ï¼šcomponents/|- base-button.vue|- base-table.vue|- base-icon.vueåä¾‹ï¼šcomponents/|- MyButton.vue|- VueTable.vue|- Icon.vue4) å’Œçˆ¶ç»„ä»¶ç´§å¯†è€¦åˆçš„å­ç»„ä»¶åº”è¯¥ä»¥çˆ¶ç»„ä»¶åä½œä¸ºå‰ç¼€å‘½åæ­£ä¾‹ï¼šcomponents/|- todo-list.vue|- todo-list-item.vue|- todo-list-item-button.vue|- user-profile-options.vue ï¼ˆå®Œæ•´å•è¯ï¼‰åä¾‹ï¼šcomponents/|- TodoList.vue|- TodoItem.vue|- TodoButton.vue|- UProfOpts.vue ï¼ˆä½¿ç”¨äº†ç¼©å†™ï¼‰5) åœ¨ Template æ¨¡ç‰ˆä¸­ä½¿ç”¨ç»„ä»¶ï¼Œåº”ä½¿ç”¨ PascalCase æ¨¡å¼ï¼Œå¹¶ä¸”ä½¿ç”¨è‡ªé—­åˆç»„ä»¶ã€‚æ­£ä¾‹ï¼š&lt;!-- åœ¨å•æ–‡ä»¶ç»„ä»¶ã€å­—ç¬¦ä¸²æ¨¡æ¿å’Œ JSX ä¸­ --&gt;&lt;MyComponent /&gt;&lt;Row&gt;&lt;table :column=\"data\"/&gt;&lt;/Row&gt;åä¾‹ï¼š&lt;my-component /&gt; &lt;row&gt;&lt;table :column=\"data\"/&gt;&lt;/row&gt;6) ç»„ä»¶çš„ data å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°å½“åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ data å±æ€§çš„æ—¶å€™ (é™¤äº† new Vue å¤–çš„ä»»ä½•åœ°æ–¹)ï¼Œå®ƒçš„å€¼å¿…é¡»æ˜¯è¿”å›ä¸€ä¸ªå¯¹è±¡çš„å‡½æ•°ã€‚ å› ä¸ºå¦‚æœç›´æ¥æ˜¯ä¸€ä¸ªå¯¹è±¡çš„è¯ï¼Œå­ç»„ä»¶ä¹‹é—´çš„å±æ€§å€¼ä¼šäº’ç›¸å½±å“ã€‚æ­£ä¾‹ï¼šexport default {  data () {    return {       name: 'jack'    }  }}åä¾‹ï¼šexport default {  data: {    name: 'jack'  }}7) Prop å®šä¹‰åº”è¯¥å°½é‡è¯¦ç»†  å¿…é¡»ä½¿ç”¨ camelCase é©¼å³°å‘½å  å¿…é¡»æŒ‡å®šç±»å‹  å¿…é¡»åŠ ä¸Šæ³¨é‡Šï¼Œè¡¨æ˜å…¶å«ä¹‰  å¿…é¡»åŠ ä¸Š required æˆ–è€… defaultï¼Œä¸¤è€…äºŒé€‰å…¶ä¸€  å¦‚æœæœ‰ä¸šåŠ¡éœ€è¦ï¼Œå¿…é¡»åŠ ä¸Š validator éªŒè¯æ­£ä¾‹ï¼š props: {  // ç»„ä»¶çŠ¶æ€ï¼Œç”¨äºæ§åˆ¶ç»„ä»¶çš„é¢œè‰²   status: {     type: String,     required: true,     validator: function (value) {       return [         'succ',         'info',         'error'       ].indexOf(value) !== -1     }   },    // ç”¨æˆ·çº§åˆ«ï¼Œç”¨äºæ˜¾ç¤ºçš‡å† ä¸ªæ•°   userLevelï¼š{      type: String,      required: true   }}8) ä¸ºç»„ä»¶æ ·å¼è®¾ç½®ä½œç”¨åŸŸæ­£ä¾‹ï¼š&lt;template&gt;  &lt;button class=\"btn btn-close\"&gt;X&lt;/button&gt;&lt;/template&gt;&lt;!-- ä½¿ç”¨ `scoped` ç‰¹æ€§ --&gt;&lt;style scoped&gt;  .btn-close {    background-color: red;  }&lt;/style&gt;åä¾‹ï¼š&lt;template&gt;  &lt;button class=\"btn btn-close\"&gt;X&lt;/button&gt;&lt;/template&gt;&lt;!-- æ²¡æœ‰ä½¿ç”¨ `scoped` ç‰¹æ€§ --&gt;&lt;style&gt;  .btn-close {    background-color: red;  }&lt;/style&gt;9) å¦‚æœç‰¹æ€§å…ƒç´ è¾ƒå¤šï¼Œåº”è¯¥ä¸»åŠ¨æ¢è¡Œã€‚æ­£ä¾‹ï¼š&lt;MyComponent foo=\"a\" bar=\"b\" baz=\"c\"    foo=\"a\" bar=\"b\" baz=\"c\"    foo=\"a\" bar=\"b\" baz=\"c\" /&gt;åä¾‹ï¼š&lt;MyComponent foo=\"a\" bar=\"b\" baz=\"c\" foo=\"a\" bar=\"b\" baz=\"c\" foo=\"a\" bar=\"b\" baz=\"c\" foo=\"a\" bar=\"b\" baz=\"c\"/&gt;2.1.2. æ¨¡æ¿ä¸­ä½¿ç”¨ç®€å•çš„è¡¨è¾¾å¼ç»„ä»¶æ¨¡æ¿åº”è¯¥åªåŒ…å«ç®€å•çš„è¡¨è¾¾å¼ï¼Œå¤æ‚çš„è¡¨è¾¾å¼åˆ™åº”è¯¥é‡æ„ä¸ºè®¡ç®—å±æ€§æˆ–æ–¹æ³•ã€‚å¤æ‚è¡¨è¾¾å¼ä¼šè®©ä½ çš„æ¨¡æ¿å˜å¾—ä¸é‚£ä¹ˆå£°æ˜å¼ã€‚æˆ‘ä»¬åº”è¯¥å°½é‡æè¿°åº”è¯¥å‡ºç°çš„æ˜¯ä»€ä¹ˆï¼Œè€Œéå¦‚ä½•è®¡ç®—é‚£ä¸ªå€¼ã€‚è€Œä¸”è®¡ç®—å±æ€§å’Œæ–¹æ³•ä½¿å¾—ä»£ç å¯ä»¥é‡ç”¨ã€‚æ­£ä¾‹ï¼š&lt;template&gt;  &lt;p&gt;{{normalizedFullName}}&lt;/p&gt;&lt;/template&gt;&lt;!--// å¤æ‚è¡¨è¾¾å¼å·²ç»ç§»å…¥ä¸€ä¸ªè®¡ç®—å±æ€§--&gt;computed: {  normalizedFullName: function(){    return this.fullName.split('').map(function(word){      return word[0].toUpperCase() + word.slice(1)    }).join('');  }}åä¾‹ï¼š&lt;template&gt;  &lt;p&gt;    {{    fullName.split('').map(function(word){      return word[0].toUpperCase() + word.slice(1)    }).join('');    }}  &lt;/p&gt;&lt;/template&gt;2.1.3 æŒ‡ä»¤éƒ½ä½¿ç”¨ç¼©å†™å½¢å¼æŒ‡ä»¤æ¨èéƒ½ä½¿ç”¨ç¼©å†™å½¢å¼ï¼Œ(ç”¨ : è¡¨ç¤º v-bind: ã€ç”¨ @ è¡¨ç¤º v-on: å’Œç”¨ # è¡¨ç¤º v-slot:)æ­£ä¾‹ï¼š&lt;input  @input=\"onInput\"  @focus=\"onFocus\"&gt;åä¾‹ï¼š&lt;input  v-on:input=\"onInput\"  @focus=\"onFocus\"&gt;2.1.4 æ ‡ç­¾é¡ºåºä¿æŒä¸€è‡´å•æ–‡ä»¶ç»„ä»¶åº”è¯¥æ€»æ˜¯è®©æ ‡ç­¾é¡ºåºä¿æŒä¸º &lt;template&gt; ã€&lt;script&gt;ã€ &lt;style&gt;æ­£ä¾‹ï¼š&lt;template&gt;...&lt;/template&gt;&lt;script&gt;...&lt;/script&gt;&lt;style&gt;...&lt;/style&gt;åä¾‹ï¼š&lt;template&gt;...&lt;/template&gt;&lt;style&gt;...&lt;/style&gt;&lt;script&gt;...&lt;/script&gt;2.1.5 å¿…é¡»ä¸º v-for è®¾ç½®é”®å€¼ key2.1.6 v-show ä¸ v-if é€‰æ‹©å¦‚æœè¿è¡Œæ—¶ï¼Œéœ€è¦éå¸¸é¢‘ç¹åœ°åˆ‡æ¢ï¼Œä½¿ç”¨ v-show ï¼›å¦‚æœåœ¨è¿è¡Œæ—¶ï¼Œæ¡ä»¶å¾ˆå°‘æ”¹å˜ï¼Œä½¿ç”¨ v-ifã€‚2.1.7 script æ ‡ç­¾å†…éƒ¨ç»“æ„é¡ºåºcomponents &gt; props &gt; data &gt; computed &gt; watch &gt; filter &gt; é’©å­å‡½æ•°ï¼ˆé’©å­å‡½æ•°æŒ‰å…¶æ‰§è¡Œé¡ºåºï¼‰ &gt; methods2.1.8 Vue Router è§„èŒƒ1) é¡µé¢è·³è½¬æ•°æ®ä¼ é€’ä½¿ç”¨è·¯ç”±å‚æ•°é¡µé¢è·³è½¬ï¼Œä¾‹å¦‚ A é¡µé¢è·³è½¬åˆ° B é¡µé¢ï¼Œéœ€è¦å°† A é¡µé¢çš„æ•°æ®ä¼ é€’åˆ° B é¡µé¢ï¼Œæ¨èä½¿ç”¨ è·¯ç”±å‚æ•°è¿›è¡Œä¼ å‚ï¼Œè€Œä¸æ˜¯å°†éœ€è¦ä¼ é€’çš„æ•°æ®ä¿å­˜ vuexï¼Œç„¶ååœ¨ B é¡µé¢å–å‡º vuex çš„æ•°æ®ï¼Œå› ä¸ºå¦‚æœåœ¨ B é¡µé¢åˆ·æ–°ä¼šå¯¼è‡´ vuex æ•°æ®ä¸¢å¤±ï¼Œå¯¼è‡´ B é¡µé¢æ— æ³•æ­£å¸¸æ˜¾ç¤ºæ•°æ®ã€‚æ­£ä¾‹ï¼šlet id = ' 123';this.$router.push({ name: 'userCenter', query: { id: id } });2) ä½¿ç”¨è·¯ç”±æ‡’åŠ è½½ï¼ˆå»¶è¿ŸåŠ è½½ï¼‰æœºåˆ¶    {        path: '/uploadAttachment',        name: 'uploadAttachment',        meta: {          title: 'ä¸Šä¼ é™„ä»¶'        },        component: () =&gt; import('@/view/components/uploadAttachment/index.vue')     }3) router ä¸­çš„å‘½åè§„èŒƒpathã€childrenPoints å‘½åè§„èŒƒé‡‡ç”¨kebab-caseå‘½åè§„èŒƒï¼ˆå°½é‡vueæ–‡ä»¶çš„ç›®å½•ç»“æ„ä¿æŒä¸€è‡´ï¼Œå› ä¸ºç›®å½•ã€æ–‡ä»¶åéƒ½æ˜¯kebab-caseï¼Œè¿™æ ·å¾ˆæ–¹ä¾¿æ‰¾åˆ°å¯¹åº”çš„æ–‡ä»¶ï¼‰name å‘½åè§„èŒƒé‡‡ç”¨KebabCaseå‘½åè§„èŒƒä¸”å’Œcomponentç»„ä»¶åä¿æŒä¸€è‡´ï¼ï¼ˆå› ä¸ºè¦ä¿æŒkeep-aliveç‰¹æ€§ï¼Œkeep-aliveæŒ‰ç…§componentçš„nameè¿›è¡Œç¼“å­˜ï¼Œæ‰€ä»¥ä¸¤è€…å¿…é¡»é«˜åº¦ä¿æŒä¸€è‡´ï¼‰// åŠ¨æ€åŠ è½½export const reload = [  {    path: '/reload',    name: 'reload',    component: Main,    meta: {      title: 'åŠ¨æ€åŠ è½½',      icon: 'icon iconfont'    },    children: [      {        path: '/reload/smart-reload-list',        name: 'SmartReloadList',        meta: {          title: 'SmartReload',          childrenPoints: [            {              title: 'æŸ¥è¯¢',              name: 'smart-reload-search'            },            {              title: 'æ‰§è¡Œreload',              name: 'smart-reload-update'            },            {              title: 'æŸ¥çœ‹æ‰§è¡Œç»“æœ',              name: 'smart-reload-result'            }          ]        },        component: () =&gt;          import('@/views/reload/smart-reload/smart-reload-list.vue')      }    ]  }];4) router ä¸­çš„ path å‘½åè§„èŒƒpathé™¤äº†é‡‡ç”¨kebab-caseå‘½åè§„èŒƒä»¥å¤–ï¼Œå¿…é¡»ä»¥ / å¼€å¤´ï¼Œå³ä½¿æ˜¯childrené‡Œçš„pathä¹Ÿè¦ä»¥ / å¼€å¤´ã€‚å¦‚ä¸‹ç¤ºä¾‹*ç›®çš„ï¼šç»å¸¸æœ‰è¿™æ ·çš„åœºæ™¯ï¼šæŸä¸ªé¡µé¢æœ‰é—®é¢˜ï¼Œè¦ç«‹åˆ»æ‰¾åˆ°è¿™ä¸ªvueæ–‡ä»¶ï¼Œå¦‚æœä¸ç”¨ä»¥/å¼€å¤´ï¼Œpathä¸ºparentå’Œchildrenç»„æˆçš„ï¼Œå¯èƒ½ç»å¸¸éœ€è¦åœ¨routeræ–‡ä»¶é‡Œæœç´¢å¤šæ¬¡æ‰èƒ½æ‰¾åˆ°ï¼Œè€Œå¦‚æœä»¥/å¼€å¤´ï¼Œåˆ™èƒ½ç«‹åˆ»æœç´¢åˆ°å¯¹åº”çš„ç»„ä»¶*{    path: '/file',    name: 'File',    component: Main,    meta: {      title: 'æ–‡ä»¶æœåŠ¡',      icon: 'ios-cloud-upload'    },    children: [      {        path: '/file/file-list',        name: 'FileList',        component: () =&gt; import('@/views/file/file-list.vue')      },      {        path: '/file/file-add',        name: 'FileAdd',        component: () =&gt; import('@/views/file/file-add.vue')      },      {        path: '/file/file-update',        name: 'FileUpdate',        component: () =&gt; import('@/views/file/file-update.vue')      }    ]  }(äºŒ) Vue é¡¹ç›®ç›®å½•è§„èŒƒ2.2.1 åŸºç¡€vue é¡¹ç›®ä¸­çš„æ‰€æœ‰å‘½åä¸€å®šè¦ä¸åç«¯å‘½åç»Ÿä¸€ã€‚æ¯”å¦‚æƒé™ï¼šåç«¯ privilege, å‰ç«¯æ— è®º router , store, api ç­‰éƒ½å¿…é¡»ä½¿ç”¨ privielege å•è¯ï¼2.2.2 ä½¿ç”¨ Vue-cli è„šæ‰‹æ¶ä½¿ç”¨ vue-cli3 æ¥åˆå§‹åŒ–é¡¹ç›®ï¼Œé¡¹ç›®åæŒ‰ç…§ä¸Šé¢çš„å‘½åè§„èŒƒã€‚2.2.3 ç›®å½•è¯´æ˜ç›®å½•åæŒ‰ç…§ä¸Šé¢çš„å‘½åè§„èŒƒï¼Œå…¶ä¸­ components ç»„ä»¶ç”¨å¤§å†™é©¼å³°ï¼Œå…¶ä½™é™¤ components ç»„ä»¶ç›®å½•å¤–çš„æ‰€æœ‰ç›®å½•å‡ä½¿ç”¨ kebab-case å‘½åã€‚src                               æºç ç›®å½•|-- api                              æ‰€æœ‰apiæ¥å£|-- assets                           é™æ€èµ„æºï¼Œimages, icons, stylesç­‰|-- components                       å…¬ç”¨ç»„ä»¶|-- config                           é…ç½®ä¿¡æ¯|-- constants                        å¸¸é‡ä¿¡æ¯ï¼Œé¡¹ç›®æ‰€æœ‰Enum, å…¨å±€å¸¸é‡ç­‰|-- directives                       è‡ªå®šä¹‰æŒ‡ä»¤|-- filters                          è¿‡æ»¤å™¨ï¼Œå…¨å±€å·¥å…·|-- datas                            æ¨¡æ‹Ÿæ•°æ®ï¼Œä¸´æ—¶å­˜æ”¾|-- lib                              å¤–éƒ¨å¼•ç”¨çš„æ’ä»¶å­˜æ”¾åŠä¿®æ”¹æ–‡ä»¶|-- mock                             æ¨¡æ‹Ÿæ¥å£ï¼Œä¸´æ—¶å­˜æ”¾|-- plugins                          æ’ä»¶ï¼Œå…¨å±€ä½¿ç”¨|-- router                           è·¯ç”±ï¼Œç»Ÿä¸€ç®¡ç†|-- store                            vuex, ç»Ÿä¸€ç®¡ç†|-- themes                           è‡ªå®šä¹‰æ ·å¼ä¸»é¢˜|-- views                            è§†å›¾ç›®å½•|   |-- role                             roleæ¨¡å—å|   |-- |-- role-list.vue                    roleåˆ—è¡¨é¡µé¢|   |-- |-- role-add.vue                     roleæ–°å»ºé¡µé¢|   |-- |-- role-update.vue                  roleæ›´æ–°é¡µé¢|   |-- |-- index.less                      roleæ¨¡å—æ ·å¼|   |-- |-- components                      roleæ¨¡å—é€šç”¨ç»„ä»¶æ–‡ä»¶å¤¹|   |-- employee                         employeeæ¨¡å—1) api ç›®å½•  æ–‡ä»¶ã€å˜é‡å‘½åè¦ä¸åç«¯ä¿æŒä¸€è‡´ã€‚  æ­¤ç›®å½•å¯¹åº”åç«¯ API æ¥å£ï¼ŒæŒ‰ç…§åç«¯ä¸€ä¸ª controller ä¸€ä¸ª api js æ–‡ä»¶ã€‚è‹¥é¡¹ç›®è¾ƒå¤§æ—¶ï¼Œå¯ä»¥æŒ‰ç…§ä¸šåŠ¡åˆ’åˆ†å­ç›®å½•ï¼Œå¹¶ä¸åç«¯ä¿æŒä¸€è‡´ã€‚  api ä¸­çš„æ–¹æ³•åå­—è¦ä¸åç«¯ api url å°½é‡ä¿æŒè¯­ä¹‰é«˜åº¦ä¸€è‡´æ€§ã€‚  å¯¹äº api ä¸­çš„æ¯ä¸ªæ–¹æ³•è¦æ·»åŠ æ³¨é‡Šï¼Œæ³¨é‡Šä¸åç«¯ swagger æ–‡æ¡£ä¿æŒä¸€è‡´ã€‚æ­£ä¾‹ï¼šåç«¯ urlï¼š EmployeeController.java/employee/add/employee/delete/{id}/employee/updateå‰ç«¯ï¼š employee.js  // æ·»åŠ å‘˜å·¥  addEmployee: (data) =&gt; {    return postAxios('/employee/add', data)  },  // æ›´æ–°å‘˜å·¥ä¿¡æ¯  updateEmployee: (data) =&gt; {    return postAxios('/employee/update', data)  },    // åˆ é™¤å‘˜å·¥  deleteEmployee: (employeeId) =&gt; {    return postAxios('/employee/delete/' + employeeId)   }2) assets ç›®å½•assets ä¸ºé™æ€èµ„æºï¼Œé‡Œé¢å­˜æ”¾ images, styles, icons ç­‰é™æ€èµ„æºï¼Œé™æ€èµ„æºå‘½åæ ¼å¼ä¸º kebab-case|assets|-- icons|-- images|   |-- background-color.png|   |-- upload-header.png|-- styles3) components ç›®å½•æ­¤ç›®å½•åº”æŒ‰ç…§ç»„ä»¶è¿›è¡Œç›®å½•åˆ’åˆ†ï¼Œç›®å½•å‘½åä¸º KebabCaseï¼Œç»„ä»¶å‘½åè§„åˆ™ä¹Ÿä¸º KebabCase|components|-- error-log|   |-- index.vue|   |-- index.less|-- markdown-editor|   |-- index.vue|   |-- index.js|-- kebab-case4) constants ç›®å½•æ­¤ç›®å½•å­˜æ”¾é¡¹ç›®æ‰€æœ‰å¸¸é‡ï¼Œå¦‚æœå¸¸é‡åœ¨ vue ä¸­ä½¿ç”¨ï¼Œè¯·ä½¿ç”¨ vue-enum æ’ä»¶(https://www.npmjs.com/package/vue-enum)ç›®å½•ç»“æ„ï¼š|constants|-- index.js|-- role.js|-- employee.jsä¾‹å­ï¼š employee.jsexport const EMPLOYEE_STATUS = {  NORMAL: {    value: 1,    desc: 'æ­£å¸¸'  },  DISABLED: {    value: 1,    desc: 'ç¦ç”¨'  },  DELETED: {    value: 2,    desc: 'å·²åˆ é™¤'  }};export const EMPLOYEE_ACCOUNT_TYPE = {  QQ: {    value: 1,    desc: 'QQç™»å½•'  },  WECHAT: {    value: 2,    desc: 'å¾®ä¿¡ç™»å½•'  },  DINGDING: {    value: 3,    desc: 'é’‰é’‰ç™»å½•'  },  USERNAME: {    value: 4,    desc: 'ç”¨æˆ·åå¯†ç ç™»å½•'  }};export default {  EMPLOYEE_STATUS,  EMPLOYEE_ACCOUNT_TYPE};5) router ä¸ store ç›®å½•è¿™ä¸¤ä¸ªç›®å½•ä¸€å®šè¦å°†ä¸šåŠ¡è¿›è¡Œæ‹†åˆ†ï¼Œä¸èƒ½æ”¾åˆ°ä¸€ä¸ª js æ–‡ä»¶é‡Œã€‚router å°½é‡æŒ‰ç…§ views ä¸­çš„ç»“æ„ä¿æŒä¸€è‡´store æŒ‰ç…§ä¸šåŠ¡è¿›è¡Œæ‹†åˆ†ä¸åŒçš„ js æ–‡ä»¶6) views ç›®å½•  å‘½åè¦ä¸åç«¯ã€routerã€api ç­‰ä¿æŒä¸€è‡´  components ä¸­ç»„ä»¶è¦ä½¿ç”¨ PascalCase è§„åˆ™|-- views                            è§†å›¾ç›®å½•|   |-- role                             roleæ¨¡å—å|   |   |-- role-list.vue                    roleåˆ—è¡¨é¡µé¢|   |   |-- role-add.vue                     roleæ–°å»ºé¡µé¢|   |   |-- role-update.vue                  roleæ›´æ–°é¡µé¢|   |   |-- index.less                      roleæ¨¡å—æ ·å¼|   |   |-- components                      roleæ¨¡å—é€šç”¨ç»„ä»¶æ–‡ä»¶å¤¹|   |   |   |-- role-header.vue                        roleå¤´éƒ¨ç»„ä»¶|   |   |   |-- role-modal.vue                         roleå¼¹å‡ºæ¡†ç»„ä»¶|   |-- employee                         employeeæ¨¡å—|   |-- behavior-log                      è¡Œä¸ºæ—¥å¿—logæ¨¡å—|   |-- code-generator                    ä»£ç ç”Ÿæˆå™¨æ¨¡å—2.2.4 æ³¨é‡Šè¯´æ˜æ•´ç†å¿…é¡»åŠ æ³¨é‡Šçš„åœ°æ–¹  å…¬å…±ç»„ä»¶ä½¿ç”¨è¯´æ˜  api ç›®å½•çš„æ¥å£ js æ–‡ä»¶å¿…é¡»åŠ æ³¨é‡Š  store ä¸­çš„ state, mutation, action ç­‰å¿…é¡»åŠ æ³¨é‡Š  vue æ–‡ä»¶ä¸­çš„ template å¿…é¡»åŠ æ³¨é‡Šï¼Œè‹¥æ–‡ä»¶è¾ƒå¤§æ·»åŠ  start end æ³¨é‡Š  vue æ–‡ä»¶çš„ methodsï¼Œæ¯ä¸ª method å¿…é¡»æ·»åŠ æ³¨é‡Š  vue æ–‡ä»¶çš„ data, éå¸¸è§å•è¯è¦åŠ æ³¨é‡Š2.2.5 å…¶ä»–1) å°½é‡ä¸è¦æ‰‹åŠ¨æ“ä½œ DOMå› ä½¿ç”¨ vue æ¡†æ¶ï¼Œæ‰€ä»¥åœ¨é¡¹ç›®å¼€å‘ä¸­å°½é‡ä½¿ç”¨ vue çš„æ•°æ®é©±åŠ¨æ›´æ–° DOMï¼Œå°½é‡ï¼ˆä¸åˆ°ä¸‡ä¸å¾—å·²ï¼‰ä¸è¦æ‰‹åŠ¨æ“ä½œ DOMï¼ŒåŒ…æ‹¬ï¼šå¢åˆ æ”¹ dom å…ƒç´ ã€ä»¥åŠæ›´æ”¹æ ·å¼ã€æ·»åŠ äº‹ä»¶ç­‰ã€‚2) åˆ é™¤æ— ç”¨ä»£ç å› ä½¿ç”¨äº† git/svn ç­‰ä»£ç ç‰ˆæœ¬å·¥å…·ï¼Œå¯¹äºæ— ç”¨ä»£ç å¿…é¡»åŠæ—¶åˆ é™¤ï¼Œä¾‹å¦‚ï¼šä¸€äº›è°ƒè¯•çš„ console è¯­å¥ã€æ— ç”¨çš„å¼ƒç”¨åŠŸèƒ½ä»£ç ã€‚"
}

]

